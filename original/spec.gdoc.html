<!DOCTYPE html>
<html>
<head>
<meta name="generator" content=
"HTML Tidy for HTML5 for Mac OS X version 5.1.25">
<script type="text/javascript">
(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){this.t[a]=[void 0!=b?b:(new Date).getTime(),c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(d){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_","_wtsrt",
d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})()
</script>
<script type="text/javascript">
var KX_timer = new window.jstiming.Timer(); KX_timer.name = 'published';
</script>
<title>AIML 2.0 Working Draft</title>
<link rel="shortcut icon" href=
"https://ssl.gstatic.com/docs/documents/images/kix-favicon6.ico">
<style type="text/css">
      body {
        font-family: arial, sans, sans-serif;
        margin: 0;
      }

      iframe {
        border: 0;
        frameborder: 0;
        height: 100%;
        width: 100%;
      }

      #header, #footer {
        background: #f0f0f0;
        padding: 10px 10px;
      }

      #header {
        border-bottom: 1px #ccc solid;
      }

      #footer {
        border-top: 1px #ccc solid;
        border-bottom: 1px #ccc solid;
        font-size: 13;
      }

      #contents {
        margin: 6px;
      }

      .dash {
        padding: 0 6px;
      }
</style>
</head>
<body>
<div id="header">AIML 2.0 Working Draft</div>
<div id="contents">
<style type="text/css">
@import url('https://themes.googleusercontent.com/fonts/css?kit=lhDjYqiy3mZ0x6ROQEUoUw');ul.lst-kix_xvixex41zi37-8{list-style-type:none}ul.lst-kix_xvixex41zi37-7{list-style-type:none}ul.lst-kix_xvixex41zi37-6{list-style-type:none}ul.lst-kix_xvixex41zi37-5{list-style-type:none}ul.lst-kix_xvixex41zi37-4{list-style-type:none}ul.lst-kix_xvixex41zi37-3{list-style-type:none}ul.lst-kix_xvixex41zi37-2{list-style-type:none}ul.lst-kix_xvixex41zi37-1{list-style-type:none}.lst-kix_jiaa11lcnatg-3>li{counter-increment:lst-ctn-kix_jiaa11lcnatg-3}ul.lst-kix_xvixex41zi37-0{list-style-type:none}.lst-kix_qd27kjy9doed-7>li:before{content:"\0025cb  "}.lst-kix_qd27kjy9doed-8>li:before{content:"\0025a0  "}.lst-kix_qd27kjy9doed-2>li:before{content:"\0025a0  "}.lst-kix_qd27kjy9doed-1>li:before{content:"\0025cb  "}.lst-kix_qd27kjy9doed-3>li:before{content:"\0025cf  "}.lst-kix_qd27kjy9doed-6>li:before{content:"\0025cf  "}.lst-kix_qd27kjy9doed-5>li:before{content:"\0025a0  "}.lst-kix_vhbxq7m98pek-7>li{counter-increment:lst-ctn-kix_vhbxq7m98pek-7}.lst-kix_qd27kjy9doed-4>li:before{content:"\0025cb  "}ol.lst-kix_jiaa11lcnatg-1.start{counter-reset:lst-ctn-kix_jiaa11lcnatg-1 0}.lst-kix_qd27kjy9doed-0>li:before{content:"\0025cf  "}ul.lst-kix_ph8oi3y4mg9q-2{list-style-type:none}ul.lst-kix_ph8oi3y4mg9q-1{list-style-type:none}ul.lst-kix_ph8oi3y4mg9q-0{list-style-type:none}ul.lst-kix_ph8oi3y4mg9q-6{list-style-type:none}ul.lst-kix_ph8oi3y4mg9q-5{list-style-type:none}ul.lst-kix_ph8oi3y4mg9q-4{list-style-type:none}ul.lst-kix_ph8oi3y4mg9q-3{list-style-type:none}ul.lst-kix_ph8oi3y4mg9q-8{list-style-type:none}ul.lst-kix_ph8oi3y4mg9q-7{list-style-type:none}.lst-kix_sd71brpojei7-8>li:before{content:"\0025a0  "}.lst-kix_sd71brpojei7-5>li:before{content:"\0025a0  "}.lst-kix_sd71brpojei7-6>li:before{content:"\0025cf  "}.lst-kix_sd71brpojei7-7>li:before{content:"\0025cb  "}.lst-kix_vhbxq7m98pek-3>li{counter-increment:lst-ctn-kix_vhbxq7m98pek-3}.lst-kix_jiaa11lcnatg-5>li:before{content:"" counter(lst-ctn-kix_jiaa11lcnatg-5,lower-roman) ". "}ul.lst-kix_vq7rpljsfqbm-1{list-style-type:none}ul.lst-kix_vq7rpljsfqbm-0{list-style-type:none}ul.lst-kix_vq7rpljsfqbm-3{list-style-type:none}ul.lst-kix_vq7rpljsfqbm-2{list-style-type:none}.lst-kix_jiaa11lcnatg-3>li:before{content:"" counter(lst-ctn-kix_jiaa11lcnatg-3,decimal) ". "}.lst-kix_jiaa11lcnatg-7>li:before{content:"" counter(lst-ctn-kix_jiaa11lcnatg-7,lower-latin) ". "}ul.lst-kix_vq7rpljsfqbm-5{list-style-type:none}ul.lst-kix_vq7rpljsfqbm-4{list-style-type:none}.lst-kix_jiaa11lcnatg-2>li:before{content:"" counter(lst-ctn-kix_jiaa11lcnatg-2,lower-roman) ". "}.lst-kix_jiaa11lcnatg-6>li:before{content:"" counter(lst-ctn-kix_jiaa11lcnatg-6,decimal) ". "}ul.lst-kix_vq7rpljsfqbm-7{list-style-type:none}ul.lst-kix_vq7rpljsfqbm-6{list-style-type:none}.lst-kix_jiaa11lcnatg-1>li:before{content:"" counter(lst-ctn-kix_jiaa11lcnatg-1,lower-latin) ". "}ul.lst-kix_vq7rpljsfqbm-8{list-style-type:none}.lst-kix_jiaa11lcnatg-0>li:before{content:"" counter(lst-ctn-kix_jiaa11lcnatg-0,decimal) ". "}.lst-kix_jiaa11lcnatg-8>li:before{content:"" counter(lst-ctn-kix_jiaa11lcnatg-8,lower-roman) ". "}.lst-kix_jiaa11lcnatg-4>li:before{content:"" counter(lst-ctn-kix_jiaa11lcnatg-4,lower-latin) ". "}ol.lst-kix_jiaa11lcnatg-6.start{counter-reset:lst-ctn-kix_jiaa11lcnatg-6 0}ol.lst-kix_vhbxq7m98pek-3.start{counter-reset:lst-ctn-kix_vhbxq7m98pek-3 0}.lst-kix_vhbxq7m98pek-6>li:before{content:"" counter(lst-ctn-kix_vhbxq7m98pek-6,decimal) ". "}.lst-kix_vhbxq7m98pek-8>li:before{content:"" counter(lst-ctn-kix_vhbxq7m98pek-8,lower-roman) ". "}.lst-kix_jg0sdtl4ie9w-1>li:before{content:"\0025cb  "}.lst-kix_jg0sdtl4ie9w-3>li:before{content:"\0025cf  "}.lst-kix_lx5eo772bnim-6>li:before{content:"\0025cf  "}.lst-kix_xq4mqxkp9z32-6>li:before{content:"\0025cf  "}.lst-kix_vhbxq7m98pek-2>li:before{content:"" counter(lst-ctn-kix_vhbxq7m98pek-2,lower-roman) ". "}.lst-kix_vhbxq7m98pek-4>li:before{content:"" counter(lst-ctn-kix_vhbxq7m98pek-4,lower-latin) ". "}.lst-kix_jg0sdtl4ie9w-5>li:before{content:"\0025a0  "}.lst-kix_xq4mqxkp9z32-0>li:before{content:"\0025cf  "}.lst-kix_xq4mqxkp9z32-8>li:before{content:"\0025a0  "}.lst-kix_lx5eo772bnim-8>li:before{content:"\0025a0  "}ul.lst-kix_jg0sdtl4ie9w-4{list-style-type:none}ul.lst-kix_jg0sdtl4ie9w-3{list-style-type:none}ul.lst-kix_jg0sdtl4ie9w-6{list-style-type:none}ul.lst-kix_sd71brpojei7-0{list-style-type:none}ul.lst-kix_jg0sdtl4ie9w-5{list-style-type:none}ul.lst-kix_sd71brpojei7-1{list-style-type:none}ul.lst-kix_jg0sdtl4ie9w-0{list-style-type:none}ul.lst-kix_sd71brpojei7-2{list-style-type:none}ul.lst-kix_sd71brpojei7-3{list-style-type:none}ul.lst-kix_jg0sdtl4ie9w-2{list-style-type:none}ul.lst-kix_sd71brpojei7-4{list-style-type:none}.lst-kix_xq4mqxkp9z32-2>li:before{content:"\0025a0  "}ul.lst-kix_jg0sdtl4ie9w-1{list-style-type:none}ul.lst-kix_sd71brpojei7-5{list-style-type:none}ul.lst-kix_sd71brpojei7-6{list-style-type:none}ul.lst-kix_sd71brpojei7-7{list-style-type:none}ul.lst-kix_sd71brpojei7-8{list-style-type:none}.lst-kix_jg0sdtl4ie9w-7>li:before{content:"\0025cb  "}ul.lst-kix_jg0sdtl4ie9w-8{list-style-type:none}ul.lst-kix_jg0sdtl4ie9w-7{list-style-type:none}.lst-kix_i4ons9s1knkb-7>li:before{content:"\0025cb  "}.lst-kix_xq4mqxkp9z32-4>li:before{content:"\0025cb  "}.lst-kix_52b6pkxv4jj6-4>li:before{content:"\0025cb  "}.lst-kix_sd71brpojei7-0>li:before{content:"\0025cf  "}.lst-kix_sd71brpojei7-2>li:before{content:"\0025a0  "}.lst-kix_52b6pkxv4jj6-6>li:before{content:"\0025cf  "}.lst-kix_i4ons9s1knkb-5>li:before{content:"\0025a0  "}.lst-kix_52b6pkxv4jj6-8>li:before{content:"\0025a0  "}.lst-kix_sd71brpojei7-4>li:before{content:"\0025cb  "}.lst-kix_kpn5w7nemyvl-5>li:before{content:"\0025a0  "}.lst-kix_kpn5w7nemyvl-7>li:before{content:"\0025cb  "}.lst-kix_73lchud4zita-4>li:before{content:"\0025cb  "}.lst-kix_i4ons9s1knkb-3>li:before{content:"\0025cf  "}.lst-kix_73lchud4zita-6>li:before{content:"\0025cf  "}.lst-kix_vhbxq7m98pek-0>li:before{content:"" counter(lst-ctn-kix_vhbxq7m98pek-0,decimal) ". "}.lst-kix_kpn5w7nemyvl-1>li:before{content:"\0025cb  "}.lst-kix_kpn5w7nemyvl-3>li:before{content:"\0025cf  "}.lst-kix_i4ons9s1knkb-1>li:before{content:"\0025cb  "}.lst-kix_73lchud4zita-8>li:before{content:"\0025a0  "}.lst-kix_xvixex41zi37-3>li:before{content:"\0025cf  "}ul.lst-kix_izsqvrx0o2jx-0{list-style-type:none}ul.lst-kix_izsqvrx0o2jx-2{list-style-type:none}ul.lst-kix_izsqvrx0o2jx-1{list-style-type:none}ul.lst-kix_izsqvrx0o2jx-4{list-style-type:none}ul.lst-kix_izsqvrx0o2jx-3{list-style-type:none}.lst-kix_xvixex41zi37-7>li:before{content:"\0025cb  "}ul.lst-kix_izsqvrx0o2jx-6{list-style-type:none}ul.lst-kix_izsqvrx0o2jx-5{list-style-type:none}ul.lst-kix_izsqvrx0o2jx-8{list-style-type:none}ul.lst-kix_izsqvrx0o2jx-7{list-style-type:none}.lst-kix_xvixex41zi37-5>li:before{content:"\0025a0  "}.lst-kix_73lchud4zita-2>li:before{content:"\0025a0  "}ol.lst-kix_vhbxq7m98pek-5.start{counter-reset:lst-ctn-kix_vhbxq7m98pek-5 0}.lst-kix_73lchud4zita-0>li:before{content:"\0025cf  "}.lst-kix_2iaarc3ciocj-0>li:before{content:"\0025cf  "}.lst-kix_52b6pkxv4jj6-2>li:before{content:"\0025a0  "}.lst-kix_52b6pkxv4jj6-0>li:before{content:"\0025cf  "}.lst-kix_2iaarc3ciocj-2>li:before{content:"\0025a0  "}ol.lst-kix_jiaa11lcnatg-3.start{counter-reset:lst-ctn-kix_jiaa11lcnatg-3 0}.lst-kix_xvixex41zi37-1>li:before{content:"\0025cb  "}ul.lst-kix_i4ons9s1knkb-3{list-style-type:none}ul.lst-kix_i4ons9s1knkb-4{list-style-type:none}ul.lst-kix_i4ons9s1knkb-1{list-style-type:none}.lst-kix_rj5kpw46fyrm-7>li:before{content:"\0025cb  "}ul.lst-kix_i4ons9s1knkb-2{list-style-type:none}ul.lst-kix_i4ons9s1knkb-7{list-style-type:none}ul.lst-kix_kpn5w7nemyvl-3{list-style-type:none}ul.lst-kix_i4ons9s1knkb-8{list-style-type:none}ul.lst-kix_kpn5w7nemyvl-2{list-style-type:none}ul.lst-kix_i4ons9s1knkb-5{list-style-type:none}ul.lst-kix_kpn5w7nemyvl-1{list-style-type:none}ul.lst-kix_i4ons9s1knkb-6{list-style-type:none}ul.lst-kix_kpn5w7nemyvl-0{list-style-type:none}ul.lst-kix_kpn5w7nemyvl-7{list-style-type:none}ul.lst-kix_73lchud4zita-4{list-style-type:none}ul.lst-kix_kpn5w7nemyvl-6{list-style-type:none}ul.lst-kix_73lchud4zita-3{list-style-type:none}ul.lst-kix_kpn5w7nemyvl-5{list-style-type:none}ul.lst-kix_73lchud4zita-2{list-style-type:none}.lst-kix_rj5kpw46fyrm-3>li:before{content:"\0025cf  "}ul.lst-kix_kpn5w7nemyvl-4{list-style-type:none}ul.lst-kix_73lchud4zita-1{list-style-type:none}ul.lst-kix_73lchud4zita-0{list-style-type:none}.lst-kix_rj5kpw46fyrm-4>li:before{content:"\0025cb  "}ul.lst-kix_i4ons9s1knkb-0{list-style-type:none}ul.lst-kix_kpn5w7nemyvl-8{list-style-type:none}.lst-kix_jiaa11lcnatg-4>li{counter-increment:lst-ctn-kix_jiaa11lcnatg-4}.lst-kix_2iaarc3ciocj-8>li:before{content:"\0025a0  "}.lst-kix_tg5ba8dpx39n-1>li:before{content:"\0025cb  "}ul.lst-kix_73lchud4zita-8{list-style-type:none}ul.lst-kix_73lchud4zita-7{list-style-type:none}ul.lst-kix_73lchud4zita-6{list-style-type:none}ul.lst-kix_73lchud4zita-5{list-style-type:none}.lst-kix_2iaarc3ciocj-4>li:before{content:"\0025cb  "}.lst-kix_2iaarc3ciocj-5>li:before{content:"\0025a0  "}.lst-kix_rj5kpw46fyrm-0>li:before{content:"\0025cf  "}.lst-kix_tg5ba8dpx39n-2>li:before{content:"\0025a0  "}.lst-kix_v2iicrc2f9ry-1>li:before{content:"\0025cb  "}.lst-kix_izsqvrx0o2jx-5>li:before{content:"\0025a0  "}.lst-kix_izsqvrx0o2jx-2>li:before{content:"\0025a0  "}.lst-kix_izsqvrx0o2jx-6>li:before{content:"\0025cf  "}.lst-kix_tg5ba8dpx39n-5>li:before{content:"\0025a0  "}ol.lst-kix_jiaa11lcnatg-4.start{counter-reset:lst-ctn-kix_jiaa11lcnatg-4 0}.lst-kix_v2iicrc2f9ry-2>li:before{content:"\0025a0  "}ol.lst-kix_vhbxq7m98pek-7.start{counter-reset:lst-ctn-kix_vhbxq7m98pek-7 0}.lst-kix_tg5ba8dpx39n-6>li:before{content:"\0025cf  "}ul.lst-kix_v2iicrc2f9ry-8{list-style-type:none}ul.lst-kix_v2iicrc2f9ry-7{list-style-type:none}ul.lst-kix_v2iicrc2f9ry-6{list-style-type:none}ul.lst-kix_v2iicrc2f9ry-5{list-style-type:none}ul.lst-kix_v2iicrc2f9ry-4{list-style-type:none}.lst-kix_v2iicrc2f9ry-5>li:before{content:"\0025a0  "}ul.lst-kix_v2iicrc2f9ry-3{list-style-type:none}ul.lst-kix_v2iicrc2f9ry-2{list-style-type:none}ul.lst-kix_v2iicrc2f9ry-1{list-style-type:none}ul.lst-kix_v2iicrc2f9ry-0{list-style-type:none}.lst-kix_rj5kpw46fyrm-8>li:before{content:"\0025a0  "}.lst-kix_v2iicrc2f9ry-6>li:before{content:"\0025cf  "}ol.lst-kix_vhbxq7m98pek-8.start{counter-reset:lst-ctn-kix_vhbxq7m98pek-8 0}.lst-kix_ph8oi3y4mg9q-6>li:before{content:"\0025cf  "}.lst-kix_ph8oi3y4mg9q-1>li:before{content:"\0025cb  "}.lst-kix_ph8oi3y4mg9q-5>li:before{content:"\0025a0  "}.lst-kix_izsqvrx0o2jx-1>li:before{content:"\0025cb  "}.lst-kix_ph8oi3y4mg9q-2>li:before{content:"\0025a0  "}.lst-kix_jiaa11lcnatg-8>li{counter-increment:lst-ctn-kix_jiaa11lcnatg-8}ul.lst-kix_aa3nhozg1boc-0{list-style-type:none}ul.lst-kix_aa3nhozg1boc-2{list-style-type:none}ul.lst-kix_aa3nhozg1boc-1{list-style-type:none}ul.lst-kix_aa3nhozg1boc-4{list-style-type:none}ul.lst-kix_aa3nhozg1boc-3{list-style-type:none}ul.lst-kix_aa3nhozg1boc-6{list-style-type:none}.lst-kix_lx5eo772bnim-4>li:before{content:"\0025cb  "}ul.lst-kix_aa3nhozg1boc-5{list-style-type:none}ul.lst-kix_aa3nhozg1boc-8{list-style-type:none}.lst-kix_lx5eo772bnim-3>li:before{content:"\0025cf  "}ul.lst-kix_aa3nhozg1boc-7{list-style-type:none}.lst-kix_jg0sdtl4ie9w-0>li:before{content:"\0025cf  "}.lst-kix_xq4mqxkp9z32-7>li:before{content:"\0025cb  "}.lst-kix_lx5eo772bnim-7>li:before{content:"\0025cb  "}.lst-kix_vhbxq7m98pek-5>li:before{content:"" counter(lst-ctn-kix_vhbxq7m98pek-5,lower-roman) ". "}.lst-kix_fpq8ttz6x03v-7>li:before{content:"\0025cb  "}.lst-kix_vhbxq7m98pek-0>li{counter-increment:lst-ctn-kix_vhbxq7m98pek-0}.lst-kix_gmoqxu2vdwlw-5>li:before{content:"\0025a0  "}.lst-kix_2qj955quw836-8>li:before{content:"\0025a0  "}.lst-kix_jg0sdtl4ie9w-4>li:before{content:"\0025cb  "}.lst-kix_lx5eo772bnim-0>li:before{content:"\0025cf  "}.lst-kix_het5xkwz0xn-1>li:before{content:"\0025cb  "}.lst-kix_gmoqxu2vdwlw-1>li:before{content:"\0025cb  "}.lst-kix_fpq8ttz6x03v-3>li:before{content:"\0025cf  "}.lst-kix_xq4mqxkp9z32-3>li:before{content:"\0025cf  "}.lst-kix_jg0sdtl4ie9w-8>li:before{content:"\0025a0  "}.lst-kix_i4ons9s1knkb-6>li:before{content:"\0025cf  "}ul.lst-kix_fpq8ttz6x03v-7{list-style-type:none}ul.lst-kix_fpq8ttz6x03v-8{list-style-type:none}ul.lst-kix_fpq8ttz6x03v-5{list-style-type:none}ul.lst-kix_fpq8ttz6x03v-6{list-style-type:none}ul.lst-kix_fpq8ttz6x03v-3{list-style-type:none}.lst-kix_52b6pkxv4jj6-5>li:before{content:"\0025a0  "}ul.lst-kix_fpq8ttz6x03v-4{list-style-type:none}ul.lst-kix_fpq8ttz6x03v-1{list-style-type:none}ul.lst-kix_fpq8ttz6x03v-2{list-style-type:none}.lst-kix_hobto01nnc06-2>li:before{content:"\0025a0  "}ul.lst-kix_fpq8ttz6x03v-0{list-style-type:none}.lst-kix_i4ons9s1knkb-2>li:before{content:"\0025a0  "}.lst-kix_sd71brpojei7-3>li:before{content:"\0025cf  "}ol.lst-kix_jiaa11lcnatg-8.start{counter-reset:lst-ctn-kix_jiaa11lcnatg-8 0}.lst-kix_kpn5w7nemyvl-6>li:before{content:"\0025cf  "}.lst-kix_hobto01nnc06-6>li:before{content:"\0025cf  "}.lst-kix_vhbxq7m98pek-1>li:before{content:"" counter(lst-ctn-kix_vhbxq7m98pek-1,lower-latin) ". "}.lst-kix_73lchud4zita-7>li:before{content:"\0025cb  "}.lst-kix_583n1z5l6fkp-0>li:before{content:"\0025cf  "}.lst-kix_kpn5w7nemyvl-2>li:before{content:"\0025a0  "}.lst-kix_xvixex41zi37-4>li:before{content:"\0025cb  "}.lst-kix_jiaa11lcnatg-6>li{counter-increment:lst-ctn-kix_jiaa11lcnatg-6}.lst-kix_583n1z5l6fkp-4>li:before{content:"\0025cb  "}.lst-kix_583n1z5l6fkp-8>li:before{content:"\0025a0  "}.lst-kix_vq7rpljsfqbm-4>li:before{content:"\0025cb  "}.lst-kix_jiaa11lcnatg-1>li{counter-increment:lst-ctn-kix_jiaa11lcnatg-1}.lst-kix_73lchud4zita-3>li:before{content:"\0025cf  "}.lst-kix_xvixex41zi37-8>li:before{content:"\0025a0  "}.lst-kix_8g38e1fatzd0-0>li:before{content:"\0025cf  "}.lst-kix_vq7rpljsfqbm-8>li:before{content:"\0025a0  "}.lst-kix_52b6pkxv4jj6-1>li:before{content:"\0025cb  "}.lst-kix_2qj955quw836-0>li:before{content:"\0025cf  "}.lst-kix_2iaarc3ciocj-1>li:before{content:"\0025cb  "}.lst-kix_vhbxq7m98pek-5>li{counter-increment:lst-ctn-kix_vhbxq7m98pek-5}.lst-kix_het5xkwz0xn-5>li:before{content:"\0025a0  "}.lst-kix_xvixex41zi37-0>li:before{content:"\0025cf  "}.lst-kix_vq7rpljsfqbm-0>li:before{content:"\0025cf  "}.lst-kix_2qj955quw836-4>li:before{content:"\0025cb  "}.lst-kix_knwoc0hecdrp-8>li:before{content:"\0025a0  "}.lst-kix_knwoc0hecdrp-7>li:before{content:"\0025cb  "}.lst-kix_bku3nfld1lfr-8>li:before{content:"\0025a0  "}.lst-kix_bku3nfld1lfr-7>li:before{content:"\0025cb  "}.lst-kix_knwoc0hecdrp-4>li:before{content:"\0025cb  "}ul.lst-kix_xq4mqxkp9z32-7{list-style-type:none}ul.lst-kix_xq4mqxkp9z32-8{list-style-type:none}.lst-kix_knwoc0hecdrp-5>li:before{content:"\0025a0  "}.lst-kix_knwoc0hecdrp-6>li:before{content:"\0025cf  "}ul.lst-kix_xq4mqxkp9z32-3{list-style-type:none}ul.lst-kix_xq4mqxkp9z32-4{list-style-type:none}ul.lst-kix_xq4mqxkp9z32-5{list-style-type:none}.lst-kix_bku3nfld1lfr-1>li:before{content:"\0025cb  "}ul.lst-kix_xq4mqxkp9z32-6{list-style-type:none}.lst-kix_knwoc0hecdrp-0>li:before{content:"\0025cf  "}.lst-kix_knwoc0hecdrp-1>li:before{content:"\0025cb  "}.lst-kix_bku3nfld1lfr-2>li:before{content:"\0025a0  "}.lst-kix_bku3nfld1lfr-3>li:before{content:"\0025cf  "}.lst-kix_knwoc0hecdrp-3>li:before{content:"\0025cf  "}.lst-kix_bku3nfld1lfr-4>li:before{content:"\0025cb  "}.lst-kix_bku3nfld1lfr-6>li:before{content:"\0025cf  "}.lst-kix_knwoc0hecdrp-2>li:before{content:"\0025a0  "}.lst-kix_bku3nfld1lfr-5>li:before{content:"\0025a0  "}ul.lst-kix_52b6pkxv4jj6-1{list-style-type:none}ul.lst-kix_52b6pkxv4jj6-2{list-style-type:none}ul.lst-kix_52b6pkxv4jj6-3{list-style-type:none}ul.lst-kix_het5xkwz0xn-8{list-style-type:none}ul.lst-kix_52b6pkxv4jj6-4{list-style-type:none}ul.lst-kix_het5xkwz0xn-7{list-style-type:none}ul.lst-kix_52b6pkxv4jj6-0{list-style-type:none}ul.lst-kix_lx5eo772bnim-6{list-style-type:none}.lst-kix_8g38e1fatzd0-3>li:before{content:"\0025cf  "}ul.lst-kix_lx5eo772bnim-7{list-style-type:none}ul.lst-kix_lx5eo772bnim-8{list-style-type:none}ul.lst-kix_lx5eo772bnim-2{list-style-type:none}.lst-kix_8g38e1fatzd0-4>li:before{content:"\0025cb  "}.lst-kix_8g38e1fatzd0-5>li:before{content:"\0025a0  "}ul.lst-kix_lx5eo772bnim-3{list-style-type:none}ul.lst-kix_lx5eo772bnim-4{list-style-type:none}ul.lst-kix_lx5eo772bnim-5{list-style-type:none}.lst-kix_8g38e1fatzd0-6>li:before{content:"\0025cf  "}.lst-kix_8g38e1fatzd0-7>li:before{content:"\0025cb  "}ul.lst-kix_xq4mqxkp9z32-0{list-style-type:none}ul.lst-kix_lx5eo772bnim-0{list-style-type:none}ul.lst-kix_xq4mqxkp9z32-1{list-style-type:none}ul.lst-kix_lx5eo772bnim-1{list-style-type:none}.lst-kix_bku3nfld1lfr-0>li:before{content:"\0025cf  "}ul.lst-kix_xq4mqxkp9z32-2{list-style-type:none}ol.lst-kix_vhbxq7m98pek-4.start{counter-reset:lst-ctn-kix_vhbxq7m98pek-4 0}ul.lst-kix_52b6pkxv4jj6-5{list-style-type:none}ul.lst-kix_52b6pkxv4jj6-6{list-style-type:none}.lst-kix_8g38e1fatzd0-8>li:before{content:"\0025a0  "}ul.lst-kix_52b6pkxv4jj6-7{list-style-type:none}ul.lst-kix_52b6pkxv4jj6-8{list-style-type:none}ol.lst-kix_jiaa11lcnatg-0.start{counter-reset:lst-ctn-kix_jiaa11lcnatg-0 0}.lst-kix_h0817u6bzfgr-5>li:before{content:"\0025a0  "}.lst-kix_h0817u6bzfgr-7>li:before{content:"\0025cb  "}ol.lst-kix_jiaa11lcnatg-7.start{counter-reset:lst-ctn-kix_jiaa11lcnatg-7 0}.lst-kix_h0817u6bzfgr-4>li:before{content:"\0025cb  "}.lst-kix_h0817u6bzfgr-8>li:before{content:"\0025a0  "}.lst-kix_h0817u6bzfgr-6>li:before{content:"\0025cf  "}.lst-kix_h0817u6bzfgr-0>li:before{content:"\0025cf  "}.lst-kix_h0817u6bzfgr-1>li:before{content:"\0025cb  "}.lst-kix_h0817u6bzfgr-3>li:before{content:"\0025cf  "}.lst-kix_h0817u6bzfgr-2>li:before{content:"\0025a0  "}.lst-kix_aa3nhozg1boc-1>li:before{content:"\0025cb  "}.lst-kix_aa3nhozg1boc-0>li:before{content:"\0025cf  "}.lst-kix_aa3nhozg1boc-4>li:before{content:"\0025cb  "}.lst-kix_jiaa11lcnatg-5>li{counter-increment:lst-ctn-kix_jiaa11lcnatg-5}.lst-kix_aa3nhozg1boc-3>li:before{content:"\0025cf  "}.lst-kix_aa3nhozg1boc-2>li:before{content:"\0025a0  "}.lst-kix_aa3nhozg1boc-7>li:before{content:"\0025cb  "}.lst-kix_aa3nhozg1boc-8>li:before{content:"\0025a0  "}.lst-kix_aa3nhozg1boc-5>li:before{content:"\0025a0  "}.lst-kix_aa3nhozg1boc-6>li:before{content:"\0025cf  "}.lst-kix_gmoqxu2vdwlw-8>li:before{content:"\0025a0  "}.lst-kix_gmoqxu2vdwlw-6>li:before{content:"\0025cf  "}.lst-kix_het5xkwz0xn-8>li:before{content:"\0025a0  "}.lst-kix_fpq8ttz6x03v-6>li:before{content:"\0025cf  "}ol.lst-kix_jiaa11lcnatg-5.start{counter-reset:lst-ctn-kix_jiaa11lcnatg-5 0}.lst-kix_gmoqxu2vdwlw-4>li:before{content:"\0025cb  "}.lst-kix_2qj955quw836-7>li:before{content:"\0025cb  "}.lst-kix_het5xkwz0xn-2>li:before{content:"\0025a0  "}.lst-kix_fpq8ttz6x03v-4>li:before{content:"\0025cb  "}.lst-kix_gmoqxu2vdwlw-0>li:before{content:"\0025cf  "}.lst-kix_gmoqxu2vdwlw-2>li:before{content:"\0025a0  "}.lst-kix_het5xkwz0xn-0>li:before{content:"\0025cf  "}.lst-kix_fpq8ttz6x03v-2>li:before{content:"\0025a0  "}ol.lst-kix_jiaa11lcnatg-2.start{counter-reset:lst-ctn-kix_jiaa11lcnatg-2 0}.lst-kix_fpq8ttz6x03v-0>li:before{content:"\0025cf  "}.lst-kix_hobto01nnc06-1>li:before{content:"\0025cb  "}.lst-kix_hobto01nnc06-3>li:before{content:"\0025cf  "}ul.lst-kix_qd27kjy9doed-3{list-style-type:none}ul.lst-kix_qd27kjy9doed-2{list-style-type:none}.lst-kix_hobto01nnc06-5>li:before{content:"\0025a0  "}ul.lst-kix_qd27kjy9doed-1{list-style-type:none}ul.lst-kix_qd27kjy9doed-0{list-style-type:none}ul.lst-kix_qd27kjy9doed-7{list-style-type:none}ul.lst-kix_qd27kjy9doed-6{list-style-type:none}.lst-kix_hobto01nnc06-7>li:before{content:"\0025cb  "}ul.lst-kix_qd27kjy9doed-5{list-style-type:none}ul.lst-kix_qd27kjy9doed-4{list-style-type:none}.lst-kix_vhbxq7m98pek-1>li{counter-increment:lst-ctn-kix_vhbxq7m98pek-1}.lst-kix_583n1z5l6fkp-3>li:before{content:"\0025cf  "}ul.lst-kix_qd27kjy9doed-8{list-style-type:none}.lst-kix_583n1z5l6fkp-1>li:before{content:"\0025cb  "}.lst-kix_vq7rpljsfqbm-3>li:before{content:"\0025cf  "}.lst-kix_583n1z5l6fkp-7>li:before{content:"\0025cb  "}ul.lst-kix_knwoc0hecdrp-8{list-style-type:none}ul.lst-kix_knwoc0hecdrp-7{list-style-type:none}ul.lst-kix_knwoc0hecdrp-6{list-style-type:none}ul.lst-kix_knwoc0hecdrp-5{list-style-type:none}ul.lst-kix_knwoc0hecdrp-4{list-style-type:none}ul.lst-kix_knwoc0hecdrp-3{list-style-type:none}ul.lst-kix_knwoc0hecdrp-2{list-style-type:none}ul.lst-kix_knwoc0hecdrp-1{list-style-type:none}ul.lst-kix_knwoc0hecdrp-0{list-style-type:none}.lst-kix_vq7rpljsfqbm-5>li:before{content:"\0025a0  "}.lst-kix_583n1z5l6fkp-5>li:before{content:"\0025a0  "}.lst-kix_vq7rpljsfqbm-7>li:before{content:"\0025cb  "}.lst-kix_8g38e1fatzd0-1>li:before{content:"\0025cb  "}.lst-kix_2qj955quw836-1>li:before{content:"\0025cb  "}.lst-kix_vhbxq7m98pek-2>li{counter-increment:lst-ctn-kix_vhbxq7m98pek-2}.lst-kix_2qj955quw836-5>li:before{content:"\0025a0  "}.lst-kix_vhbxq7m98pek-8>li{counter-increment:lst-ctn-kix_vhbxq7m98pek-8}.lst-kix_het5xkwz0xn-4>li:before{content:"\0025cb  "}ol.lst-kix_vhbxq7m98pek-6.start{counter-reset:lst-ctn-kix_vhbxq7m98pek-6 0}.lst-kix_vq7rpljsfqbm-1>li:before{content:"\0025cb  "}.lst-kix_2qj955quw836-3>li:before{content:"\0025cf  "}.lst-kix_het5xkwz0xn-6>li:before{content:"\0025cf  "}ul.lst-kix_tg5ba8dpx39n-4{list-style-type:none}.lst-kix_rj5kpw46fyrm-6>li:before{content:"\0025cf  "}ul.lst-kix_tg5ba8dpx39n-5{list-style-type:none}ul.lst-kix_tg5ba8dpx39n-2{list-style-type:none}.lst-kix_rj5kpw46fyrm-5>li:before{content:"\0025a0  "}ul.lst-kix_tg5ba8dpx39n-3{list-style-type:none}ul.lst-kix_tg5ba8dpx39n-0{list-style-type:none}ul.lst-kix_tg5ba8dpx39n-1{list-style-type:none}ul.lst-kix_bku3nfld1lfr-6{list-style-type:none}ul.lst-kix_bku3nfld1lfr-5{list-style-type:none}ul.lst-kix_bku3nfld1lfr-4{list-style-type:none}ul.lst-kix_bku3nfld1lfr-3{list-style-type:none}ul.lst-kix_tg5ba8dpx39n-8{list-style-type:none}ul.lst-kix_tg5ba8dpx39n-6{list-style-type:none}ul.lst-kix_bku3nfld1lfr-8{list-style-type:none}ul.lst-kix_tg5ba8dpx39n-7{list-style-type:none}ul.lst-kix_bku3nfld1lfr-7{list-style-type:none}.lst-kix_2iaarc3ciocj-7>li:before{content:"\0025cb  "}.lst-kix_2iaarc3ciocj-6>li:before{content:"\0025cf  "}.lst-kix_tg5ba8dpx39n-0>li:before{content:"\0025cf  "}.lst-kix_2iaarc3ciocj-3>li:before{content:"\0025cf  "}.lst-kix_rj5kpw46fyrm-2>li:before{content:"\0025a0  "}.lst-kix_vhbxq7m98pek-6>li{counter-increment:lst-ctn-kix_vhbxq7m98pek-6}.lst-kix_rj5kpw46fyrm-1>li:before{content:"\0025cb  "}.lst-kix_tg5ba8dpx39n-3>li:before{content:"\0025cf  "}ol.lst-kix_vhbxq7m98pek-3{list-style-type:none}ol.lst-kix_vhbxq7m98pek-4{list-style-type:none}ol.lst-kix_vhbxq7m98pek-5{list-style-type:none}ol.lst-kix_vhbxq7m98pek-6{list-style-type:none}.lst-kix_tg5ba8dpx39n-7>li:before{content:"\0025cb  "}.lst-kix_izsqvrx0o2jx-3>li:before{content:"\0025cf  "}ol.lst-kix_vhbxq7m98pek-0{list-style-type:none}ol.lst-kix_vhbxq7m98pek-1{list-style-type:none}.lst-kix_v2iicrc2f9ry-0>li:before{content:"\0025cf  "}.lst-kix_v2iicrc2f9ry-4>li:before{content:"\0025cb  "}ol.lst-kix_vhbxq7m98pek-2{list-style-type:none}.lst-kix_tg5ba8dpx39n-4>li:before{content:"\0025cb  "}.lst-kix_tg5ba8dpx39n-8>li:before{content:"\0025a0  "}.lst-kix_vhbxq7m98pek-4>li{counter-increment:lst-ctn-kix_vhbxq7m98pek-4}ol.lst-kix_vhbxq7m98pek-7{list-style-type:none}.lst-kix_v2iicrc2f9ry-3>li:before{content:"\0025cf  "}ol.lst-kix_vhbxq7m98pek-8{list-style-type:none}.lst-kix_izsqvrx0o2jx-4>li:before{content:"\0025cb  "}ul.lst-kix_gmoqxu2vdwlw-0{list-style-type:none}ul.lst-kix_bku3nfld1lfr-2{list-style-type:none}ul.lst-kix_gmoqxu2vdwlw-1{list-style-type:none}ul.lst-kix_bku3nfld1lfr-1{list-style-type:none}.lst-kix_v2iicrc2f9ry-8>li:before{content:"\0025a0  "}ul.lst-kix_bku3nfld1lfr-0{list-style-type:none}ul.lst-kix_gmoqxu2vdwlw-4{list-style-type:none}ul.lst-kix_gmoqxu2vdwlw-5{list-style-type:none}ul.lst-kix_gmoqxu2vdwlw-2{list-style-type:none}ol.lst-kix_vhbxq7m98pek-1.start{counter-reset:lst-ctn-kix_vhbxq7m98pek-1 0}ul.lst-kix_gmoqxu2vdwlw-3{list-style-type:none}.lst-kix_izsqvrx0o2jx-7>li:before{content:"\0025cb  "}.lst-kix_v2iicrc2f9ry-7>li:before{content:"\0025cb  "}ul.lst-kix_gmoqxu2vdwlw-8{list-style-type:none}ul.lst-kix_gmoqxu2vdwlw-6{list-style-type:none}ul.lst-kix_gmoqxu2vdwlw-7{list-style-type:none}.lst-kix_izsqvrx0o2jx-8>li:before{content:"\0025a0  "}ul.lst-kix_rj5kpw46fyrm-8{list-style-type:none}ul.lst-kix_rj5kpw46fyrm-6{list-style-type:none}ul.lst-kix_rj5kpw46fyrm-7{list-style-type:none}.lst-kix_ph8oi3y4mg9q-8>li:before{content:"\0025a0  "}ul.lst-kix_rj5kpw46fyrm-4{list-style-type:none}ul.lst-kix_rj5kpw46fyrm-5{list-style-type:none}.lst-kix_ph8oi3y4mg9q-7>li:before{content:"\0025cb  "}ul.lst-kix_rj5kpw46fyrm-2{list-style-type:none}ul.lst-kix_rj5kpw46fyrm-3{list-style-type:none}ul.lst-kix_rj5kpw46fyrm-0{list-style-type:none}ul.lst-kix_rj5kpw46fyrm-1{list-style-type:none}.lst-kix_ph8oi3y4mg9q-3>li:before{content:"\0025cf  "}.lst-kix_ph8oi3y4mg9q-0>li:before{content:"\0025cf  "}.lst-kix_ph8oi3y4mg9q-4>li:before{content:"\0025cb  "}.lst-kix_izsqvrx0o2jx-0>li:before{content:"\0025cf  "}ol.lst-kix_vhbxq7m98pek-2.start{counter-reset:lst-ctn-kix_vhbxq7m98pek-2 0}ul.lst-kix_8g38e1fatzd0-1{list-style-type:none}ul.lst-kix_8g38e1fatzd0-0{list-style-type:none}ul.lst-kix_8g38e1fatzd0-3{list-style-type:none}ul.lst-kix_8g38e1fatzd0-2{list-style-type:none}ul.lst-kix_8g38e1fatzd0-8{list-style-type:none}.lst-kix_lx5eo772bnim-1>li:before{content:"\0025cb  "}ul.lst-kix_8g38e1fatzd0-5{list-style-type:none}.lst-kix_lx5eo772bnim-2>li:before{content:"\0025a0  "}ul.lst-kix_8g38e1fatzd0-4{list-style-type:none}ul.lst-kix_8g38e1fatzd0-7{list-style-type:none}ul.lst-kix_8g38e1fatzd0-6{list-style-type:none}.lst-kix_jiaa11lcnatg-2>li{counter-increment:lst-ctn-kix_jiaa11lcnatg-2}.lst-kix_lx5eo772bnim-5>li:before{content:"\0025a0  "}.lst-kix_fpq8ttz6x03v-8>li:before{content:"\0025a0  "}.lst-kix_vhbxq7m98pek-7>li:before{content:"" counter(lst-ctn-kix_vhbxq7m98pek-7,lower-latin) ". "}ul.lst-kix_2iaarc3ciocj-8{list-style-type:none}.lst-kix_gmoqxu2vdwlw-7>li:before{content:"\0025cb  "}ul.lst-kix_2iaarc3ciocj-6{list-style-type:none}ul.lst-kix_2iaarc3ciocj-7{list-style-type:none}ul.lst-kix_2iaarc3ciocj-4{list-style-type:none}.lst-kix_jg0sdtl4ie9w-2>li:before{content:"\0025a0  "}.lst-kix_jg0sdtl4ie9w-6>li:before{content:"\0025cf  "}ul.lst-kix_2iaarc3ciocj-5{list-style-type:none}.lst-kix_vhbxq7m98pek-3>li:before{content:"" counter(lst-ctn-kix_vhbxq7m98pek-3,decimal) ". "}ul.lst-kix_2iaarc3ciocj-2{list-style-type:none}.lst-kix_fpq8ttz6x03v-5>li:before{content:"\0025a0  "}ul.lst-kix_2iaarc3ciocj-3{list-style-type:none}ul.lst-kix_2iaarc3ciocj-0{list-style-type:none}.lst-kix_gmoqxu2vdwlw-3>li:before{content:"\0025cf  "}ul.lst-kix_2iaarc3ciocj-1{list-style-type:none}.lst-kix_het5xkwz0xn-3>li:before{content:"\0025cf  "}.lst-kix_xq4mqxkp9z32-1>li:before{content:"\0025cb  "}.lst-kix_fpq8ttz6x03v-1>li:before{content:"\0025cb  "}ol.lst-kix_vhbxq7m98pek-0.start{counter-reset:lst-ctn-kix_vhbxq7m98pek-0 0}.lst-kix_xq4mqxkp9z32-5>li:before{content:"\0025a0  "}ol.lst-kix_jiaa11lcnatg-6{list-style-type:none}.lst-kix_sd71brpojei7-1>li:before{content:"\0025cb  "}ol.lst-kix_jiaa11lcnatg-5{list-style-type:none}ol.lst-kix_jiaa11lcnatg-4{list-style-type:none}ol.lst-kix_jiaa11lcnatg-3{list-style-type:none}.lst-kix_i4ons9s1knkb-4>li:before{content:"\0025cb  "}.lst-kix_hobto01nnc06-0>li:before{content:"\0025cf  "}ol.lst-kix_jiaa11lcnatg-8{list-style-type:none}ol.lst-kix_jiaa11lcnatg-7{list-style-type:none}.lst-kix_kpn5w7nemyvl-8>li:before{content:"\0025a0  "}.lst-kix_52b6pkxv4jj6-7>li:before{content:"\0025cb  "}ol.lst-kix_jiaa11lcnatg-2{list-style-type:none}ol.lst-kix_jiaa11lcnatg-1{list-style-type:none}ol.lst-kix_jiaa11lcnatg-0{list-style-type:none}.lst-kix_73lchud4zita-5>li:before{content:"\0025a0  "}ul.lst-kix_h0817u6bzfgr-8{list-style-type:none}.lst-kix_i4ons9s1knkb-0>li:before{content:"\0025cf  "}ul.lst-kix_h0817u6bzfgr-7{list-style-type:none}.lst-kix_hobto01nnc06-4>li:before{content:"\0025cb  "}.lst-kix_hobto01nnc06-8>li:before{content:"\0025a0  "}.lst-kix_kpn5w7nemyvl-0>li:before{content:"\0025cf  "}.lst-kix_kpn5w7nemyvl-4>li:before{content:"\0025cb  "}ul.lst-kix_h0817u6bzfgr-2{list-style-type:none}.lst-kix_583n1z5l6fkp-2>li:before{content:"\0025a0  "}ul.lst-kix_h0817u6bzfgr-1{list-style-type:none}ul.lst-kix_h0817u6bzfgr-0{list-style-type:none}ul.lst-kix_h0817u6bzfgr-6{list-style-type:none}ul.lst-kix_h0817u6bzfgr-5{list-style-type:none}ul.lst-kix_h0817u6bzfgr-4{list-style-type:none}ul.lst-kix_h0817u6bzfgr-3{list-style-type:none}.lst-kix_vq7rpljsfqbm-2>li:before{content:"\0025a0  "}.lst-kix_583n1z5l6fkp-6>li:before{content:"\0025cf  "}.lst-kix_xvixex41zi37-2>li:before{content:"\0025a0  "}ul.lst-kix_hobto01nnc06-8{list-style-type:none}ul.lst-kix_hobto01nnc06-7{list-style-type:none}ul.lst-kix_hobto01nnc06-6{list-style-type:none}.lst-kix_vq7rpljsfqbm-6>li:before{content:"\0025cf  "}ul.lst-kix_hobto01nnc06-5{list-style-type:none}.lst-kix_xvixex41zi37-6>li:before{content:"\0025cf  "}.lst-kix_jiaa11lcnatg-0>li{counter-increment:lst-ctn-kix_jiaa11lcnatg-0}ul.lst-kix_hobto01nnc06-4{list-style-type:none}ul.lst-kix_hobto01nnc06-3{list-style-type:none}ul.lst-kix_hobto01nnc06-2{list-style-type:none}ul.lst-kix_hobto01nnc06-1{list-style-type:none}ul.lst-kix_hobto01nnc06-0{list-style-type:none}ul.lst-kix_het5xkwz0xn-2{list-style-type:none}.lst-kix_8g38e1fatzd0-2>li:before{content:"\0025a0  "}ul.lst-kix_het5xkwz0xn-1{list-style-type:none}.lst-kix_73lchud4zita-1>li:before{content:"\0025cb  "}ul.lst-kix_het5xkwz0xn-0{list-style-type:none}ul.lst-kix_het5xkwz0xn-6{list-style-type:none}ul.lst-kix_het5xkwz0xn-5{list-style-type:none}ul.lst-kix_het5xkwz0xn-4{list-style-type:none}.lst-kix_jiaa11lcnatg-7>li{counter-increment:lst-ctn-kix_jiaa11lcnatg-7}ul.lst-kix_het5xkwz0xn-3{list-style-type:none}ul.lst-kix_2qj955quw836-7{list-style-type:none}.lst-kix_52b6pkxv4jj6-3>li:before{content:"\0025cf  "}ul.lst-kix_2qj955quw836-8{list-style-type:none}.lst-kix_i4ons9s1knkb-8>li:before{content:"\0025a0  "}ul.lst-kix_2qj955quw836-3{list-style-type:none}ul.lst-kix_583n1z5l6fkp-7{list-style-type:none}ul.lst-kix_2qj955quw836-4{list-style-type:none}ul.lst-kix_583n1z5l6fkp-6{list-style-type:none}ul.lst-kix_2qj955quw836-5{list-style-type:none}ul.lst-kix_2qj955quw836-6{list-style-type:none}ul.lst-kix_583n1z5l6fkp-8{list-style-type:none}ul.lst-kix_583n1z5l6fkp-3{list-style-type:none}ul.lst-kix_2qj955quw836-0{list-style-type:none}ul.lst-kix_583n1z5l6fkp-2{list-style-type:none}ul.lst-kix_2qj955quw836-1{list-style-type:none}ul.lst-kix_583n1z5l6fkp-5{list-style-type:none}ul.lst-kix_2qj955quw836-2{list-style-type:none}ul.lst-kix_583n1z5l6fkp-4{list-style-type:none}ul.lst-kix_583n1z5l6fkp-1{list-style-type:none}ul.lst-kix_583n1z5l6fkp-0{list-style-type:none}.lst-kix_2qj955quw836-6>li:before{content:"\0025cf  "}.lst-kix_2qj955quw836-2>li:before{content:"\0025a0  "}.lst-kix_het5xkwz0xn-7>li:before{content:"\0025cb  "}ol{margin:0;padding:0}table td,table th{padding:0}.c23{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:94.5pt;border-top-color:#000000;border-bottom-style:solid}.c25{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:48pt;border-top-color:#000000;border-bottom-style:solid}.c28{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:116.2pt;border-top-color:#000000;border-bottom-style:solid}.c36{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:117.8pt;border-top-color:#000000;border-bottom-style:solid}.c33{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:95.2pt;border-top-color:#000000;border-bottom-style:solid}.c43{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:30.8pt;border-top-color:#000000;border-bottom-style:solid}.c41{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:145.5pt;border-top-color:#000000;border-bottom-style:solid}.c40{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:132.8pt;border-top-color:#000000;border-bottom-style:solid}.c18{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:131.2pt;border-top-color:#000000;border-bottom-style:solid}.c20{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:156pt;border-top-color:#000000;border-bottom-style:solid}.c4{color:#000000;font-weight:normal;text-decoration:none;vertical-align:baseline;font-size:9pt;font-family:"Arial";font-style:normal}.c5{color:#000000;font-weight:normal;text-decoration:none;vertical-align:baseline;font-style:normal}.c8{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c38{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:center}.c26{border-spacing:0;border-collapse:collapse;margin-right:auto}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c50{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c35{text-decoration:none;vertical-align:baseline;font-style:normal}.c19{color:#000000;font-weight:normal}.c24{padding:0;margin:0}.c10{font-size:10pt;font-family:"Courier New"}.c37{margin-left:72pt;padding-left:0pt}.c6{background-color:#ffffff;color:#222222}.c2{font-size:9pt;font-family:"Courier New"}.c11{margin-left:36pt;padding-left:0pt}.c52{padding-top:12pt;padding-bottom:2pt}.c15{color:inherit;text-decoration:inherit}.c17{background-color:#ffffcc;color:#222222}.c22{color:#1155cc;text-decoration:underline}.c3{font-size:8pt;font-family:"Courier New"}.c30{padding-top:14pt;padding-bottom:4pt}.c14{font-size:10pt}.c16{font-style:italic}.c27{background-color:#cccccc}.c42{text-align:center}.c12{font-size:11pt}.c1{font-weight:bold}.c29{color:#000000}.c31{font-family:"Times New Roman"}.c39{height:11pt}.c32{font-size:12pt}.c47{text-decoration:underline}.c46{font-size:8pt}.c0{font-family:"Consolas"}.c13{font-family:"Courier New"}.c49{color:#666666}.c48{font-family:"Arial"}.c7{font-size:9pt}.c34{background-color:#d9d9d9}.c45{margin-left:11pt}.c21{height:0pt}.c44{text-align:right}.c51{background-color:#ffff00}.title{padding-top:24pt;color:#000000;font-weight:bold;font-size:36pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;text-align:left}.subtitle{padding-top:18pt;color:#666666;font-size:24pt;padding-bottom:4pt;font-family:"Georgia";line-height:1.15;font-style:italic;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:24pt;color:#000000;font-weight:bold;font-size:18pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;text-align:left}h2{padding-top:18pt;color:#000000;font-weight:bold;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;text-align:left}h3{padding-top:14pt;color:#666666;font-weight:bold;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;text-align:left}h4{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:2pt;font-family:"Arial";line-height:1.15;font-style:italic;text-align:left}h5{padding-top:11pt;color:#666666;font-weight:bold;font-size:10pt;padding-bottom:2pt;font-family:"Arial";line-height:1.15;text-align:left}h6{padding-top:10pt;color:#666666;font-size:10pt;padding-bottom:2pt;font-family:"Arial";line-height:1.15;font-style:italic;text-align:left}
</style>
<h2><a id="h.7c9t3esaitdw"></a><span>AIML 2.0 Working
Draft</span></h2>
<p><span style=
"overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 595.00px; height: 235.00px;">
<img alt="" src=
"https://lh4.googleusercontent.com/2DKqtTnSPq1ezJcXFaW5DcbBlYUGtfylZ4KR3aumLn4Dx0_oAPgdZXzLhl3t4L1zuBNywXTN9Ix0gmyvHGrfxUqm-4lsv4UUXQKhZHqQNLh1OyDWopD4lpyibvyc8PNW"
style=
"width: 595.00px; height: 235.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
title=""></span></p>
<p><span>Revision 1.0.2.22</span></p>
<p><span>March 9, 2014</span></p>
<p><span>Richard S. Wallace</span></p>
<p><span>ALICE A.I. Foundation</span></p>
<p><span>Contact: info@alicebot.org</span></p>
<p><span class="c1">1. Introduction</span></p>
<p><span>This document is a draft specification for a new AIML
(Artificial Intelligence Markup Language) standard, version 2.0 of
the language. &nbsp; AIML is an XML language for specifying the
contents of a chat robot character. &nbsp; An AIML Interpreter is a
program capable of loading and running the bot, and providing the
bot’s responses in a chat session with a human user, called the
client. &nbsp;This document explains in detail both the syntax and
semantics of AIML, as well as key features that should be supported
by an AIML interpreter.</span></p>
<p><span>The primary design goal of the original AIML language was
simplicity. &nbsp; AIML is motivated by two
observations:</span></p>
<p><span>1. Creating an original, believable chatbot character
requires writing a significant amount of content, in the form of
conversational replies(*)</span></p>
<p><span class="c46">(*) - This proposition may not be true for
chatbots based on other technologies. &nbsp;AIML implements a form
of supervised learning, where a person, the botmaster, plays a
crucial role in training the bot. &nbsp; Unsupervised learning
systems, on the other hand, attempt to teach a bot through
conversations, in effect crowdsourcing the bot content. &nbsp; The
unsupervised model has its own drawbacks however.
&nbsp;Specifically, the bot database becomes filled with nonsense,
which then an editor must later delete. &nbsp;The tradeoff between
supervised and unsupervised methods might be summarized as
“Creative writing vs. deleting garbage."</span></p>
<p><span>2. The people who are most suited to writing the bot
content are not, by in large, computer programmers. &nbsp; Those
with literary backgrounds are more skilled at developing content
for original characters(*).</span></p>
<p><span class="c46">(*) The caveat to this observation is that
there are of course, some talented people who have mastered both
computer programming and the literary skill to write quality
chatbot content.</span></p>
<p><span>When AIML was first designed in the late 1990’s, the World
Wide Web had burst upon the stage and a rush of creative energy was
poured into building websites. &nbsp;This tsunami of activity has
in fact continued to this day. &nbsp;What has changed however is
that the web lost its original simplicity. &nbsp;Perhaps it was
inevitable as users demanded more and more sophisticated services
through the web, that layers of complexity would be added. &nbsp;
In 1994 however it was possible to author a web site with only
rudimentary knowledge of a few HTML tags. &nbsp;</span></p>
<p><span>Because at that time, a number of creative people had
mastered the then-simple HTML, I made a decision to create an
equally simple AIML. &nbsp; I was fond of saying, “anyone who knows
enough HTML to make a website, can learn enough AIML to write a
chatbot." &nbsp;</span></p>
<p><span>A parallel development beginning in the 1990’s was the
development of XML, including specifications, standards, documents,
tools, and applications for XML. &nbsp;Perhaps the world has not
gone the way that the XML evangelists hoped in the 1990’s, as its
many competing formats remain viable today. &nbsp;But XML has not
gone away either. &nbsp;It remains true that XML is a broadly
supported standard, and its tag-based representation is easy to
grasp without sophisticated knowledge of computer science.
&nbsp;AIML authors have found the many XML tools, such as DTDs,
syntax checkers, and editors, to be useful when creating bots.
&nbsp; For these reasons AIML 2.0 remains hitched to the XML
wagon.</span></p>
<p><span>At some level however, AIML does not depend on XML syntax.
&nbsp; There is a deeper representation of the data we represent in
XML files. &nbsp; As long as the representation can capture the
basic structure of a pattern path (the input pattern, that pattern
and topic pattern), and a hierarchical response template, then AIML
could be written in a number of different formats, including Lisp
S-expressions, JSON, or a structured text format. &nbsp;The AIML
2.0 draft even includes an alternative representation: a hybrid of
flat files and XML called AIML Intermediate Format (described in a
section below).</span></p>
<p><span>Modifying AIML inevitably reduces some of its original
simplicity. &nbsp; Adding more tags and more features make the
language more difficult for people to understand. &nbsp; The urge
to keep it as simple as possible is tempered by our experience over
the past decade, in which AIML botmasters learned that the language
had some serious limitations. &nbsp; AIML 2.0 is an attempt to
address the shortcomings, while balancing the original goal of
keeping the language as simple as possible. &nbsp; This AIML 2.0
draft specification is, for the most part, designed to be
backwards-compatible with the AIML 1.0 and earlier standards, in
that way preserving the simplicity of the original language. &nbsp;
What’s new are some new features that build on top of the original
language in such a way that the concepts can be pedagogically
organized so that AIML can be taught in beginner, intermediate and
advanced levels.</span></p>
<h3><a id="h.sjbj0ftuy7vm"></a><span>What’s new in AIML
2.0?</span></h3>
<ul class="c24 lst-kix_52b6pkxv4jj6-0 start">
<li class="c11"><span class="c1">Zero+
wildcards:</span><span>&nbsp;new wildcards that match 0 or more
words.</span></li>
<li class="c11"><span class="c1">Highest priority
matching:</span><span>&nbsp;select certain words to have top
matching priority</span></li>
<li class="c11"><span class="c1">Migrating from attributes to
tags</span><span>: more dynamic control of attribute
values</span></li>
<li class="c11"><span class="c1">AIML Sets</span><span>: match
inputs with sets of words and phrases</span></li>
<li class="c11"><span class="c1">AIML Maps</span><span>: map set
elements to members of other sets</span></li>
<li class="c11"><span class="c1">Loops</span><span>:
Iterations</span></li>
<li class="c11"><span class="c1">Local
variables:</span><span>&nbsp;variables with scope limited to one
category.</span></li>
<li class="c11"><span class="c1">Sraix</span><span>: access
external web services and other Pandorabots</span></li>
<li class="c11"><span class=
"c1">Denormalization:</span><span>&nbsp;the (approximate) inverse
of normalization.</span></li>
<li class="c11"><span class="c1">Pandorabots extensions</span></li>
</ul>
<ul class="c24 lst-kix_52b6pkxv4jj6-1 start">
<li class="c37"><span class="c1">date:</span><span>&nbsp;formatted
date and time</span></li>
<li class="c37"><span class="c1">request:</span><span>&nbsp;access
previous input request history.</span></li>
<li class="c37"><span class="c1">response:</span><span>&nbsp;access
previous bot response history</span></li>
<li class="c37"><span class="c1">unbound predicates:</span>
<span>check if a predicate has been set or not</span></li>
<li class="c37"><span class="c1">learn:</span><span>&nbsp;learn new
AIML categories</span></li>
<li class="c37"><span class="c1">learnf:</span><span>&nbsp;learn
new AIML categories and save in a file</span></li>
<li class="c37"><span class="c1">explode:</span> <span>split words
and phrases into individual character</span></li>
</ul>
<ul class="c24 lst-kix_52b6pkxv4jj6-0">
<li class="c11"><span class="c1">OOB (Out of Band)
Tags</span><span>: AIML extension for mobile device
control</span></li>
</ul>
<h3><a id="h.ey8zgsidovsc"></a><span>What’s gone from AIML
1.0?</span></h3>
<ul class="c24 lst-kix_gmoqxu2vdwlw-0 start">
<li class="c11"><span class="c1">Gossip</span><span>&nbsp;- never
well defined anyway</span></li>
<li class="c11"><span class="c1">Javascript</span> <span>- The
interpreter does not have to support a scripting language (to be
restored in AIML 2.1).</span></li>
</ul>
<p><span class="c1">2. AIML System overview</span></p>
<p><span>AIML defines a relationship between three entities: a
human chatter called the client, a human chat bot author called the
botmaster, and the robot or bot itself. &nbsp;In general a
botmaster can author multiple bots, and each bot can have multiple
clients. &nbsp; A system like Pandorabots provides for multiple
botmasters, multiple bots, and multiple clients. &nbsp; An AIML
system embedded in a consumer device might have only one bot and
one client. &nbsp; The AIML standard does not specify the number of
bots, botmasters or clients (except that defining AIML means we
have to talk about at least one of each). &nbsp;The details of
handling multiple bots, botmasters and clients is left up to the
implementation. &nbsp;</span></p>
<p><span>Care should be taken however to manage the state of each
bot and each client session.</span></p>
<p><span class="c1">A. Bot configuration and state:</span></p>
<p><span class="c1">AIML Files</span><span>&nbsp;-- Each bot is
assumed to have its own set of AIML files. &nbsp;This collection of
AIML files uniquely defines the personality of the bot character.
&nbsp; A bot may be a clone of another bot, or may connect to
another bot through &lt;sraix&gt; (defined below) but for the
purpose of defining the AIML language, the simple assumption is
that each bot has its own AIML files.</span></p>
<p><span class="c1">Learnf file</span> <span>-- one AIML file with
special meaning is the file created by the &lt;learnf&gt; tag
(defined below). &nbsp;When an AIML template activates a
&lt;learnf&gt; tag, the bot remembers or “learns" the new category,
specially, by saving it in a file given a specific name by the
interpreter (for example, learnf.aiml). &nbsp; The new categories
learned with &lt;learnf&gt; are global to all clients chatting with
the bot, so the learnf file should be part of the bot’s AIML file
collection.</span></p>
<p><span class="c1">Bot properties</span><span>&nbsp;-- global
values for a bot, such as &lt;bot name="name"/&gt; or &lt;bot
name=”species"/&gt;. &nbsp;A multiple bot system should take care
to maintain bot properties individually and separately for each
bot.</span></p>
<p><span class="c1">Substitutions</span><span>&nbsp;-- normalizing
substitutions, person substitutions, gender substitutions and
sentence splitters are unique to each bot. &nbsp; Many bots may use
copies of the same substitutions, but a multiple-bot system should
ensure that each bot can have its own custom
substitutions.</span></p>
<p><span class="c1">Predicate defaults</span><span>&nbsp;-
Predicate values in AIML are like local variables specific to one
client. &nbsp;Typically one thinks of client profile information
like name, age and gender predicates, but predicates can be used to
store any string. &nbsp;AIML predicates are set with the &lt;set
name="predicate"&gt; tag and retrieved with the &lt;get
name="predicate"/&gt; tag. &nbsp;Predicates are specific to an
individual client, but the predicates may have default values that
are defined for a specific bot. &nbsp;There should also be a global
predicate default for any predicate whose default value is not
specified for a bot.</span></p>
<p><span class="c1">Sets and Maps</span><span>&nbsp;- AIML 2.0
includes a feature that implements sets (collections) and maps.
&nbsp;The sets members are strings and the maps define a mapping
from string to string. &nbsp; &nbsp;Unique collections of Sets and
Maps may be defined for each bot.</span></p>
<p><span>The AIML standard does not specify where or how the
properties, sets, maps, substitutions and predicates are defined.
&nbsp;This is an implementation detail left up to the interpreter
designer. &nbsp; The values could be entered through a user
interface, saved in text files or a database, or in any other
format including XML and JSON, as long as the interpreter can read
them when the bot is launched.</span></p>
<p><span class="c1">B. Client session and state</span></p>
<p><span class="c1">Initialization</span><span>&nbsp;-- when a
client connects to a bot, before they begin chatting, the bot must
initialize a client session. &nbsp; The client session is assigned
a unique ID so that the AIML interpreter can track the state of the
conversation. &nbsp; This is important when a single bot is
chatting with multiple clients, for example a web based
bot.</span></p>
<p><span class="c1">Predicate defaults</span><span>&nbsp;--
Initialization step also includes setting predicates to the default
values specified for the bot.</span></p>
<p><span class="c1">Predicate state</span> <span>-- The chat
session must keep track of the state of predicate values. &nbsp;
Whenever a client activates an AIML category, potentially the
&lt;set&gt; tag is some predicate values may change. &nbsp; The
interpreter must remember the predicate values through the course
of the conversation.</span></p>
<p><span class="c1">Topic</span> <span>- The AIML topic is a unique
predicate value, because it becomes part of the pattern matching
process. &nbsp; The topic can be set with &lt;set
name="topic"&gt;</span></p>
<p><span class="c1">Conversation log</span> <span>-- Generally an
interpreter keeps a conversation log of the interactions between a
bot and a client. &nbsp; The AIML 2.0 draft does not specify how or
in what format these logs are stored.</span></p>
<p><span class="c1">History</span> <span>-- The AIML 2.0 draft does
however specify that the bot maintain, within a chat session, a
history of interactions for the purpose of evaluating the tags
&lt;that&gt;, &lt;input&gt;, &lt;request&gt; and &lt;response&gt;.
&nbsp; The size of the history (the number of elements saved or
remembered) is left up to the interpreter designer.
&nbsp;</span></p>
<p><span class="c1">Learned categories</span> <span>-- Categories
learned with &lt;learnf&gt; are saved globally for the bot (see
Learnf file above), but categories learned with the &lt;learn&gt;
tag are specific to each client. &nbsp; The chat session should
maintain any categories learned with &lt;learn&gt;.
&nbsp;</span></p>
<p><span class="c1">C. Counting interactions and sentence
splitting</span></p>
<p><span>The basic step of AIML pattern matching is to match one
input sentence against the bot’s set of AIML categories. &nbsp;
Because inputs and responses may contain more than one sentence,
AIML has adopted a particular system for counting and indexing
inputs and outputs. &nbsp;</span></p>
<p><span>When the bot receives a multiple-sentence input</span></p>
<p><span>In general one input sentence may result in 1 or more
output sentences. &nbsp;</span></p>
<p><span class="c13">&lt;input/&gt;</span><span>&nbsp;- the current
input sentence</span></p>
<p><span class="c13">&lt;input index="2"/&gt;</span><span>&nbsp;-
the previous input sentence</span></p>
<p><span class="c13">&lt;input index="N"/&gt;</span><span>&nbsp;-
the Nth previous input sentence.</span></p>
<p><span class="c13">&lt;request/&gt; = &lt;request
index="1"/&gt;</span><span>&nbsp;- the client’s last input request,
consisting of one or more input sentences.</span></p>
<p><span class="c13">&lt;request index="2"/&gt;
-</span><span>&nbsp;the client’s 2nd to last input
request.</span></p>
<p><span class="c13">&lt;request index="N"/&gt;</span> <span>- the
client’s Nth to last input request.</span></p>
<p><span class="c13">&lt;response/&gt; = &lt;response
index="1"/&gt;</span> <span>- the bot’s last response, consisting
of one or more sentences.</span></p>
<p><span class="c13">&lt;response index="2"/&gt;</span> <span>- the
bot’s second to last response.</span></p>
<p><span class="c13">&lt;response
index="N"/&gt;</span><span>&nbsp;- the bot’s Nth to last
response.</span></p>
<p><span class="c13">&lt;that/&gt; = &lt;that
index="1,1"/&gt;</span> <span>- the last sentence the bot
uttered.</span></p>
<p><span class="c13">&lt;that index="1,2"/&gt;</span> <span>- the
2nd to last sentence in</span> <span class="c13">&lt;response
index="1"/&gt;</span><span>, provided it exists.</span></p>
<p><span class="c13">&lt;that index="2,1"/&gt;</span><span>&nbsp;-
The last sentence of</span> <span class="c13">&lt;response
index="2"/&gt;</span><span>.</span></p>
<p><span class="c0">Human: Hello</span></p>
<p><span class="c0">Robot: Hi nice to see you!</span></p>
<p><span class="c0">Human: How are you? &nbsp;My name is
Jeff.</span></p>
<p><span class="c0">Robot: I’m very well. &nbsp;How are you doing?
What's up, Jeff?</span></p>
<p><span class="c0">Human: I’m talking to a robot</span></p>
<p><span class="c0">Robot: Would you like to say more about
that?</span></p>
<p><span class="c0">Human: Sure</span></p>
<p><span>At this point, the bot finds a category with a response to
the input “Sure". The following table summarizes the current state
of input/that and request/response history at the time when that
category’s template is evaluated,</span></p>
<a id="t.3ecbac32d2cdcb4bc4d6b5d21d11f44712a9111b"></a><a id=
"t.0"></a>
<table class="c26">
<tbody>
<tr class="c21">
<td class="c25" colspan="1" rowspan="1">
<p class="c8"><span class="c35 c12 c1 c29 c48">Entity</span></p>
</td>
<td class="c41" colspan="1" rowspan="1">
<p class="c8"><span class="c35 c12 c1 c29 c48">Normalized
Sentence</span></p>
</td>
<td class="c36" colspan="1" rowspan="1">
<p class="c8"><span class=
"c35 c12 c1 c29 c48">input/that</span></p>
</td>
<td class="c40" colspan="1" rowspan="1">
<p class="c8"><span class=
"c35 c12 c1 c29 c48">request/response</span></p>
</td>
</tr>
<tr class="c21">
<td class="c25 c27" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c12 c0">Human</span></p>
</td>
<td class="c27 c41" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c12 c0">Hello</span></p>
</td>
<td class="c36 c27" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c2">&lt;input
index="5"/&gt;</span></p>
</td>
<td class="c40 c27" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c2">&lt;request
index="3"/&gt;</span></p>
</td>
</tr>
<tr class="c21">
<td class="c25" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c12 c0">Robot</span></p>
</td>
<td class="c41" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c12 c0">Hi nice to see you</span></p>
<p class="c8 c39"></p>
</td>
<td class="c36" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c2">&lt;that
index="3,1"/&gt;</span></p>
</td>
<td class="c40" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c2">&lt;response
index="3"/&gt;</span></p>
</td>
</tr>
<tr class="c21">
<td class="c25 c34" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c12 c0">Human</span></p>
</td>
<td class="c41 c34" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c12 c0">How are you</span></p>
</td>
<td class="c36 c34" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c2">&lt;input
index="4"/&gt;</span></p>
</td>
<td class="c34 c40" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c2">&lt;request
index="2"/&gt;</span></p>
</td>
</tr>
<tr class="c21">
<td class="c25 c34" colspan="1" rowspan="1">
<p class="c8 c39"></p>
</td>
<td class="c41 c34" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c0 c12">My name is Jeff</span></p>
<p class="c8 c39"></p>
<p class="c8 c39"></p>
</td>
<td class="c36 c34" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c2">&lt;input
index="3/&gt;</span></p>
</td>
<td class="c40 c34" colspan="1" rowspan="1">
<p class="c8 c39"></p>
</td>
</tr>
<tr class="c21">
<td class="c25" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c12 c0">Robot</span></p>
</td>
<td class="c41" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c12 c0">I am very well</span></p>
</td>
<td class="c36" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c2">&lt;that
index="2,3"/&gt;</span></p>
</td>
<td class="c40" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c2">&lt;response
index="2"/&gt;</span></p>
</td>
</tr>
<tr class="c21">
<td class="c25" colspan="1" rowspan="1">
<p class="c8 c39"></p>
</td>
<td class="c41" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c12 c0">How are you doing</span></p>
</td>
<td class="c36" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c2">&lt;that
index="2,2"/&gt;</span></p>
</td>
<td class="c40" colspan="1" rowspan="1">
<p class="c8 c39"></p>
</td>
</tr>
<tr class="c21">
<td class="c25" colspan="1" rowspan="1">
<p class="c8 c39"></p>
</td>
<td class="c41" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c12 c0">What is up Jeff</span></p>
</td>
<td class="c36" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c2">&lt;that
index="2,1"/&gt;</span></p>
</td>
<td class="c40" colspan="1" rowspan="1">
<p class="c8 c39"></p>
</td>
</tr>
<tr class="c21">
<td class="c25 c27" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c12 c0">Human</span></p>
</td>
<td class="c41 c27" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c12 c0">I'm talking to a
robot</span></p>
</td>
<td class="c36 c27" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c2">&lt;input
index="2"/&gt;</span></p>
</td>
<td class="c40 c27" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c2">&lt;request/&gt;</span></p>
</td>
</tr>
<tr class="c21">
<td class="c25" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c12 c0">Robot</span></p>
</td>
<td class="c41" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c12 c0">Would you like to say more
about that</span></p>
</td>
<td class="c36" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c2">&lt;that/&gt;</span></p>
</td>
<td class="c40" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c2">&lt;response/&gt;</span></p>
</td>
</tr>
<tr class="c21">
<td class="c25 c27" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c12 c0">Human</span></p>
</td>
<td class="c41 c27" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c12 c0">Sure</span></p>
</td>
<td class="c36 c27" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c2">&lt;input/&gt;</span></p>
</td>
<td class="c40 c27" colspan="1" rowspan="1">
<p class="c8 c39"></p>
</td>
</tr>
</tbody>
</table>
<p><span class="c1">3. Migrating from attributes to tags in AIML
2.0</span></p>
<p><span>One odd feature of XML is the distinction between tags and
attributes. &nbsp; Consider the HTML img tag in an expression
like</span></p>
<p><span class="c0">&lt;img src="</span><span class=
"c0">http://alicebot.org/logo.jpg"/</span><span class=
"c0">&gt;</span></p>
<p><span>Why was this tag developed to use an attribute, rather
than a subtag like:</span></p>
<p><span class="c0">&lt;img&gt;&lt;src&gt;</span><span class=
"c0">http://alicebot.org/logo.jpg</span><span class=
"c0">&lt;/src&gt;&lt;/img&gt;</span> <span>?</span></p>
<p><span>HTML is interpreted in a static way, but an XML language
can be defined to interpret tags dynamically. &nbsp;For XML
languages like AIML, the problem with attributes is that they are
not easy to rewrite dynamically. &nbsp; Suppose we want the value
of the src attribute to vary depending on another XML
expression:</span></p>
<p><span class=
"c0">&lt;img&gt;&lt;src&gt;&lt;getCompanyLogo/&gt;&lt;/src&gt;&lt;/img&gt;</span></p>
<p><span>The problem in XML is that you can’t put an XML expression
inside an attribute:</span></p>
<p><span class="c0">&lt;img
src="&lt;getCompanyLogo/&gt;"/&gt;</span> <span>is forbidden in XML
syntax. &nbsp;</span></p>
<p><span>Of course, this problem is not hard to solve with a little
computer programming. &nbsp;The XML attribute values can be
rewritten by another process writing the XML. &nbsp;But at least
for AIML and XML languages like it, we would like to specify
attribute values dynamically, and allow the botmaster to write the
expressions for those values in XML. &nbsp;</span></p>
<p><span>Fortunately the problem has a simple solution: don’t use
attributes. &nbsp;Any value in an attribute can just as well be
represent with a subtag as in our example</span></p>
<p><span class="c0">&lt;img&gt;&lt;src&gt;</span><span class=
"c0">http://alicebot.org/logo.jpg</span><span class=
"c0">&lt;/src&gt;&lt;/img&gt;</span></p>
<p><span>AIML 2.0 modifies the definition of every AIML tag that
takes an attribute so that the attribute value can be specified
with a subtag having the same name. &nbsp;For example:</span></p>
<p><span class="c0">&lt;get name="age"/&gt;</span><span>&nbsp;may
be written as</span></p>
<p><span class=
"c0">&lt;get&gt;&lt;name&gt;age&lt;/name&gt;&lt;/get&gt;</span></p>
<p><span class="c0">&lt;condition name="job" value="manager"&gt;Hi,
boss!&lt;/condition&gt;</span><span>&nbsp;</span></p>
<p><span>may be written as</span></p>
<p><span class=
"c0">&lt;condition&gt;&lt;name&gt;job&lt;/name&gt;&lt;value&gt;manager&lt;/value&gt;Hi,
Boss!&lt;/condition&gt;</span></p>
<p><span class="c0">&lt;date format="%D
%H"/&gt;</span><span>&nbsp;may be written as</span></p>
<p><span class="c0">&lt;date&gt;&lt;format&gt;%D
%H&lt;/format&gt;&lt;/date&gt;</span></p>
<p><span>Even more generally, the contents inside the attribute
tags may be any template expression, as these examples
show:</span></p>
<p><span class="c0">&lt;get&gt;&lt;name&gt;&lt;srai&gt;PREDICATE
NAME&lt;/srai&gt;&lt;/name&gt;&lt;/get&gt;</span></p>
<p><span class=
"c0">&lt;condition&gt;&lt;name&gt;job&lt;/name&gt;&lt;value&gt;&lt;get&gt;&lt;name&gt;profession&lt;/name&gt;&lt;/get&gt;&lt;/value&gt;Hi,
Boss!&lt;/condition&gt;</span></p>
<p><span class="c0">&lt;date&gt;&lt;format&gt;&lt;get
name="localdateformat"/&gt;&lt;/format&gt;&lt;/date&gt;</span></p>
<p><span>Care should be taken to ensure that whatever these
template expressions return is a valid expression for the
attribute. &nbsp;For example in,</span></p>
<p><span class="c0">&lt;star&gt;&lt;index&gt;&lt;srai&gt;GET
INDEX&lt;/srai&gt;&lt;/index&gt;&lt;/star&gt;</span></p>
<p><span>The</span> <span class="c0">&lt;srai&gt;GET
INDEX&lt;/srai&gt;</span> <span>should return a valid index number
&gt; 0.</span></p>
<p><span>To retain backwards compatibility, either the attribute
form or the subtag form may be used in AIML 2.0. &nbsp;In the
definitions of XML tags that follow, with a couple of exceptions
noted, the attribute values may also be written in the subtag
form.</span></p>
<p><span class="c1">4. AIML Syntax</span></p>
<p><span><br></span><span class="c16">Edit: This section should be
rewritten using RELAX NG notation.</span></p>
<p><span class="c22 c16"><a class="c15" href=
"https://www.google.com/url?q=http://en.wikipedia.org/wiki/RELAX_NG&amp;sa=D&amp;ust=1455276581885000&amp;usg=AFQjCNE7zJOIkD7OpBQ4fGQhKkncvFRIpA">
http://en.wikipedia.org/wiki/RELAX_NG</a></span></p>
<p><span>This section makes use a variant of</span> <span class=
"c22"><a class="c15" href=
"https://www.google.com/url?q=http://en.wikipedia.org/wiki/Backus%25E2%2580%2593Naur_Form&amp;sa=D&amp;ust=1455276581887000&amp;usg=AFQjCNH9JpcMn7osxiuDRykEHbXoD3rX3A">
BNF</a></span><span>&nbsp;notation to describe the syntax of AIML
in detail. &nbsp;An XML language syntax may also be specified by a
DTD or XML Schema. &nbsp;The BNF variant here is slightly more
convenient for someone writing an AIML interpreter, and also it
captures one feature of AIML that goes beyond standard XML syntax,
namely the AIML pattern language.</span></p>
<p><span>In this BNF variant:</span></p>
<ul class="c24 lst-kix_ph8oi3y4mg9q-0 start">
<li class="c11"><span>Literal tag names and attribute expression
are written in</span> <span class="c1 c0">Consolas Bold</span>
<span>font.</span></li>
<li class="c11"><span>Expressions and clauses are written in</span>
<span class="c0">CONSOLAS UPPERCASE</span><span>.</span></li>
<li class="c11"><span>The following notation is used to define an
expression:</span></li>
</ul>
<p><span class="c0">(EXPRESSION) -</span> <span>The
expression</span> <span class="c0">EXPRESSION</span><span>&nbsp;is
optional.</span></p>
<p><span class="c0">(EXPRESSION)* -</span> <span>The
expression</span> <span class="c0">EXPRESSION</span><span>&nbsp;
may be repeated 0 or more times.</span></p>
<p><span class="c0">(EXPRESSION)+ -</span> <span>The
expression</span> <span class="c0">EXPRESSION</span> <span>may be
repeated 1 or more times.</span></p>
<p><span class="c0">EXPRESSION3 ::== EXPRESSION1 | EXPRESSION2
-</span> <span>Expression</span> <span class=
"c0">EXPRESSION3</span> <span>may consist of either</span>
<span class="c0">EXPRESSION1</span> <span>or</span> <span class=
"c0">EXPRESSION2</span><span>. &nbsp;This is equivalent to the two
statements</span></p>
<p><span class="c0">EXPRESSION3 ::== EXPRESSION1</span></p>
<p><span class="c0">EXPRESSION3 ::== EXPRESSION2</span></p>
<p><span>The full description of AIML syntax follows:</span></p>
<p><span class="c0">AIML_FILE ::==</span> <span class=
"c1 c0">&lt;aiml</span><span class="c0">(</span> <span class=
"c1 c0">version="</span><span class=
"c0">AIML_VERSION</span><span class="c1 c0">"</span><span class=
"c0">)</span><span class="c1 c0">&gt;</span><span class=
"c0">AIML</span><span class=
"c1 c0">&lt;/aiml&gt;</span><span class="c0">&nbsp;</span></p>
<p><span class="c0">AIML_VERSION ::==</span> <span class=
"c1 c0">0.9</span><span class="c0">&nbsp;|</span> <span class=
"c1 c0">1.0</span><span class="c0">&nbsp;|</span> <span class=
"c1 c0">1.1</span><span class="c0">&nbsp;|</span> <span class=
"c1 c0">2.0</span></p>
<p><span class="c0">AIML ::== (CATEGORY_EXPRESSION |
TOPIC_EXPRESSION)*</span></p>
<p><span class="c0">TOPIC_EXPRESSION ::==</span></p>
<p><span class="c1 c0">&lt;topic name="</span><span class=
"c0">PATTERN_EXPRESSION</span><span class=
"c1 c0">"&gt;</span><span class=
"c0">(CATEGORY_EXPRESSION)+</span><span class=
"c1 c0">&lt;/topic&gt;</span></p>
<p><span class="c0">CATEGORY_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;category&gt;&lt;pattern&gt;</span><span class=
"c0">PATTERN_EXPRESSION</span><span class=
"c1 c0">&lt;/pattern&gt;</span><span class=
"c0">(</span><span class="c1 c0">&lt;that&gt;</span><span class=
"c0">PATTERN_EXPRESSION</span><span class=
"c1 c0">&lt;/that&gt;</span><span class="c0">)(</span><span class=
"c1 c0">&lt;topic&gt;</span><span class=
"c0">PATTERN_EXPRESSION</span><span class=
"c1 c0">&lt;/topic&gt;</span><span class="c0">)</span></p>
<p><span class="c1 c0">&lt;template&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/template&gt;&lt;/category&gt;</span></p>
<p><span class="c0">PATTERN_EXPRESSION ::== WORD | PRIORITY_WORD |
WILDCARD | SET_STATEMENT |
PATTERN_SIDE_BOT_PROPERTY_EXPRESSION</span></p>
<p><span class="c0">PATTERN_EXPRESSION ::== PATTERN_EXPRESSION
PATTERN_EXPRESSION</span></p>
<p><span>with exactly one space “ “ between pattern
expressions.</span></p>
<p><span>The definition of WORD is language dependent. &nbsp; For
English, we generally acknowledge any combination from the regular
expression [a-zA-Z0-9]* as an AIML word. &nbsp; The AIML
preprocessor step called normalization (described in detail below)
converts an input sentence to a normalized form where punctuation
has been removed, and each word consists of an element of
[a-zA-Z0-9]*.</span></p>
<p><span class="c0">WILDCARD ::==</span> <span class=
"c1 c0">*</span><span class="c0">&nbsp;|</span> <span class=
"c1 c0">_</span></p>
<p><span class="c0">SET_STATEMENT ::==</span> <span class=
"c1 c0">&lt;set&gt;</span><span class=
"c0">SET_NAME</span><span class="c1 c0">&lt;/set&gt;</span></p>
<p><span class="c0">SET_NAME ::== WORD</span></p>
<p><span class="c0">PRIORITY_WORD ::==</span> <span class=
"c1 c0">$</span><span class="c0">WORD</span></p>
<p><span class="c0">PATTERN_SIDE_BOT_PROPERTY_EXPRESSION
::==</span> <span class="c1 c0">&lt;bot name="</span><span class=
"c0">PROPERTY_NAME</span><span class=
"c1 c0">"/&gt;</span><span class="c0">&nbsp;|</span> <span class=
"c1 c0">&lt;bot&gt;&lt;name&gt;</span><span class=
"c0">PROPERTY_NAME</span><span class=
"c1 c0">&lt;/name&gt;&lt;/bot&gt;</span></p>
<p><span class="c0">PROPERTY_NAME ::== WORD</span></p>
<p><span>Now we turn to the AIML template, which has a hierarchical
structure:</span></p>
<p><span class="c0">TEMPLATE_EXPRESSION ::== TEXT | TAG_EXPRESSION
| (TEMPLATE_EXPRESSION)*</span></p>
<p><span class="c0">TEXT</span> <span>is any ordinary English text
consisting of any character except “&lt;" and “&gt;", which must be
specified as &amp;lt; and &amp;gt; respectively.</span></p>
<p><span>NORAMLIZED_TEXT is any TEXT that has been normalized by
the AIML preprocessor. &nbsp;The exact normalization substitutions
are left up to the botmaster. &nbsp;</span></p>
<p><span class="c0">TAG_EXPRESSION ::==</span></p>
<p><span class="c0">RANDOM_EXPRESSION |</span></p>
<p><span class="c0">CONDITION_EXPRESSION |</span></p>
<p><span class="c0">SRAI_EXPRESSION |</span></p>
<p><span class="c0">SRAIX_EXPRESSION |</span></p>
<p><span class="c0">SET_PREDICATE_EXPRESSION |</span></p>
<p><span class="c0">GET_PREDICATE_EXPRESSION |</span></p>
<p><span class="c0">MAP_EXPRESSION |</span></p>
<p><span class="c0">BOT_PROPERTY_EXPRESSION |</span></p>
<p><span class="c0">DATE_EXPRESSION |</span></p>
<p><span class="c0">THINK_EXPRESSION |</span></p>
<p><span class="c0">EXPLODE_EXPRESSION |<br>
NORMALIZE_EXPRESSION |</span></p>
<p><span class="c0">DENORMALIZE_EXPRESSION |</span></p>
<p><span class="c0">FORMAL_EXPRESSION |</span></p>
<p><span class="c0">UPPERCASE_EXPRESSION |<br>
LOWERCASE_EXPRESSION |</span></p>
<p><span class="c0">SENTENCE_EXPRESSION |</span></p>
<p><span class="c0">PERSON_EXPRESSION |</span></p>
<p><span class="c0">PERSON2_EXPRESSION |</span></p>
<p><span class="c0">GENDER_EXPRESSION |</span></p>
<p><span class="c0">SYSTEM_EXPRESSION |</span></p>
<p><span class="c0">STAR_EXPRESSION |<br>
THATSTAR_EXPRESSION |</span></p>
<p><span class="c0">TOPICSTAR_EXPRESSION |</span></p>
<p><span class="c0">THAT_EXPRESSION |</span></p>
<p><span class="c0">REQUEST_EXPRESSION |</span></p>
<p><span class="c0">RESPONSE_EXPRESSION |</span></p>
<p><span class="c0">LEARN_EXPRESSION |</span></p>
<p><span class="c0">INTERVAL_EXPRESSION |</span></p>
<p><span class="c1 c0">&lt;sr/&gt;</span><span class=
"c0">&nbsp;|</span> <span class=
"c1 c0">&lt;id/&gt;</span><span class="c0">&nbsp;|</span>
<span class="c1 c0">&lt;vocabulary/&gt;</span><span class=
"c0">&nbsp;|</span> <span class="c1 c0">&lt;program/&gt;</span></p>
<p><span class="c0">RANDOM_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;random&gt;</span><span class="c0">(</span><span class=
"c1 c0">&lt;li&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/li&gt;</span><span class="c0">)+</span><span class=
"c1 c0">&lt;/random&gt;</span></p>
<p><span class="c0">CONDITION_ITEM_COMPONENT ::==</span>
<span class="c1 c0">&lt;name&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/name&gt;</span><span class="c0">&nbsp;|</span>
<span class="c1 c0">&lt;value&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/value&gt;</span><span class="c0">&nbsp;|</span>
<span class="c1 c0">&lt;loop/&gt;</span><span class="c0">&nbsp;|
TEMPLATE_EXPRESSION</span></p>
<p><span class="c0">CONDITION_ITEM_EXPRESSION ::==</span>
<span class="c1 c0">&lt;li</span><span class="c0">(
CONDITION_ATTRIBUTES)*</span><span class=
"c1 c0">&gt;</span><span class=
"c0">(CONDITION_ITEM_COMPONENT)*</span><span class=
"c1 c0">&lt;/li&gt;</span><span class="c0">&nbsp;</span></p>
<p><span class="c0">CONDITION_ATTRIBUTES ::== (</span><span class=
"c1 c0">name="</span><span class="c0">NAME</span><span class=
"c1 c0">"</span><span class="c0">) | (</span><span class=
"c1 c0">value="</span><span class=
"c0">NORMALIZED_TEXT</span><span class="c1 c0">"</span><span class=
"c0">)</span></p>
<p><span class="c0">CONDITION_EXPRESSION ::==</span></p>
<p><span class="c1 c0">&lt;condition</span><span class="c0">(
CONDITION_ATTRIBUTES)</span><span class=
"c1 c0">&gt;</span><span class=
"c0">(CONDITION_ITEM_EXPRESSION)*</span><span class=
"c1 c0">&lt;/condition&gt;</span></p>
<p><span class="c0">SRAI_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;srai&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/srai&gt;</span></p>
<p><span class="c0">SRAIX_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;sraix</span><span class="c0">(
SRAIX_ATTRIBUTES)*</span><span class=
"c1 c0">&gt;</span><span class="c0">TEMPLATE_EXPRESSION</span><span class="c1 c0">&lt;/sraix&gt;</span><span class="c0">&nbsp;|</span></p>
<p><span class="c1 c0">&lt;sraix&gt;</span><span class=
"c0">(SRAIX_ATTRIBUTE_TAGS)*TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/sraix&gt;</span></p>
<p><span class="c0">SRAIX_ATTRIBUTES ::=</span> <span class=
"c1 c0">host="</span><span class="c0">HOSTNAME</span><span class=
"c1 c0">"</span><span class="c0">&nbsp;|</span> <span class=
"c1 c0">botid="</span><span class="c0">BOTID</span><span class=
"c1 c0">"</span><span class="c0">&nbsp;|</span> <span class=
"c1 c0">hint="</span><span class="c0">TEXT</span><span class=
"c1 c0">"</span><span class="c0">&nbsp;|</span> <span class=
"c1 c0">apikey="</span><span class="c0">APIKEY</span><span class=
"c1 c0">"</span><span class="c0">&nbsp;|</span> <span class=
"c1 c0">service="</span><span class="c0">SERVICE</span><span class=
"c1 c0">"</span></p>
<p><span class="c0">SRAIX_ATTRIBUTE_TAGS ::=</span> <span class=
"c1 c0">&lt;host&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/host&gt;</span><span class="c0">&nbsp;|</span>
<span class="c1 c0">&lt;botid&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/botid&gt;</span><span class="c0">&nbsp;|</span>
<span class="c1 c0">&lt;hint&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/hint&gt;</span><span class="c0">&nbsp;|</span>
<span class="c1 c0">&lt;apikey&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/apikey&gt;</span><span class="c0">&nbsp;|</span>
<span class="c1 c0">&lt;service&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/service&gt;</span></p>
<p><span class="c0">GET_PREDICATE_EXPRESSION ::==</span>
<span class="c1 c0">&lt;get name="</span><span class=
"c0">WORD</span><span class="c1 c0">"/&gt;</span><span class=
"c0">&nbsp;|</span> <span class=
"c1 c0">&lt;get&gt;&lt;name&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/name&gt;&lt;/get&gt; | &lt;get
var=”</span><span class="c0">WORD</span><span class="c1 c0">”&gt; |
&lt;get&gt;&lt;var&gt;</span><span class=
"c0">WORD</span><span class=
"c1 c0">&lt;/var&gt;&lt;/get&gt;</span></p>
<p><span class="c0">SET_PREDICATE_EXPRESSION ::==</span>
<span class="c1 c0">&lt;set name="</span><span class=
"c0">WORD</span><span class="c1 c0">"&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/set&gt;</span><span class="c0">&nbsp;|</span>
<span class="c1 c0">&lt;set&gt;&lt;name&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/name&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class="c1 c0">&lt;/set&gt;
|</span> <span class="c0">&nbsp;</span><span class="c1 c0">&lt;set
var="</span><span class="c0">WORD</span><span class=
"c1 c0">"&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/set&gt;</span><span class="c0">&nbsp;|</span>
<span class="c1 c0">&lt;set&gt;&lt;var&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/var&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/set&gt;</span></p>
<p><span class="c0">MAP_EXPRESSION ::=</span> <span class=
"c1 c0">&lt;map name="</span><span class=
"c0">WORD</span><span class="c1 c0">"&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/map&gt;</span><span class="c0">&nbsp;|</span>
<span class="c1 c0">&lt;map&gt;&lt;name&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/name&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/map&gt;</span></p>
<p><span class="c0">BOT_PROPERTY_EXPRESSION ::==</span>
<span class="c1 c0">&lt;bot name="</span><span class=
"c0">PROPERTY</span><span class="c1 c0">"/&gt;</span><span class=
"c0">&nbsp;|</span> <span class=
"c1 c0">&lt;bot&gt;&lt;name&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/name&gt;&lt;/bot&gt;</span></p>
<p><span class="c0">DATE_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;date</span><span class="c0">(
DATE_ATTRIBUTES)*</span><span class=
"c1 c0">/&gt;</span><span class="c0">&nbsp;|</span> <span class=
"c1 c0">&lt;date&gt;</span><span class=
"c0">(DATE_ATTRIBUTE_TAG)</span><span class=
"c1 c0">&lt;/date&gt;</span></p>
<p><span class="c0">DATE_ATTRIBUTES ::== (</span><span class=
"c1 c0">format="</span><span class=
"c0">LISP_DATE_FORMAT</span><span class=
"c1 c0">"</span><span class="c0">) | (</span><span class=
"c1 c0">jformat="</span><span class="c0">JAVA DATE
FORMAT</span><span class="c1 c0">"</span><span class=
"c0">)</span></p>
<p><span class="c0">DATE_ATTRIBUTE_TAG ::==</span> <span class=
"c1 c0">&lt;format&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/format&gt;</span><span class="c0">&nbsp;|</span>
<span class="c1 c0">&lt;jformat&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/jformat&gt;</span></p>
<p><span class="c0">INTERVAL_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;interval&gt;</span><span class=
"c0">(DATE_ATTRIBUTE_TAGS)</span><span class=
"c1 c0">&lt;style&gt;</span><span class=
"c0">(TEMPLATE_EXPRESSION)</span><span class=
"c1 c0">&lt;/style&gt;&lt;from&gt;</span><span class=
"c0">(TEMPLATE_EXPRESSION)</span><span class=
"c1 c0">&lt;/from&gt;&lt;to&gt;</span><span class=
"c0">(TEMPLATE_EXPRESSION)</span><span class=
"c1 c0">&lt;/to&gt;&lt;/interval&gt;</span></p>
<p><span class="c0">THINK_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;think&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/think&gt;</span></p>
<p><span class="c0">EXPLODE_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;explode&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/explode&gt;</span></p>
<p><span class="c0">NORMALIZE_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;normalize&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/normalize&gt;</span></p>
<p><span class="c0">DENORMALIZE_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;denormalize&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/denormalize&gt;</span></p>
<p><span class="c0">PERSON_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;person&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/person&gt;</span></p>
<p><span class="c0">PERSON2_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;person2&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/person2&gt;</span></p>
<p><span class="c0">GENDER_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;gender&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/gender&gt;</span></p>
<p><span class="c0">SYSTEM_EXPRESSION ::==</span></p>
<p><span class="c1 c0">&nbsp; &lt;system</span><span class="c0">(
TIMEOUT_ATTRIBUTE)</span><span class=
"c1 c0">&gt;</span><span class="c0">TEMPLATE_EXPRESSION</span><span class="c1 c0">&lt;/system&gt;</span>
<span class="c0">|</span></p>
<p><span class="c1 c0">&nbsp;
&lt;system&gt;&lt;timeout&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/timeout&gt;&lt;/system&gt;</span></p>
<p><span class="c0">TIMEOUT_ATTRIBUTE :==</span><span class=
"c1 c0">&nbsp;timeout=”</span><span class=
"c0">NUMBER</span><span class="c1 c0">”</span></p>
<p><span class="c0">STAR_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;star</span><span class="c0">(
INDEX_ATTRIBUTE)</span><span class="c1 c0">/&gt;</span><span class=
"c0">&nbsp;|</span> <span class=
"c1 c0">&lt;star&gt;&lt;index&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/index&gt;&lt;/star&gt;</span></p>
<p><span class="c0">INDEX_ATTRIBUTE ::==</span> <span class=
"c1 c0">index="</span><span class="c0">NUMBER</span><span class=
"c1 c0">"</span></p>
<p><span class="c0">THATSTAR_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;thatstar</span><span class="c0">(
INDEX_ATTRIBUTE)</span><span class="c1 c0">/&gt;</span><span class=
"c0">&nbsp;|</span> <span class=
"c1 c0">&lt;thatstar&gt;&lt;index&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/index&gt;&lt;/thatstar&gt;</span></p>
<p><span class="c0">TOPICSTAR_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;topicstar</span><span class="c0">(
INDEX_ATTRIBUTE)</span><span class="c1 c0">/&gt;</span><span class=
"c0">&nbsp;|</span> <span class=
"c1 c0">&lt;topicstar&gt;&lt;index&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/index&gt;&lt;/topicstar&gt;</span></p>
<p><span class="c0">THAT_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;that</span><span class="c0">(
THAT_INDEX)</span><span class="c1 c0">/&gt;</span><span class=
"c0">&nbsp;|</span> <span class=
"c1 c0">&lt;that&gt;&lt;index&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/index&gt;&lt;/that&gt;</span></p>
<p><span class="c0">THAT_INDEX ::=</span> <span class=
"c1 c0">index="</span><span class="c0">NUMBER</span><span class=
"c1 c0">,</span><span class="c0">NUMBER</span><span class=
"c1 c0">"</span></p>
<p><span class="c0">REQUEST_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;request</span><span class="c0">(
INDEX_ATTRIBUTE)</span><span class="c1 c0">/&gt;</span><span class=
"c0">&nbsp;|</span> <span class=
"c1 c0">&lt;request&gt;&lt;index&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/index&gt;&lt;/request&gt;</span></p>
<p><span class="c0">RESPONSE_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;response</span><span class="c0">(
INDEX_ATTRIBUTE)</span><span class="c1 c0">/&gt;</span><span class=
"c0">&nbsp;|</span> <span class=
"c1 c0">&lt;response&gt;&lt;index&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/index&gt;&lt;/response&gt;</span></p>
<p><span class="c0">LEARN_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;learn&gt;</span><span class=
"c0">LEARN_CATEGORY_EXPRESSION</span><span class=
"c1 c0">&lt;/learn&gt;</span><span class="c0">&nbsp;|</span></p>
<p><span class="c1 c0">&lt;learnf&gt;</span><span class=
"c0">LEARN_CATEGORY_EXPRESSION</span><span class=
"c1 c0">&lt;/learnf&gt;</span></p>
<p><span class="c0">LEARN_CATEGORY_EXPRESSION ::==</span></p>
<p><span class=
"c1 c0">&lt;category&gt;&lt;pattern&gt;</span><span class=
"c0">LEARN_P</span><span class=
"c0">ATTERN_EXPRESSION</span><span class=
"c1 c0">&lt;/pattern&gt;</span><span class=
"c0">(</span><span class="c1 c0">&lt;that&gt;</span><span class=
"c0">LEARN_P</span><span class=
"c0">ATTERN_EXPRESSION</span><span class=
"c0 c1">&lt;/that&gt;</span><span class="c0">)(</span><span class=
"c1 c0">&lt;topic&gt;</span><span class=
"c0">LEARN_P</span><span class=
"c0">ATTERN_EXPRESSION</span><span class=
"c1 c0">&lt;/topic&gt;</span><span class="c0">)</span></p>
<p><span class="c1 c0">&lt;template&gt;</span><span class=
"c0">LEARN_T</span><span class=
"c0">EMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/template&gt;&lt;/category&gt;</span></p>
<p><span class="c0">EVAL_EXPRESSION ::==</span> <span class=
"c1 c0">&lt;eval&gt;</span><span class=
"c0">TEMPLATE_EXPRESSION</span><span class=
"c1 c0">&lt;/eval&gt;</span></p>
<p><span class="c0">LEARN_PATTERN_EXPRESSION ::==
PATTERN_EXPRESSION | EVAL_EXPRESSION</span></p>
<p><span class="c0">LEARN_PATTERN_EXPRESSION ::==
(LEARN_PATTERN_EXPRESSION)+</span></p>
<p><span class="c0">LEARN_TEMPLATE_EXPRESSION ::== TEXT |
TAG_EXPRESSION | EVAL_EXPRESSION</span></p>
<p><span class="c0">LEARN_TEMPLATE_EXPRESSION ::==
(LEARN_TEMPLATE_EXPRESSION)*</span></p>
<p><span class="c1">5. AIML Pattern Language</span></p>
<p><span>AIML patterns are made up of words, wildcards, AIML set
expressions, and bot properties.</span></p>
<p><span>A word is any sequence of characters output by the
normalization pre-processor that does not contain a space. &nbsp;
The space character is reserved to indicate a space between words,
as it does in many human languages including English. &nbsp;Exactly
which characters are allowed in normalization depends on the
botmaster’s choice of normalization substitutions and the input
language, but generally the idea with normalization is:</span></p>
<ul class="c24 lst-kix_lx5eo772bnim-0 start">
<li class="c11"><span>Remove punctuation</span></li>
<li class="c11"><span>Expand contractions</span></li>
<li class="c11"><span>Correct a few common spelling
mistakes</span></li>
<li class="c11"><span>Ensure one space between words</span></li>
</ul>
<p><span>So “Hello”, “123”, “HaveFun” are normalized words but
“can’t”, “1.23”, and “Have-Fun” are not. &nbsp;Some AIML
applications that require the bot to have knowledge of the original
punctuation include normalization substitutions so that for example
&nbsp;“,” becomes “comma”, “-” becomes “dash” and “.” becomes
“point”.</span></p>
<p><span>One way to process inputs from languages like Japanese and
Chinese that do no separate words with spaces is to place an
implicit space between each character and treat each one as a
“word”.</span></p>
<p><span>Pre proprocess the input</span></p>
<p><span class="c0">日本の伝統</span></p>
<p><span>into</span></p>
<p><span>日 本 の 伝 統</span></p>
<p><span>and use patterns like</span></p>
<p><span>&lt;pattern&gt;* の 伝 統&lt;/pattern&gt;</span></p>
<p><span>AIML 2.0 includes some new wildcards and pattern-side
expressions. &nbsp;</span></p>
<h3><a id="h.qpmdl7kzzh0i"></a><span>A. Zero or more words
wildcards</span></h3>
<p><span>The AIML 1.0 wildcards * and _ are defined so that they
match one or more words. &nbsp; AIML 2.0 introductes two new
wildcards, ^ and #, defined to match zero or more words. &nbsp;As a
shorthand description, we refer to these as “zero+
wildcards”.</span></p>
<p><span>Both ^ and # are defined to match 0 or more words. &nbsp;
The difference between them is the same as the difference between *
and _. &nbsp; The # matching operator has highest priority in
matching, followed by _, followed by an exact word match, followed
by ^, and finally * has the lowest matching priority.</span></p>
<p><span>When defining a zero+ wildcard it is necessary to consider
what the value of &lt;star/&gt; (as well as &lt;thatstar/&gt; and
&lt;topicstar/&gt;) should be when the wildcard match has zero
length. &nbsp; In AIML 2.0 we leave this up to the botmaster.
&nbsp;Each bot can have a global property named nullstar which the
botmaster can set to “”, “unknown”, or any other value.</span></p>
<p><span>Examples:</span></p>
<p><span class="c10 c6">&lt;category&gt;&lt;pattern&gt;SHARPTEST
#&lt;/pattern&gt;</span></p>
<p><span class="c10 c6">&lt;template&gt;#star =
&lt;star/&gt;&lt;/template&gt;</span></p>
<p><span class="c10 c6">&lt;/category&gt;</span></p>
<p><span class="c10 c6">&lt;category&gt;&lt;pattern&gt;SHARPTEST #
TEST&lt;/pattern&gt;</span></p>
<p><span class="c10 c6">&lt;template&gt;#star =
&lt;star/&gt;&lt;/template&gt;</span></p>
<p><span class="c10 c6">&lt;/category&gt;</span></p>
<p><span class="c10 c6">&lt;category&gt;&lt;pattern&gt;# KEYWORD
#&lt;/pattern&gt;</span></p>
<p><span class="c10 c6">&lt;template&gt;Found
KEYWORD&lt;/template&gt;</span></p>
<p><span class="c10 c6">&lt;/category&gt;</span></p>
<p><span class="c10 c6">&lt;category&gt;&lt;pattern&gt;^
CARETTEST&lt;/pattern&gt;</span></p>
<p><span class="c10 c6">&lt;template&gt;^star =
&lt;star/&gt;&lt;/template&gt;</span></p>
<p><span class="c10 c6">&lt;/category&gt;</span></p>
<p><span>Sample dialog:</span></p>
<p><span class="c6 c0">Human: sharptest<br>
Robot: #star = unknown<br>
Human: keyword<br>
Robot: Found KEYWORD<br>
Human: sharptest foo<br>
Robot: #star = foo<br>
Human: sharptest foo bar test<br>
Robot: #star = foo bar<br>
Human: xyz abc carettest<br>
Robot: ^star = xyz abc<br>
Human: carettest<br>
Robot: ^star = unknown<br>
Human: keyword<br>
Robot: Found KEYWORD<br>
Human: abc def keyword ghi jkl<br>
Robot: Found KEYWORD<br>
Human: abc keyword<br>
Robot: Found KEYWORD<br>
Human: keyword def<br>
Robot: Found KEYWORD<br></span></p>
<p><span>B. $ operator</span></p>
<p><span>In some cases it is desirable to make an exact word match
have higher priority than _. &nbsp;</span></p>
<p><span>For example,</span></p>
<p><span>The category</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;_ ALICE&lt;/pattern&gt;<br>
&lt;template&gt;&lt;sr/&gt;&lt;/template&gt;<br>
&lt;/category&gt;</span></p>
<p><span>is useful for removing the bot’s name, Alice, from many
queries such as “Tell me the time, Alice” and “What is your
favorite color, Alice?”. &nbsp;The &lt;sr/&gt; simplifies these
inputs to “Tell me the time” and “What is your favorite color”
respectively. &nbsp;But the category breaks down for other inputs
like “Who is Alice?” &nbsp;which we wouldn’t want to reduce to just
“Who is”.</span></p>
<p><span>Using the $ operator we can add the category</span></p>
<p><span class="c2">&lt;category&gt;<br>
&lt;pattern&gt;$WHO IS ALICE&lt;/pattern&gt;<br>
&lt;template&gt;I am Alice.&lt;/template&gt;<br>
&lt;/category&gt;</span></p>
<p><span>so that the input “Who is Alice?” matches this category
and not the one with &lt;pattern&gt;_
ALICE&lt;/pattern&gt;.</span></p>
<p><span>The $ indicates that the word has higher matching priority
than _.</span></p>
<h3 class="c30"><a id="h.32tn8u8j0r3g"></a><span>AIML
Sets</span></h3>
<p><span>A pattern in AIML 2.0 may contain an expression referring
to an AIML set. &nbsp; If the botmaster has defined a set named
“color” of color names, then the expression</span></p>
<p><span class="c2">&lt;set&gt;color&lt;/set&gt;</span></p>
<p><span>can match any member of this set.</span></p>
<h3><a id="h.smv0sw5e4cyt"></a><span>Examples of valid AIML
patterns</span></h3>
<p><span>The following are examples of valid AIML
patterns</span></p>
<p><span class=
"c2">&lt;pattern&gt;*&lt;/pattern&gt;</span><span class=
"c2"><br></span><span class="c2">&lt;pattern&gt;HOW ARE
YOU&lt;/pattern&gt;<br>
&lt;pattern&gt;How are you&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;HoW aRe
YoU&lt;/pattern&gt;</span> <span>-- AIML patterns are case
invariant</span></p>
<p><span class=
"c2">&lt;pattern&gt;&lt;set&gt;color&lt;/set&gt;&lt;/pattern&gt;<br>

&lt;pattern&gt;&lt;SET&gt;COLOR&lt;/SET&gt;&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;I LIKE
&lt;set&gt;color&lt;/set&gt;&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;_ THANK
YOU&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;_ MUSIC
*&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;# MUSIC
#&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;I LIKE #
MUSIC&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;_ * _ *
_&lt;/pattern&gt;</span><span>&nbsp;-- may not be useful but it is
valid</span></p>
<h3><a id="h.p5thuq2o2bjb"></a><span>Examples of invalid
patterns:</span></h3>
<p><span>The following are not valid AIML patterns</span></p>
<p><span class=
"c13">&lt;pattern&gt;&lt;/pattern&gt;</span><span>&nbsp;-- no
concept of a blank pattern</span></p>
<p><span class="c13">&lt;pattern&gt;How are
you?&lt;/pattern&gt;</span> <span>-- no punctuation in AIML
patterns</span></p>
<p><span class="c13">&lt;pattern&gt;I
LIKE*&lt;/pattern&gt;</span><span>&nbsp;-- wildcard should have a
space separating it from word</span></p>
<p><span class=
"c13">&lt;pattern&gt;&lt;set&gt;*&lt;/set&gt;&lt;/pattern&gt;</span><span>&nbsp;--
no wildcard in set name</span></p>
<p><span class=
"c13">&lt;pattern&gt;_*_*_&lt;/pattern&gt;</span><span>&nbsp;--
wildcards should have spaces separating them</span></p>
<p><span class="c1">6. AIML Semantics</span></p>
<p><span>This section explains the semantics of each AIML
tag.</span></p>
<p><span class="c1">a. &lt;aiml&gt; tag</span></p>
<p><span>The &lt;aiml&gt; tag wraps the contents of an AIML file.
&nbsp;</span></p>
<p><span>Example:</span></p>
<p><span class="c2">&lt;?xml version="1.0"
encoding="UTF-8"?&gt;</span></p>
<p><span class="c2">&lt;aiml version="2.0"&gt;</span></p>
<p><span class=
"c2">&lt;category&gt;&lt;pattern&gt;&lt;SET&gt;COLOR&lt;/SET&gt;&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;&lt;star/&gt; is a
color.&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c2">&lt;/aiml&gt;</span></p>
<p><span>The AIML file is an XML file and so may also have an
optional header like</span></p>
<p><span class="c2">&lt;?xml version="1.0"
encoding="UTF-8"?&gt;</span></p>
<p><span>however the definition of the XML header is outside the
scope of AIML 2.0. &nbsp;The &lt;aiml&gt; tag wraps the AIML
contents.</span></p>
<p><span class="c1">b. &lt;topic name="TOPIC"&gt; tag</span></p>
<p><span>The &lt;topic&gt; tag wraps a collection of categories
that share the same topic pattern.</span></p>
<p><span>Example:</span></p>
<p><span class="c2">&lt;topic name="ASKING TO ADD NEW
CONTACTNAME"&gt;</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class=
"c2">&lt;pattern&gt;YES&lt;/pattern&gt;&lt;that&gt;WOULD YOU LIKE
TO ADD * AS A CONTACT&lt;/that&gt;</span></p>
<p><span class="c2">&lt;template&gt;</span></p>
<p><span class="c2">&lt;think&gt;&lt;set
name="topic"&gt;unknown&lt;/set&gt;</span></p>
<p><span class="c2">&lt;set
name="contactid"&gt;&lt;srai&gt;NEWCONTACTID&lt;/srai&gt;&lt;/set&gt;</span></p>
<p><span class="c2">&lt;set name="displayname"&gt;&lt;get
name="contactname"/&gt;&lt;/set&gt;</span></p>
<p><span class="c2">&lt;/think&gt;</span></p>
<p><span class="c2">&lt;srai&gt;LEARN CONTACTID &lt;get
name="contactid"/&gt; DISPLAYNAME &lt;get
name="displayname"/&gt;&lt;/srai&gt;</span></p>
<p><span class="c2">I've saved &lt;get name="contactname"/&gt; to
your contacts.</span></p>
<p><span class="c2">&lt;srai&gt;RESUMEACTION &lt;get
name="modecom"/&gt;&lt;/srai&gt;</span></p>
<p><span class="c2">&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class=
"c2">&lt;pattern&gt;*&lt;/pattern&gt;&lt;that&gt;WOULD YOU LIKE TO
ADD * AS A CONTACT&lt;/that&gt;</span></p>
<p><span class="c2">&lt;template&gt;</span></p>
<p><span class="c2">&lt;think&gt;&lt;set
name="topic"&gt;unknown&lt;/set&gt;&lt;/think&gt;</span></p>
<p><span class="c2">&lt;srai&gt;CONTACTFINALIZE&lt;/srai&gt;
&lt;srai&gt;&lt;star/&gt;&lt;/srai&gt;</span></p>
<p><span class="c2">&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c2">&lt;/topic&gt;</span></p>
<p><span>In this example, the first category has input pattern YES
and the second category has input pattern *. &nbsp;Both categories
have the same that pattern, WOULD YOU LIKE TO ADD * AS A CONTACT,
and the same topic pattern, ASKING TO ADD NEW
CONTACTNAME.</span></p>
<p><span>In AIML 2.0 the topic pattern may also be defined inside a
category. &nbsp;That is, a category has an input pattern specified
by the &lt;pattern&gt; tag, a that pattern specified by the
&lt;that&gt; tag, and a topic pattern specified by the
&lt;topic&gt; tag. &nbsp;If either &lt;that&gt; or &lt;topic&gt; is
omitted, the corresponding pattern is defined as * by default.
&nbsp;</span></p>
<p><span>&nbsp;</span></p>
<p><span class="c1">c. &lt;category&gt; tag</span></p>
<p><span>The basic unit of knowledge in AIML is a category.
&nbsp;The &lt;category&gt; tag always contains an input
&lt;pattern&gt; and a response &lt;template&gt;. &nbsp; Optionally
it may also contain a &lt;that&gt; pattern and a &lt;topic&gt;
pattern. &nbsp; If either of &lt;that&gt; or &lt;topic&gt; is
omitted, the AIML interpreter assigns the corresponding pattern a
value of *.</span></p>
<p><span>Example:</span></p>
<p><span class="c2">&lt;category&gt;<br>
&lt;pattern&gt;HI&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;Hi there!&lt;/template&gt;<br>
&lt;/category&gt;</span></p>
<p><span class="c1">d. &lt;pattern&gt; tag</span></p>
<p><span>The &lt;pattern&gt; tag specifies the input pattern.
&nbsp; The contents of the pattern tag are defined in the AIML
Pattern Language section.</span></p>
<p><span class="c1">e. Pattern-side &lt;set&gt;</span></p>
<p><span>A &lt;set&gt; tag in a &lt;pattern&gt; expression denotes
an AIML Set, a collection of words or phrases (sequences of words)
that can be matched by this part of the input pattern. &nbsp;The
&lt;set&gt; tag contains the name of the AIML Set. &nbsp;The exact
representation of the set is left up to the interpreter. &nbsp;The
set should contain normalized items that can be matched by
normalized inputs. &nbsp;</span></p>
<p><span>AIML matching treats an AIML set much like a wildcard (*
or _). &nbsp; The &lt;set&gt; expression matches one or more words.
&nbsp; The &lt;set&gt; match has higher priority than *, but lower
priority than an exact word match. &nbsp;See the section AIML
Pattern Matching for more details.</span></p>
<p><span>Whichever words match the &lt;set&gt; expression may be
retrieved on the template-side with &lt;star/&gt;. &nbsp; If there
are more than one &lt;set&gt; elements in a pattern, the matching
word sequences may be retrieved with &lt;star index="1"/&gt;,
&lt;star index="2"/&gt; and so on.</span></p>
<p><span>Similarly, any sequences matching a &lt;set&gt; expression
in a that-pattern or topic-pattern may be accessed on the
template-side with &lt;thatstar/&gt; and
&lt;topicstar/&gt;.</span></p>
<p><span>Examples:</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;I LIKE
&lt;set&gt;color&lt;/set&gt;&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;&lt;star/&gt; is a nice
color.&lt;/template&gt;<br>
&lt;/category&gt;</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;CALL
&lt;set&gt;number&lt;/set&gt;&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;&lt;srai&gt;DIAL
&lt;star/&gt;&lt;/srai&gt;&lt;/template&gt;<br>
&lt;/category&gt;</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class=
"c2">&lt;pattern&gt;&lt;set&gt;name&lt;/set&gt;&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;&lt;star/&gt; is a
name.&lt;/template&gt;<br>
&lt;/category&gt;</span></p>
<p><span>Sample dialogs:</span></p>
<p><span class="c0">Human: I like blue.</span></p>
<p><span class="c0">Robot: Blue is a nice color.</span></p>
<p><span class="c0">Human: Call 5551234</span></p>
<p><span class="c0">Robot: Now dialing 5551234</span></p>
<p><span class="c0">Human: Joseph</span></p>
<p><span class="c0">Robot: Joseph is a name.</span></p>
<p><span>See the companion document</span> <span class=
"c22"><a class="c15" href=
"https://www.google.com/url?q=https://docs.google.com/document/d/1DWHiOOcda58CflDZ0Wsm1CgP3Es6dpicb4MBbbpwzEk/pub&amp;sa=D&amp;ust=1455276581989000&amp;usg=AFQjCNHzIDOP4ruwuRYb3kYzYO2w0h8IPw">
Sets and Maps in AIML 2.0</a></span></p>
<p><span class="c1">f. Pattern-side &lt;bot
name="property"/&gt;</span></p>
<p><span>The bot property tag may appear in a pattern expression.
&nbsp;It is equivalent to a word in pattern matching.</span></p>
<p><span>Example:</span></p>
<p><span class="c2">&lt;category&gt;<br>
&lt;pattern&gt;ARE YOU &lt;bot
name="name"/&gt;&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;Yes, I am.&lt;/template&gt;<br>
&lt;/category&gt;</span></p>
<p><span class="c1">g. &lt;that&gt;</span></p>
<p><span>The &lt;that&gt; tag contains an AIML pattern. &nbsp;Like
&lt;pattern&gt; and &lt;topic&gt;, &lt;that&gt; may contain any
valid AIML pattern elements, including words, wildcards,
&lt;set&gt; and &lt;bot&gt; elements.</span></p>
<p><span>The purpose of &lt;that&gt; is to match the bot’s last
utterance, specifically, the last sentence of the last response.
&nbsp;Typically &lt;that&gt; plays an important role in question
answering. &nbsp;If the client says “Yes", the bot should remember
what question it asked to make the client say “Yes", so that it can
put together the affirmative response with the question, in order
to formulate a reply.</span></p>
<p><span>Examples:</span></p>
<p><span class=
"c2">&lt;category&gt;&lt;pattern&gt;YES&lt;/pattern&gt;&lt;that&gt;ARE
YOU TIRED&lt;/that&gt;</span></p>
<p><span class="c2">&lt;template&gt;Maybe you should get some rest.
&nbsp;I will still be here later.&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class=
"c2">&lt;category&gt;&lt;pattern&gt;NO&lt;/pattern&gt;&lt;that&gt;CAN
YOU HEAR ME&lt;/that&gt;</span></p>
<p><span class="c2">&lt;template&gt;Try adjusting the media volume
on your device Settings.&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class=
"c2">&lt;category&gt;&lt;pattern&gt;*&lt;/pattern&gt;&lt;that&gt;WHAT
IS YOUR NAME&lt;/that&gt;</span></p>
<p><span class="c2">&lt;template&gt;&lt;srai&gt;MY NAME IS
&lt;star/&gt;&lt;/srai&gt;&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c1">h. &lt;topic&gt;</span></p>
<p><span>AIML 2.0 migrates the &lt;topic&gt; tag from a category
wrapper to a tag inside a category. &nbsp;For backwards
compatibility, the category wrapper tag (see subsection</span>
<span class="c1">b. &lt;topic name="TOPIC"&gt; tag</span><span>)
continues to be permitted in AIML 2.0. &nbsp;But the &lt;topic&gt;
tag around a category was always confusing, because the AIML
pattern matcher builds a pattern path by appending the input
pattern, that pattern and topic pattern in that order. &nbsp;Having
the &lt;topic&gt; tag around a category suggests that the order
might have been: topic pattern, input pattern, that pattern, which
was not the case.</span></p>
<p><span>The &lt;topic&gt; tag in a category, like &lt;pattern&gt;
and &lt;that&gt;, contains a valid AIML pattern. &nbsp;Unlike the
&lt;topic name=”TOPIC”&gt; tag described in subsection b, the
&lt;topic&gt; tag inside a category omits the name attribute and
simply encloses the topic pattern in a pair of tags.</span></p>
<p><span>Examples:</span></p>
<p><span class="c2">&lt;category&gt;<br>
&lt;pattern&gt;*&lt;/pattern&gt;<br>
&lt;topic&gt;TRAVEL&lt;/topic&gt;</span></p>
<p><span class="c2">&lt;template&gt;Have you been to</span></p>
<p><span class="c2">&lt;random&gt;<br>
&lt;li&gt;Rome&lt;/li&gt;<br>
&lt;li&gt;London&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;Paris&lt;/li&gt;<br>
&lt;/random&gt;?</span></p>
<p><span class="c2">&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class=
"c2">&lt;pattern&gt;_&lt;/pattern&gt;&lt;that&gt;WHAT IS YOUR
MESSAGE TO *&lt;/that&gt;</span></p>
<p><span class="c2">&lt;topic&gt;ASKING
MESSAGEBODY&lt;/topic&gt;</span></p>
<p><span class="c2">&lt;template&gt;</span></p>
<p><span class="c2">&lt;think&gt;</span></p>
<p><span class="c2">&lt;set
name="topic"&gt;unknown&lt;/set&gt;</span></p>
<p><span class="c2">&lt;set
name="messagebody"&gt;&lt;star/&gt;&lt;/set&gt;</span></p>
<p><span class="c2">&lt;/think&gt;</span></p>
<p><span class="c2">&lt;srai&gt;RESUMEACTION &lt;get
name="modecom"/&gt;&lt;/srai&gt;</span></p>
<p><span class="c2">&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span><span><br>
<br></span><span class="c1">i. &lt;template&gt;</span></p>
<p><span>The &lt;template&gt; contains the AIML response. &nbsp;In
its simplest form, the response consists of plain text. &nbsp; In
general however, the &lt;template&gt; contains what is in effect a
mini computer program, written with AIML tags, that computes a
response. &nbsp; Generally, a &lt;template&gt; contains a mix of
plain text and AIML tags. &nbsp;</span></p>
<p><span>Because the &lt;template&gt; may contain the &lt;srai&gt;
tag, this computation may activate other AIML categories, and
evaluate their &lt;template&gt; responses to build a response
recursively.</span></p>
<p><span>Examples:</span></p>
<p><span class="c2">&lt;category&gt;&lt;pattern&gt;YOU ARE
HELPFUL&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;I like to help
people.&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c2">&lt;category&gt;&lt;pattern&gt;NO YOU
*&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;&lt;srai&gt;NO&lt;/srai&gt;
&lt;srai&gt;YOU
&lt;star/&gt;&lt;/srai&gt;&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class=
"c2">&lt;category&gt;&lt;pattern&gt;NAME&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;</span></p>
<p><span class="c2">&lt;random&gt;</span></p>
<p><span class="c2">&lt;li&gt;I am&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;Call me&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;My name is&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;I am called&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;People call me&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;You can call me&lt;/li&gt;</span></p>
<p><span class="c2">&lt;/random&gt;</span></p>
<p><span class="c2">&lt;condition name="customname"&gt;</span></p>
<p><span class="c2">&lt;li value="unknown"&gt;&lt;bot
name="name"/&gt;.&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;&lt;get
name="customname"/&gt;.&lt;/li&gt;</span></p>
<p><span class="c2">&lt;/condition&gt;</span></p>
<p><span class="c2">&lt;/template&gt;</span></p>
<p><span>This discussion of the &lt;template&gt; tag completes the
tour of &lt;category&gt; subelements. &nbsp; To summarize: every
category has a &lt;pattern&gt; and a &lt;template&gt;, and
optionally a &lt;that&gt; and/or &lt;topic&gt;. &nbsp; The
remaining AIML tags discussed in the subsections below are all
subtags of &lt;template&gt;. &nbsp;</span></p>
<p><span class="c1">j. &lt;random&gt;</span></p>
<p><span>The purpose of the &lt;random&gt; tag is to allow the bot
to select one of a list of responses randomly. &nbsp;The
distribution of selections should be random uniform: no response
has higher probability of selection than the other choices. &nbsp;
&nbsp;The &lt;random&gt; tag uses the &lt;li&gt; subtag to indicate
selections. &nbsp;The &lt;li&gt; items may contain any valid
&lt;template&gt; expression.</span></p>
<p><span>The AIML interpreter replaces the &lt;random&gt; tag and
its contents with the value of the evaluated &lt;li&gt; expression.
&nbsp;</span></p>
<p><span>Example:</span></p>
<p><span class=
"c2">&lt;category&gt;&lt;pattern&gt;PURPOSE&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;</span></p>
<p><span class="c2">&lt;random&gt;</span></p>
<p><span class="c2">&lt;li&gt;I'm here to help you in any way I
can.&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;I am a mobile virtual assistant,
ready to do what I can for you.&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;I'm here to
help.&lt;/li&gt;</span></p>
<p><span class="c2">&lt;/random&gt;</span></p>
<p><span class="c2">&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span>Sample dialog:</span></p>
<p><span class="c0">Human: Purpose?</span></p>
<p><span class="c0">Robot: I’m here to help</span></p>
<p><span class="c0">Human: Purpose:</span></p>
<p><span class="c0">Robot: I am a mobile virtual assistant, ready
to do what I can for you.</span></p>
<p><span><br></span><span class="c1">k. &lt;condition
name="predicate" value="v"&gt; and &lt;condition var=”varname”
value=”v”&gt;</span></p>
<p><span>The &lt;condition&gt; tag has three basic forms. described
in this and the next two subsections. &nbsp;The first type is known
as the “one-shot condition” and contains both a predicate name and
a value attribute. &nbsp; If the named predicate value equals the
given value, the AIML interpreter replaces the &lt;condition&gt;
tag and its contents with the result of evaluating those contents.
&nbsp; If the values are not equal, the &lt;condition&gt;
expression is replaced with a blank.</span></p>
<p><span>AIML 2.0 adopts one of the Pandorabots extensions to the
&lt;condition&gt; tag, where a value of * indicates that the
predicate is bound to something. &nbsp;If a predicate p has not
been set by a previously evaluated &lt;set name=”p”&gt; tag (nor
initialized by the interperter), then it is called “unbound”.
&nbsp;A predicate with an assigned value is “bound”.
&nbsp;</span></p>
<p><span>The expression &lt;condition name=”p” value=”*”&gt;
X&lt;/condition&gt; evaluates to X provided that p is a bound
predicate. &nbsp;Otherwise, it evaluates to a blank. &nbsp;This
*-value notation applies to all three forms of the
&lt;condition&gt; tag.</span></p>
<p><span>In AIML 2.0 the name and/or value attribute values may be
specified in subtags instead of XML attribute values. &nbsp;The
subtags have the same names as the original attribute
names.</span></p>
<p><span class="c2">&lt;condition name="predicate"
value="v"&gt;X&lt;/condition&gt;,</span></p>
<p><span class="c2">&lt;condition
name="predicate"&gt;&lt;value&gt;v&lt;/value&gt;X&lt;/condition&gt;,</span></p>
<p><span class="c2">&lt;condition
value="v"&gt;&lt;name&gt;predicate&lt;/name&gt;X&lt;/condition&gt;,
and</span></p>
<p><span class=
"c2">&lt;condition&gt;&lt;name&gt;predicate&lt;/name&gt;&lt;value&gt;v&lt;/value&gt;X&lt;/condition&gt;</span>
<span>are all equivalent.</span></p>
<p><span>Example:</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;DIALNUMBER UNKNOWN
*&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;</span></p>
<p><span class="c2">&lt;think&gt;</span></p>
<p><span class="c2">&lt;set
name="dialnumber"&gt;&lt;srai&gt;DIALNUMBER MOBILE
&lt;star/&gt;&lt;/srai&gt;&lt;/set&gt;</span></p>
<p><span class="c2">&lt;condition name="dialnumber"
value="unknown"&gt;</span></p>
<p><span class="c2">&lt;set
name="dialnumber"&gt;&lt;srai&gt;DIALNUMBER HOME
&lt;star/&gt;&lt;/srai&gt;&lt;/set&gt;</span></p>
<p><span class="c2">&lt;/condition&gt;</span></p>
<p><span class="c2">&lt;condition name="dialnumber"
value="unknown"&gt;</span></p>
<p><span class="c2">&lt;set
name="dialnumber"&gt;&lt;srai&gt;DIALNUMBER WORK
&lt;star/&gt;&lt;/srai&gt;&lt;/set&gt;</span></p>
<p><span class="c2">&lt;/condition&gt;</span></p>
<p><span class="c2">&lt;condition name="dialnumber"
value="unknown"&gt;</span></p>
<p><span class="c2">&lt;set
name="dialnumber"&gt;&lt;srai&gt;DIALNUMBER CUSTOM
&lt;star/&gt;&lt;/srai&gt;&lt;/set&gt;</span></p>
<p><span class="c2">&lt;/condition&gt;</span></p>
<p><span class="c2">&lt;/think&gt;</span></p>
<p><span class="c2">&lt;get
name="dialnumber"/&gt;&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c1">l. &lt;condition name="predicate"&gt; or
&lt;condition var=”varname”&gt; and &lt;li value=”v”&gt;</span></p>
<p><span>The second form of the condition tag contains only the
predicate attribute. &nbsp;In AIML 2.0, this attribute may be
specified in a subtag:</span></p>
<p><span><br></span><span class="c2">&lt;condition
name="predicate"&gt;...&lt;/condition&gt;</span><span>&nbsp;is
equivalent to</span></p>
<p><span class=
"c2">&lt;condition&gt;&lt;name&gt;predicate&lt;/name&gt;...&lt;/condition&gt;</span></p>
<p><span>This form of &lt;condition&gt; contains a list of items
specified by the &lt;li&gt; tag. &nbsp; The interpreter checks each
list item to see if the predicate value equals the specified value
in the associated list item, and if they are equal, replaces the
&lt;condition&gt; tag and its contents by the result of evaluating
the list item contents. &nbsp;</span></p>
<p><span>Each list item except optionally the last has the
form</span></p>
<p><span class="c2">&lt;li value="v"&gt;X&lt;/li&gt;</span></p>
<p><span>or</span></p>
<p><span class="c2">&lt;li&gt;&lt;value&gt;X&lt;/li&gt;</span></p>
<p><span>The interpreter checks the list items one at a time to see
if an equality condition holds. &nbsp;For the first list item
containing equal values, the interpreter evaluates the result of
the associated list item and replaces the contents of the
&lt;condition&gt; tag and its contents with that evaluated
result.</span></p>
<p><span>A &lt;condition name=”predicate”&gt; may optionally
contain a final list item of the form</span></p>
<p><span class="c2">&lt;li&gt;X&lt;/li&gt;</span></p>
<p><span>with no specified value. &nbsp; If the interpreter is
unable to find a true equality condition for the previous list of
&lt;condition&gt; items, and the list contains this last default
item, then the interpreter replaces the &lt;condition&gt; tag and
its contents with the result of evaluating the contents of this
final item. &nbsp; If the default item is omitted and none of the
other items are selected, the result of the &lt;condition
name=”predicate”&gt; tag is blank.</span></p>
<p><span>Like the one-shot &lt;condition&gt;, the &lt;condition
name=”predicate”&gt; tag may use * for the value attribute to test
whether a predicate is bound or not.</span></p>
<p><span>Examples:</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;HE IS GOING TO
*&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;</span></p>
<p><span class="c2">&lt;condition name="he"&gt;</span></p>
<p><span class="c2">&lt;li value="who"&gt;Who is
he?&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;&lt;get name="he"/&gt; is going
to?&lt;/li&gt;</span></p>
<p><span class="c2">&lt;/condition&gt;</span></p>
<p><span class="c2">&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;I AM
*&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;</span></p>
<p><span class="c2">&lt;think&gt;</span></p>
<p><span class="c2">&lt;set
name="isanumber"&gt;&lt;srai&gt;ISANUMBER
&lt;star/&gt;&lt;/srai&gt;&lt;/set&gt;</span></p>
<p><span class="c2">&lt;set name="isaname"&gt;&lt;srai&gt;ISANAME
&lt;star/&gt;&lt;/srai&gt;&lt;/set&gt;</span></p>
<p><span class="c2">&lt;/think&gt;</span></p>
<p><span class="c2">&lt;condition name="isanumber"&gt;</span></p>
<p><span class="c2">&lt;li value="true"&gt;&lt;srai&gt;MY AGE IS
&lt;star/&gt;&lt;/srai&gt;&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;</span></p>
<p><span class="c2">&nbsp; &lt;condition
name="isaname"&gt;</span></p>
<p><span class="c2">&nbsp; &lt;li value="true"&gt;&lt;srai&gt;MY
NAME IS &lt;star/&gt;&lt;/srai&gt;&lt;/li&gt;</span></p>
<p><span class="c2">&nbsp;
&lt;li&gt;&lt;srai&gt;IAMRESPONSE&lt;/srai&gt;</span></p>
<p><span class="c2">&nbsp; &lt;/li&gt;</span></p>
<p><span class="c2">&nbsp; &lt;/condition&gt;</span></p>
<p><span class="c2">&lt;/li&gt;</span></p>
<p><span class="c2">&lt;/condition&gt;</span></p>
<p><span class="c2">&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c2">&lt;category&gt;&lt;pattern&gt;IS * EQUALTO
*&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;</span></p>
<p><span class="c2">&lt;think&gt;&lt;set
name="temp"&gt;&lt;star/&gt;&lt;/set&gt;&lt;/think&gt;</span></p>
<p><span class="c2">&lt;condition name="temp"&gt;</span></p>
<p><span class="c2">&lt;li&gt;&lt;value&gt;&lt;star
index="2"/&gt;&lt;/value&gt; true&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;false&lt;/li&gt;</span></p>
<p><span class="c2">&lt;/condition&gt;</span></p>
<p><span class="c2">&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c1">m. &lt;condition&gt; and &lt;li
name=”predicate” value=”v”&gt; or &lt;li var=”varname”
value=”v”&gt;</span></p>
<p><span>The final form of the &lt;condition&gt; tag is the most
general. &nbsp;It contains list items, and each list item (except
optionally the last) specifies a predicate name and a value.
&nbsp;</span></p>
<p><span>As with the first two forms of &lt;condition&gt;, the
predicate name and value may be specified in subtags as well as in
attribute values:</span></p>
<p><span class="c2">&lt;li name="predicate"
value="v"&gt;X&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li
name="predicate"&gt;&lt;value&gt;v&lt;/value&gt;X&lt;/li&gt;,</span></p>
<p><span class="c2">&lt;li
value="v"&gt;&lt;name&gt;predicate&lt;/name&gt;X&lt;/li&gt;,</span>
<span>and</span></p>
<p><span class=
"c2">&lt;li&gt;&lt;name&gt;predicate&lt;/name&gt;&lt;value&gt;v&lt;/value&gt;X&lt;/li&gt;</span><span>&nbsp;are
all equaivalent.</span></p>
<p><span>The interpreter checks the list items one at a time to see
if an equality condition holds. &nbsp;For the first list item
containing equal values, the interpreter evaluates the result of
the associated list item and replaces the contents of the
&lt;condition&gt; tag and its contents with that evaluated
result.</span></p>
<p><span>A general &lt;condition&gt; may optionally contain a final
list item of the form</span></p>
<p><span class="c2">&lt;li&gt;X&lt;/li&gt;</span></p>
<p><span>with no specified value. &nbsp; If the interpreter is
unable to find a true equality condition for the previous list of
&lt;condition&gt; items, and the list contains this last default
item, then the interpreter replaces the &lt;condition&gt; tag and
its contents with the result of evaluating the contents of this
final item. &nbsp; If the default item is omitted and none of the
other items are selected, the result of the &lt;condition&gt; tag
is blank.</span></p>
<p><span>Like the one-shot &lt;condition name=”predicate”
value=”v”&gt; and the &lt;condition name=”predicate”&gt;, the
general &lt;condition&gt; tag may use * for the value attribute to
test whether a predicate is bound or not.</span></p>
<h3><a id="h.gywwpiok345o"></a><span>Local variables</span></h3>
<p><span>Like &lt;set&gt; and &lt;get&gt; in AIML 2.0, the
&lt;condition&gt; tags may refer to a local variable instead of a
predicate. &nbsp;If the attribute in a &lt;condition&gt; expression
in some template is var instead of name, then the condition
statement looks for a local variable within the scope of the
template.</span></p>
<p><span>Example:</span></p>
<p><span class="c2">&lt;category&gt;&lt;pattern&gt;IS _ EQUALTO
*&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;</span></p>
<p><span class="c2">&lt;think&gt;&lt;set
var="star"&gt;&lt;star/&gt;&lt;/set&gt;</span></p>
<p><span class="c2">&lt;/think&gt;</span></p>
<p><span class="c2">&lt;condition var="star"&gt;</span></p>
<p><span class="c2">&lt;li&gt;&lt;value&gt;&lt;star
index="2"/&gt;&lt;/value&gt;true&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;false&lt;/li&gt;</span></p>
<p><span class="c2">&lt;/condition&gt;</span></p>
<p><span class="c2">&lt;/template&gt;<br>
&lt;/category&gt;</span></p>
<p><span>Here the var indicates that the variable star has scope
limited to this category. &nbsp;This lets the botmaster reuse
common names such as “star” in many different categories, without
worrying about saving this value in a global predicate
value.</span></p>
<p><span class="c1">n. &lt;loop/&gt;</span></p>
<p><span>AIML 2.0 provides for a &lt;loop/&gt; tag in a condition
list item &lt;li&gt; element. &nbsp; If the activated &lt;li&gt;
element contains a &lt;loop/&gt; tag, then the condition statement
is re-evaluated until it reaches another &lt;li&gt; item without
&lt;loop/&gt;.</span></p>
<p><span>When an &lt;li&gt; element containing &lt;loop/&gt; is
evaluated, the interpreter replaces the &lt;loop/&gt; tag with an
empty string. &nbsp;</span></p>
<p><span>Each time &lt;loop/&gt; returns and the &lt;condition&gt;
tag is re-evaluated, any text resulting from the evaluation of the
&lt;li&gt; item is appended to a concatenated string, so that the
finally the &lt;condition&gt; element is replaced with the
appended, evaluated list items.</span></p>
<p><span class="c6 c2">&lt;category&gt;</span></p>
<p><span class="c6 c2">&lt;pattern&gt;COUNT TO
&lt;set&gt;number&lt;/set&gt;&lt;/pattern&gt;</span></p>
<p><span class="c6 c2">&lt;template&gt;</span></p>
<p><span class="c6 c2">&lt;think&gt;&lt;set
name="count"&gt;0&lt;/set&gt;&lt;/think&gt;</span></p>
<p><span class="c6 c2">&lt;condition name="count"&gt;</span></p>
<p><span class=
"c6 c2">&lt;li&gt;&lt;value&gt;&lt;star/&gt;&lt;/value&gt;&lt;/li&gt;</span></p>
<p><span class="c6 c2">&lt;li&gt;</span></p>
<p><span class="c6 c2">&lt;set
name="count"&gt;&lt;map&gt;&lt;name&gt;successor&lt;/name&gt;&lt;get
name="count"/&gt;&lt;/map&gt;&lt;/set&gt; &lt;loop/&gt;</span></p>
<p><span class="c6 c2">&lt;/li&gt;</span></p>
<p><span class="c6 c2">&lt;/condition&gt;</span></p>
<p><span class="c6 c2">&lt;/template&gt;</span></p>
<p><span class="c6 c2">&lt;/category&gt;</span></p>
<p><span class="c6 c2">&lt;category&gt;</span></p>
<p><span class="c6 c2">&lt;pattern&gt;NTH
&lt;set&gt;number&lt;/set&gt; *&lt;/pattern&gt;</span></p>
<p><span class="c2 c6">&lt;template&gt;</span></p>
<p><span class="c6 c2">&lt;think&gt;</span></p>
<p><span class="c6 c2">&lt;set
name="nth"&gt;&lt;star/&gt;&lt;/set&gt;</span></p>
<p><span class="c6 c2">&lt;set
name="count"&gt;1&lt;/set&gt;</span></p>
<p><span class="c6 c2">&lt;set
name="letters"&gt;&lt;explode&gt;&lt;star
index="2"/&gt;&lt;/explode&gt;&lt;/set&gt;</span></p>
<p><span class="c6 c2">&lt;/think&gt;</span></p>
<p><span class="c6 c2">&lt;condition&gt;</span></p>
<p><span class=
"c6 c2">&lt;li&gt;&lt;name&gt;letters&lt;/name&gt;&lt;value&gt;undefined&lt;/value&gt;</span></p>
<p><span class="c6 c2">&lt;star index="2"/&gt; has only
&lt;map&gt;&lt;name&gt;predecessor&lt;/name&gt;&lt;get
name="count"/&gt;&lt;/map&gt; letters.&lt;/li&gt;</span></p>
<p><span class=
"c6 c2">&lt;li&gt;&lt;name&gt;count&lt;/name&gt;&lt;value&gt;&lt;get
name="nth"/&gt;&lt;/value&gt;</span></p>
<p><span class="c6 c2">The
&lt;map&gt;&lt;name&gt;number2ordinal&lt;/name&gt;&lt;star/&gt;&lt;/map&gt;
letter is &lt;srai&gt;FIRSTLETTER &lt;get
name="letters"/&gt;&lt;/srai&gt;&lt;/li&gt;</span></p>
<p><span class="c6 c2">&lt;li&gt;</span></p>
<p><span class="c6 c2">&lt;think&gt;</span></p>
<p><span class="c6 c2">&lt;set
name="count"&gt;&lt;map&gt;&lt;name&gt;successor&lt;/name&gt;&lt;get
name="count"/&gt;&lt;/map&gt;&lt;/set&gt;</span></p>
<p><span class="c6 c2">&lt;set
name="letters"&gt;&lt;srai&gt;REMAININGLETTERS &lt;get
name="letters"/&gt;&lt;/srai&gt;&lt;/set&gt;</span></p>
<p><span class="c6 c2">&lt;/think&gt;</span></p>
<p><span class="c6 c2">&lt;loop/&gt;</span></p>
<p><span class="c6 c2">&lt;/li&gt;</span></p>
<p><span class="c6 c2">&lt;/condition&gt;</span></p>
<p><span class="c6 c2">&lt;/template&gt;</span></p>
<p><span class="c6 c2">&lt;/category&gt;</span></p>
<p><span class="c6">Sample dialogs:</span></p>
<p><span class="c6 c0">Human: Count to 14</span></p>
<p><span class="c6 c0">Robot: 1 2 3 4 5 6 7 8 9 10 11 12 13
14</span></p>
<p><span class="c6 c0">Human: what is the first letter of
dog?</span></p>
<p><span class="c6 c0">Robot: The First letter is d.</span></p>
<p><span class="c6 c0">Human: what is the seventh letter of
church?</span></p>
<p><span class="c6 c0">Robot: church has only 6 letters.</span></p>
<p><span class="c6 c0">Human: what is the 22nd letter of the
alphabet?</span></p>
<p><span class="c6 c0">Robot: The Twenty second letter is
V</span></p>
<p><span class="c6 c0">Human: what is the eleventh letter in
greenhouse?</span></p>
<p><span class="c6 c0">Robot: greenhouse has only 9
letters.</span></p>
<p><span class="c6 c0">Human: what is the 7th letter within
greenhouse?</span></p>
<p><span class="c6 c0">Robot: The Seventh letter is o</span></p>
<p><span class="c1">o.</span> <span class="c1">&lt;srai&gt; and
&lt;sr/&gt;</span></p>
<p><span>There has never been any agreement over what the “sr”
stands for in the &lt;srai&gt; tag. &nbsp; This is because the tag
has so many applications in AIML. &nbsp; At different times, we
describe &lt;srai&gt; as Symbolic Reduction, Simple Recursion,
Syntactic Rewrite or Stimulus-Response. &nbsp;</span></p>
<p><span>When the interpreter encounters an &lt;srai&gt; tag, it
evaluates the contents and converts the result to normalized form.
&nbsp; The interpreter then feeds these normalized, evaluated
contents back into the pattern matcher to find a matching category.
&nbsp; When the matching category is found, the interpreter
evaluates its template and replaces the &lt;srai&gt; with the
result. &nbsp; &nbsp;</span></p>
<p><span>A very common expression in AIML is</span></p>
<p><span class=
"c2">&lt;srai&gt;&lt;star/&gt;&lt;/srai&gt;</span></p>
<p><span>where the &lt;srai&gt; is applied to whatever matched the
first widlcard * or _ (or in AIML 2.0, a pattern-side &lt;set&gt;).
&nbsp;Because the botmaster may end up writing this expression so
often, AIML includes an abbreviation &lt;sr/&gt; defined
as</span></p>
<p><span class="c2">&lt;sr/&gt; =
&lt;srai&gt;&lt;star/&gt;&lt;/srai&gt;</span><span>.</span></p>
<p><span>The best way to understand the recursive action of the
AIML &lt;srai&gt; tag is by example.</span></p>
<p><span class="c0">Client: You may say that again
Alice.</span></p>
<p><span class="c0">Robot: Once more? "that."</span></p>
<p><span>The robot has no specific response to the pattern "You may
say that again Alice." Instead, the robot builds its response to
the client input in four steps. This simple sentence activated a
sequence of four categories linked by &lt;srai&gt; tags. The robot
constructed the reply "Once more? 'that'" recursively as each
subsentence triggered the next matching pattern.</span></p>
<p><span>In this example the processing proceeds in four steps,
because each of the first three steps evokes another symbolic
reduction.</span></p>
<a id="t.96c658cfcfb4f35f1fae1f4538510f81596e7f1c"></a><a id=
"t.1"></a>
<table class="c26">
<tbody>
<tr class="c21">
<td class="c43" colspan="1" rowspan="1">
<p class="c9"><span class="c1 c7">Step</span></p>
</td>
<td class="c18" colspan="1" rowspan="1">
<p class="c9"><span class="c1 c7">normalized input</span></p>
</td>
<td class="c28" colspan="1" rowspan="1">
<p class="c9"><span class="c1 c7">matching pattern</span></p>
</td>
<td class="c23" colspan="1" rowspan="1">
<p class="c9"><span class="c1 c7">template</span></p>
</td>
<td class="c33" colspan="1" rowspan="1">
<p class="c9"><span class="c1 c7">response</span></p>
</td>
</tr>
<tr class="c21">
<td class="c43" colspan="1" rowspan="1">
<p class="c9"><span class="c4">1.</span></p>
</td>
<td class="c18" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c0 c7">YOU MAY SAY THAT AGAIN
ALICE</span></p>
</td>
<td class="c28" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c2">_ &lt;bot
name="name"/&gt;</span></p>
</td>
<td class="c23" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c2">&lt;sr/&gt;</span></p>
</td>
<td class="c33" colspan="1" rowspan="1">
<p class="c9 c39"></p>
</td>
</tr>
<tr class="c21">
<td class="c43" colspan="1" rowspan="1">
<p class="c9"><span class="c4">2.</span></p>
</td>
<td class="c18" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c0 c7">YOU MAY SAY THAT
AGAIN</span></p>
</td>
<td class="c28" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c2">_ AGAIN</span></p>
</td>
<td class="c23" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c2">Once more? &lt;sr/&gt;</span></p>
</td>
<td class="c33" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c2">Once More?</span></p>
</td>
</tr>
<tr class="c21">
<td class="c43" colspan="1" rowspan="1">
<p class="c9"><span class="c4">3.</span></p>
</td>
<td class="c18" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c0 c7">YOU MAY SAY THAT</span></p>
</td>
<td class="c28" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c2">YOU MAY *</span></p>
</td>
<td class="c23" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c2">&lt;sr/&gt;</span></p>
</td>
<td class="c33" colspan="1" rowspan="1">
<p class="c9"><span class="c2 c5">Once More?</span></p>
</td>
</tr>
<tr class="c21">
<td class="c43" colspan="1" rowspan="1">
<p class="c9"><span class="c4">4.</span></p>
</td>
<td class="c18" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c0 c7">SAY THAT</span></p>
</td>
<td class="c28" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c2">SAY *</span></p>
</td>
<td class="c23" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c2">"&lt;person/&gt;"</span></p>
</td>
<td class="c33" colspan="1" rowspan="1">
<p class="c9"><span class="c5 c2">Once More? "that".</span></p>
</td>
</tr>
</tbody>
</table>
<p><span>In step 1, the patterns with "_" match first because they
are last in alphabetical order. The order of the matches depends on
this alphabetical ordering of patterns. ALICE always matches
suffixes with "_" before prefixes with "*". Whatever matches either
wild-card symbol becomes the value of &lt;star/&gt;.</span></p>
<p><span>Steps 1 through 3 illustrate the common AIML templates
that use the abbreviated &lt;sr/&gt; tag. (Remember, &lt;sr/&gt; =
&lt;srai&gt;&lt;star/&gt;&lt;/srai&gt; ). The categories with the
patterns "_ &lt;name/&gt;" and "YOU MAY *" simply reduce the
sentence to whatever matches the "*", as illustrated by steps 1 and
3.</span></p>
<p><span>Some AIML templates in ALICE combine the &lt;sr/&gt; with
an ordinary text response, as step 2 with the pattern "_ AGAIN".
The phrase "Once more?" becomes part of any reply ending in
"AGAIN".</span></p>
<p><span>The category in step 4 with "SAY *" is a default that
often produces logically correct but amusing dialogue:</span></p>
<p><span class="c0">Client: Say hello in Swedish.</span></p>
<p><span class="c0">Robot: "Hello in Swedish."</span></p>
<p><span>or as in this case:</span></p>
<p><span class="c0">Client: Say that.</span></p>
<p><span class="c0">Robot: "that."</span></p>
<h3><span>Many patterns, one reply</span></h3>
<p><span>The most common use of &lt;srai&gt; is to map two, or
more, patterns to the same response:</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp;
&lt;pattern&gt;P&lt;/pattern&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;template&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp;
&lt;srai&gt;Q&lt;/srai&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp;
&lt;pattern&gt;Q&lt;/pattern&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp;
&lt;template&gt;R&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span>An input matching either pattern, P or Q, gets the same
response R.</span></p>
<p><span>To show a more concrete example: the input "Hello" should
have an appropriate response like "Hi there!". But we can expand
the inputs generating this response to include all the common
variations of "Hello":</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp;
&lt;pattern&gt;HI&lt;/pattern&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;template&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp;
&lt;srai&gt;HELLO&lt;/srai&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp;
&lt;pattern&gt;HOWDY&lt;/pattern&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;template&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp;
&lt;srai&gt;HELLO&lt;/srai&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp;
&lt;pattern&gt;HALLO&lt;/pattern&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;template&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp;
&lt;srai&gt;HELLO&lt;/srai&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;pattern&gt;HI
THERE&lt;/pattern&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;template&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp;
&lt;srai&gt;HELLO&lt;/srai&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp;
&lt;pattern&gt;HELLO&lt;/pattern&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;template&gt;Hi
there!&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span>As the following example shows, we can use the &lt;sr/&gt;
tag as an abbreviation for &lt;srai&gt;&lt;star/&gt;&lt;/srai&gt;.
This category creates a compound response to both "hello" and
whatever matches the wildcard *:</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;pattern&gt;HELLO
*&lt;/pattern&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;template&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp;
&lt;srai&gt;HELLO&lt;/srai&gt; &lt;sr/&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<h3 class="c30"><span class="c7 c29">Symbolic reductions and
state</span></h3>
<p><span>The tag &lt;that&gt; in AIML introduces one dimension of
"dialogue state" into the robot response. The value of &lt;that&gt;
is whatever the robot said before that provoked the current client
input.</span></p>
<p><span>The inputs "yes" and "no" are two of the most common human
queries. But a careful analysis of the dialogues shows that most of
the time, people say "yes" or "no" to only a small set of questions
asked by the robot.</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp;
&lt;pattern&gt;NO&lt;/pattern&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;that&gt;I
UNDERSTAND&lt;/that&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;template&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &nbsp; &nbsp; &lt;srai&gt;YOU DO
NOT UNDERSTAND&lt;/srai&gt;</span></p>
<p><span class="c2">&nbsp; &nbsp; &lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span>illustrates the use of &lt;that&gt; with &lt;srai&gt;. The
client input matches simply "No". What did the robot say that made
the client say no? If it was "I understand." then this category
formulates a response with</span></p>
<p><span class="c2">&lt;srai&gt;YOU DO NOT
UNDERSTAND&lt;/srai&gt;</span></p>
<p><span>which in turn activates another category with the
pattern</span></p>
<p><span class="c2">&lt;pattern&gt;YOU DO NOT
UNDERSTAND&lt;/pattern&gt;</span></p>
<p><span>This category responds: "I do so understand. It all makes
sense to my artificial mind."</span></p>
<h3><span>Summary of &lt;srai&gt;</span></h3>
<p><span>The AIML &lt;srai&gt; tag simplifies and combines four
important chat robot operations:</span></p>
<ul class="c24 lst-kix_bku3nfld1lfr-0 start">
<li class="c11"><span>Maps multiple patterns to the same
response.</span></li>
<li class="c11"><span>Reduces a complex sentence structure to a
simpler form.</span></li>
<li class="c11"><span>Diminishes the need for multiple-wildcard
input patterns.</span></li>
<li class="c11"><span>Translates state-dependent inputs into
simpler stimulii.</span></li>
</ul>
<p><span>In some sense &lt;srai&gt; is a very low-level operation,
but its simplicity captures a wide range of typical chat robot
functions.</span></p>
<p><span class="c1">p. &lt;sraix&gt;</span></p>
<p><span>&lt;sraix&gt; is a new AIML 2.0 tag designed to allow a
bot to access external natural langauge web services and also other
AIML bots. &nbsp; The &lt;sraix&gt; tag extends the concept of the
classic AIML &lt;srai&gt; tag. &nbsp;The &lt;srai&gt; tag
essentially allows a bot to reformulate an input and feed the
revised input back to itself. &nbsp; The &lt;sraix&gt; tag feeds
the reformulated input to another bot. &nbsp;</span></p>
<p><span>Recall the use of the classic &lt;srai&gt; in this
example:</span></p>
<p><span class="c2">&lt;category&gt;<br>
&lt;pattern&gt;WHAT IS *&lt;/pattern&gt;<br>
&lt;template&gt;&lt;srai&gt;XFIND
&lt;star/&gt;&lt;/srai&gt;&lt;/template&gt;<br>
&lt;/category&gt;</span></p>
<p><span>This category matches inputs starting with “What is”.
&nbsp;The purpose of the &lt;srai&gt; here is to rewrite the input
as a sentence starting with the keyword XFIND. &nbsp;For example,
“What is hermeneutics?” would be rewritten as “XFIND hermeneutics”.
&nbsp;There is another category with the pattern “XFIND *” might
contain a list of random responses to try to cover the fact the bot
doesn’t really know the answer, or it might contain some Javascript
to try to access the information from a remote source. &nbsp; It
has not been possible with AIML, until now, to directly query
another bot or service for the response.</span></p>
<p><span>The &lt;sraix&gt; tag allows the botmaster to write
categories that access other services. &nbsp;The “What is” category
may now be written as:</span></p>
<p><span class="c2">&lt;category&gt;<br>
&lt;pattern&gt;WHAT IS *&lt;/pattern&gt;<br>
&lt;template&gt;&lt;sraix&gt;WHAT IS
&lt;star/&gt;&lt;/sraix&gt;&lt;/template&gt;<br>
&lt;/category&gt;</span></p>
<p><span>In this case the input is not really reformulated at all.
&nbsp;The template merely sends, in our example, “What is
hermeneutics” to another bot. &nbsp;The other bot in the default
case is the Pannous web service. &nbsp; In the general case, the
bot could be a remote web service, or even another
Pandorabot.</span></p>
<h3 class="c30"><span>&lt;sriax&gt; attributes</span></h3>
<p><span class="c1">No attribute</span></p>
<p><span>The default case should access Pannous service (with what
API key?).</span></p>
<p><span class="c1 c16">bot</span><span class=
"c1">&nbsp;attribute</span></p>
<p><span class="c13">&lt;sraix bot=</span><span class=
"c6 c2">"</span><span class=
"c13">username/botname</span><span class=
"c6 c2">"</span><span class="c13">&gt;</span><span>&nbsp;- On a
server with multiple bots created by multiple users, specify the
destination bot by a combination of username and
botname.</span></p>
<p><span class="c16 c1">limit</span> <span class=
"c1">attribute<br></span></p>
<p><span class="c13">&lt;sraix limit=</span><span class=
"c6 c2">"</span><span class="c13">n</span><span class=
"c6 c2">"</span><span class="c13">&gt;</span><span>&nbsp;- limit
the response to the first n sentences received from the remote bot.
&nbsp;For example &lt;sraix limit=”5”&gt; clips the response after
the first 5 sentences. &nbsp; The default limit value is
3.</span></p>
<p><span class="c16 c1">service</span><span class=
"c1">&nbsp;attribute</span></p>
<p><span class="c13">&lt;sraix service=</span><span class=
"c6 c2">"</span><span class="c13">pannous</span><span class=
"c6 c2">"</span><span class="c13">&gt;</span> <span>- access a
named service. &nbsp;We should register names of high-usage
services like “pannous” for the convenience of the
botmaster.</span></p>
<p><span class="c16 c1">apikey</span><span class=
"c1">&nbsp;attribute</span></p>
<p><span class="c2">&lt;sraix service=</span><span class=
"c6 c2">"</span><span class="c2">pannous</span><span class=
"c6 c2">"</span><span class="c2">&nbsp;apikey=</span><span class=
"c6 c2">"</span><span class="c2">1234567</span><span class=
"c6 c2">"</span><span class="c2">&gt;</span><span>&nbsp;- some
services may require botmaster-specific API keys.</span></p>
<p><span class="c16 c1">botid</span><span class=
"c1">&nbsp;attribute</span></p>
<p><span class="c2">&lt;sraix botid=</span><span class=
"c6 c2">"b69a1aa27e345abb"&gt;</span><span class=
"c6 c13">&nbsp;</span><span class="c6">- access a bot on the same
server using its bot id.</span></p>
<p><span class="c16 c1">server</span> <span class=
"c1">attribute</span></p>
<p><span class="c2">&lt;sraix server=</span><span class=
"c6 c2">"</span><span class=
"c2">www.pandorabots.com</span><span class=
"c6 c2">"</span><span class="c2">&nbsp;botid=</span><span class=
"c6 c2">"b69a1aa27e345abb"&gt;</span><span class=
"c6 c13">&nbsp;</span><span class="c6">- access another
Pandorabot.</span></p>
<p><span class="c6 c16 c1">hint</span> <span class=
"c6 c1">attribute</span></p>
<p><span class="c6">&lt;sraix hint=”suggestion”&gt; -- give the
sraix processor a hint about which type of service to
use.</span></p>
<p><span class="c6">hint=”event” -- means calendar or alarm
event.</span></p>
<p><span class="c6 c16 c1">default attribute</span></p>
<p><span class="c6">&lt;sraix default=”default reply”&gt; makes
“default reply” the response when &lt;sraix&gt; fails, instead of
calling the SRAIXFAILED category.</span></p>
<p><span>Examples:</span></p>
<p><span class="c2">&lt;category&gt;&lt;pattern&gt;WHAT IS THE
WEATHER FORECAST FOR *&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;&lt;sraix&gt;WHAT IS THE
WEATHER FORECAST FOR
&lt;star/&gt;&lt;/sraix&gt;&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c2">&lt;category&gt;&lt;pattern&gt;FAVORITE
*&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;&lt;sraix
botid="844a85704e345a9a" host="callmom.pandorabots.com"&gt;FAVORITE
&lt;star/&gt;&lt;/sraix&gt;&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class=
"c2">&lt;category&gt;&lt;pattern&gt;SCHEDULEDESCRIPTION *
SCHEDULEREQUEST *&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;</span></p>
<p><span class="c2">&lt;think&gt;</span></p>
<p><span class="c2">&lt;set name="sraix"&gt;&lt;sraix
default="SCHEDULEFAILED" hint="event"&gt;&lt;star
index="2"/&gt;&lt;/sraix&gt;&lt;/set&gt;</span></p>
<p><span class="c2">&lt;/think&gt;</span></p>
<p><span class="c2">&lt;condition name="sraix"&gt;</span></p>
<p><span class="c2">&lt;li value="SCHEDULEFAILED"&gt;I'm unable to
schedule that event.&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;I'll put that event on your
calendar.</span></p>
<p><span class=
"c2">&lt;oob&gt;&lt;schedule&gt;&lt;title&gt;&lt;star/&gt;&lt;/title&gt;&lt;description&gt;&lt;lowercase&gt;&lt;star
index="2"/&gt;&lt;/lowercase&gt;&lt;/description&gt;&lt;get
name="sraix"/&gt;&lt;/schedule&gt;&lt;/oob&gt;</span></p>
<p><span class="c2">&lt;/li&gt;</span></p>
<p><span class="c2">&lt;/condition&gt;</span></p>
<p><span class="c2">&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span>Sample dialog:</span></p>
<p><span class="c1 c0">Human:</span><span class="c0">&nbsp;weather
in san francisco</span></p>
<p><span class="c1 c0">Robot:</span><span class="c0">&nbsp;San
francisco It is currently mostly cloudy 60 Fahrenheit.</span></p>
<p><span class="c1 c0">Human:</span><span class="c0">&nbsp;what is
the capital of texas</span></p>
<p><span class="c1 c0">Robot:</span><span class="c0">&nbsp;Capital
of Texas usually refers to the Austin Texas the present capital.
&nbsp;However several other cities served as the capital of Texas
During the period of the Republic of Texas 1836–1845 the capital of
Texas moved from city to city.</span></p>
<p><span class="c1 c0">Human:</span><span class="c0">&nbsp;define
arbitration</span></p>
<p><span class="c1 c0">Robot:</span><span class=
"c0">&nbsp;Arbitration a form of alternative dispute resolution ADR
is a legal technique for the resolution of disputes outside the
courts where the parties to a dispute refer it to one or more
persons the arbitrators arbiters or arbitral tribunal by whose
decision the award they agree to be bound. &nbsp;It is a resolution
technique in which a third party reviews the evidence in the case
and imposes a decision that is legally binding for both sides and
enforceable 1 Other forms of ADR include mediation 2 a form of
settlement negotiation facilitated by a neutral third party and non
binding resolution by experts. &nbsp;Arbitration is often used for
the resolution of commercial disputes particularly in the context
of international commercial transactions.</span></p>
<h3><a id="h.c903tp665on6"></a><span class=
"c12 c29 c0">Human:</span><span class="c19 c12 c0">&nbsp;who won
the most olympic medals?</span></h3>
<h3><a id="h.1mqnepw3aasr"></a><span class=
"c12 c29 c0">Robot:</span><span class="c12 c0 c19">&nbsp;Michael
Phelps has won the most medals in a career with 19 medals. &nbsp;15
gold medals 2 silver and 2 bronze. &nbsp;He is from the United
States of America and is a swimmer.</span></h3>
<p><span class="c1 c0">Human:</span><span class="c0">&nbsp;do you
know who phyllis diller is</span></p>
<p><span class="c1 c0">Robot:</span><span class="c0">&nbsp;Phyllis
Diller July 17 1917 – August 20 2012 was an American actress and
comedian. She created a stage persona of a wild haired
eccentrically dressed housewife who made self deprecating jokes
about her age and appearance her terrible cooking and a husband
named Fang while pretending to smoke from a long cigarette holder.
Diller’s signature was her unusual laugh.</span></p>
<h3 class="c30"><span>Using &lt;sraix&gt; in AIML</span></h3>
<p><span class="c51">Im</span><span>portant Note:</span></p>
<p><span>To avoid the possibility of infinite recursion, you should
include an AIML category with the pattern SRAIXFAILED. &nbsp;When
the &lt;sraix&gt; operation is unable to connect to the remote bot,
for example if the service is down or network connection lost, or
if the remote bot is unable to provide an answer, Pandorabots will
attempt to activate the category with pattern SRAIXFAILED.</span>
<span class="c1 c47">&nbsp; It is extremely important not to
include another &lt;sraix&gt; in the response template for
SRAIXFAILED.</span></p>
<p><span class="c1">Example:</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class=
"c2">&lt;pattern&gt;SRAIXFAILED&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;</span></p>
<p><span class="c2">&lt;random&gt;</span></p>
<p><span class="c2">&lt;li&gt;I am unable to
answer.&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;I asked another robot, but he did not
know.&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;Try asking me a different
way.&lt;/li&gt;</span></p>
<p><span class="c2">&lt;/random&gt;</span></p>
<p><span class="c2">&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c1">Bad Example:</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;*&lt;/pattern&gt;<br>
&lt;template&gt;&lt;sraix&gt;&lt;star/&gt;&lt;/sraix&gt;&lt;/pattern&gt;<br>

&lt;/template&gt;</span></p>
<p><span>If this category exists and no SRAIXFAILED is found, the
bot will go into infinite recursion, stopping when the interpreter
reaches its recursion limit..</span></p>
<h4 class="c52"><span>&lt;sraix&gt; Example</span></h4>
<p><span>We’ll start with a simple example where we use
&lt;sraix&gt; to answer “Who is...” questions.</span></p>
<p><span>We can write a simple AIML category to answer “Who is...”
questions by contacting Pannous service.</span></p>
<p><span class="c2">&lt;category&gt;<br>
&lt;pattern&gt;WHO IS *&lt;/pattern&gt;<br>
&lt;template&gt;&lt;sraix&gt;WHO IS
&lt;star/&gt;&lt;/sraix&gt;&lt;/template&gt;<br>
&lt;/category&gt;</span></p>
<p><span>This category will match inputs like “Who is Abraham
Lincoln”, “Who is Alan Turing”, and “Who is Bob Marley”, all of
which could be answered by Pannous.</span></p>
<p><span>This category by itself however will not match all the
ways of asking “Who is X”, nor will all the inputs it matches be
questions that Pannous can answer. &nbsp;As examples,
consider:</span></p>
<p><span>(A). “Who is your mother?” - Matches “WHO IS *”, but is
really a personality question for the bot. (false positive
match)</span></p>
<p><span>(B). “Do you know who Alan Turing is?” - Does not match
“WHO IS *”, but could be answered by Pannous. (false negative
match)</span></p>
<p><span>To narrow the focus of the queries and resolve problem
(A), the bot should have a number of other patterns and responses
to answer personality questions, give opinions, and provide profile
information. &nbsp;These include:</span></p>
<p><span class="c13">WHO IS YOUR MOTHER<br>
WHO IS BETTER * OR *</span></p>
<p><span class="c13">WHO ARE YOUR FRIENDS</span></p>
<p><span class="c13">WHO IS MY GIRLFRIEND</span></p>
<p><span class="c13">WHO DO YOU LIKE BETTER * OR *</span></p>
<p><span class="c13">WHO IS YOUR PROGRAMMER</span></p>
<p><span>To increase the accuracy of matching for inputs that
should be directed to Pannous, we can add categories with specific
patterns like:</span></p>
<p><span class="c13">WHO IS THE PRESIDENT OF *</span></p>
<p><span class="c13">WHO WROTE *</span></p>
<p><span class="c13">WHO PLAYED *</span></p>
<p><span class="c13">WHO WON *</span></p>
<p><span class="c13">WHO INVENTED *</span></p>
<p><span class="c13">WHO IS THE LEAD SINGER OF *</span></p>
<p><span>To increase the variety of questions that can be asked and
resolve problem (B), we need a set of reduction categories to
capture various ways of phrasing “Who”-questions:</span></p>
<p><span class="c2">DO YOU KNOW WHO * IS → &lt;srai&gt;WHO IS
&lt;star/&gt;&lt;/srai&gt;<br>
WHO THE HELL IS * → &lt;srai&gt;WHO IS
&lt;star/&gt;&lt;/srai&gt;</span></p>
<p><span class="c2">TELL ME WHO * IS → &lt;srai&gt;WHO IS
&lt;star/&gt;&lt;/srai&gt;</span></p>
<p><span class="c2">SO WHO IS * → &lt;srai&gt;WHO IS
&lt;star/&gt;&lt;/srai&gt;</span></p>
<p><span class="c1">q. &lt;set name="predicate"&gt; and &lt;set
var=”variable”&gt; (template-side)</span></p>
<p><span>The template-side &lt;set&gt; tag provides a way to set
local variables, called predicates, that are specific to one client
chatting with the bot. &nbsp; &nbsp;When evaluating a &lt;set&gt;
tag, the interpreter processes the contents of the tag and stores
the result as the value of the named predicate. &nbsp; The
&lt;set&gt; expression is then replaced with this value, except in
cases where the botmaster has specified the return value should be
the predicate name instead of the value, as described
below.</span></p>
<p><span>Like other template-side tags in AIML, the attribute for
&lt;set&gt; may be specified in a subtag:</span></p>
<p><span class="c2">&lt;set
name=”predicate”&gt;X&lt;/set&gt;</span> <span>is equivalent
to</span> <span class=
"c2">&lt;set&gt;&lt;name&gt;predicate&lt;/name&gt;X&lt;/set&gt;</span></p>
<p><span>The botmaster may choose to have certain pronoun
predicates, such as he, she and it, configured so that &lt;set&gt;
returns the pronoun name rather than the value. &nbsp;</span></p>
<p><span>Given the category</span></p>
<p><span>&lt;category&gt;<br>
&lt;pattern&gt;WHO IS LIONEL MESSI&lt;/pattern&gt;<br>
&lt;template&gt;&lt;set name=”he”&gt;Lionel Messi&lt;/set&gt; is a
famous football star.&lt;/template&gt;<br>
&lt;/category&gt;</span></p>
<p><span>the botmaster might prefer to have the response
be</span></p>
<p><span class="c0">He is a famous football star.</span></p>
<p><span>rather than</span></p>
<p><span class="c0">Lionel Messi is a famous football
star.</span></p>
<p><span>The exact method used to specify these
predicate-name-return cases is left up to the interpreter.
&nbsp;</span></p>
<p><span>A special case of &lt;set&gt; is &lt;set name=”topic”&gt;.
&nbsp;“Topic” is a reserved predicate name for the AIML topic.
&nbsp;Whatever value the predicate topic has, is used in the AIML
matching process and is significant when matching a category with a
&lt;topic&gt; tag.</span></p>
<p><span>(For a description of the difference between the name and
var attributes, see the following subsection on &lt;get
var=”variable”/&gt;).</span></p>
<p><span class="c1">r. &lt;get name="predicate"/&gt; and &lt;get
var=”variable”/&gt;</span></p>
<p><span>The complement &nbsp;to the template-side &lt;set&gt; tag
is the &lt;get&gt; tag, which retrieves the value of a named
predicate. &nbsp; If the predicate has been set by a previously
activated, the interpreter replaces the &lt;set&gt; tag with that
saved value. &nbsp;Predicates that have not yet been set may have
default values specified by the botmaster. &nbsp;The format and
means of specifying these default values is left up to the
interpreter. &nbsp; There should also be a global default value for
any predicates that have neither been set, nor have explicit
default values.</span></p>
<p><span>The difference between the attributes name and var is like
the distinction between global and local variables. &nbsp; A var
only has scope for the category template in which it is set.
&nbsp;If we try to access a var value outside of this scope, it
should return whatever global default value the botmaster defined
for predicates. &nbsp;A var never has a default value, except this
global default value.</span></p>
<p><span>Example:</span></p>
<p><span class="c2">&lt;category&gt;&lt;pattern&gt;TEST
VAR&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;</span></p>
<p><span class="c2">&lt;think&gt;</span></p>
<p><span class="c2">&lt;set name="boundpredicate"&gt;some
value&lt;/set&gt;</span></p>
<p><span class="c2">&lt;set
var="boundvar"&gt;something&lt;/set&gt;</span></p>
<p><span class="c2">&lt;/think&gt;</span></p>
<p><span class="c2">TEST VAR:</span></p>
<p><span class="c2">unboundpredicate = &lt;get
name="unboundpredicate"/&gt;.</span></p>
<p><span class="c2">boundpredicate = &lt;get
name="boundpredicate"/&gt;.</span></p>
<p><span class="c2">unboundvar = &lt;get
var="unboundvar"/&gt;.</span></p>
<p><span class="c2">boundvar = &lt;get
var="boundvar"/&gt;.</span></p>
<p><span class="c2">&lt;srai&gt;TEST VAR
SRAI&lt;/srai&gt;</span></p>
<p><span class="c2">&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span><br>
Sample dialog:</span></p>
<p><span class="c0">Robot: TEST VAR:</span></p>
<p><span class="c0">unboundpredicate = unknown.</span></p>
<p><span class="c0">boundpredicate = some value.</span></p>
<p><span class="c0">unboundvar = unknown.</span></p>
<p><span class="c0">boundvar = something.</span></p>
<p><span class="c0">TEST VAR SRAI:</span></p>
<p><span class="c0">unboundpredicate = unknown.</span></p>
<p><span class="c0">boundpredicate = some value.</span></p>
<p><span class="c0">unboundvar = unknown.</span></p>
<p><span class="c0">boundvar = unknown.</span></p>
<p><span>In this sample dialog, the first category with pattern
TEST VAR contains a local variable called boundvar. &nbsp;The value
of boundvar is set to “something”, and can be retrieved within that
category by &lt;get var=”boundvar”/&gt;. &nbsp; When the category
activates another one through &lt;srai&gt; however, the value of
boundvar is “unknown”, the global default predicate
value.</span></p>
<p><span class="c1">s. &lt;map&gt;</span></p>
<p><span>See the companion document</span> <span class=
"c22 c1"><a class="c15" href=
"https://www.google.com/url?q=https://docs.google.com/document/d/1DWHiOOcda58CflDZ0Wsm1CgP3Es6dpicb4MBbbpwzEk/edit%23heading%3Dh.6yadin3ccni5&amp;sa=D&amp;ust=1455276582151000&amp;usg=AFQjCNHpNEWNNe-8-0hK59csdh8JRpXk7A">
Sets and Maps in AIML 2.0</a></span></p>
<p><span class="c1">t. &lt;bot name=”property”/&gt;</span></p>
<p><span>Bot properties are like global constants for a bot. &nbsp;
Once they are set by the botmaster, bot properties, unlike
predicates, are not changed by conversational interaction. &nbsp;
The bot properties are typically used for profile features such as
the bot’s name, age, gender, location, preferences and so
on.</span></p>
<p><span>Like other tags in AIML 2.0, the attribute value of
&lt;bot name=”property”/&gt; may appear in a subtag:</span></p>
<p><span class="c2">&lt;bot name=”property”/&gt; i</span><span>s
equivalent to</span> <span class=
"c2">&lt;bot&gt;&lt;name&gt;property&lt;/name&gt;&lt;/bot&gt;.</span></p>
<p><span>When the AIML interpreter evaluates a &lt;bot
name=”property”/&gt; tag, it replaces the tag with the value of the
named property. &nbsp; &nbsp;A global default value should exist
for any property that has not been set by the botmaster.
&nbsp;</span></p>
<p><span class="c1">u. &lt;date format="f"
jformat="j"/&gt;</span></p>
<p><span class="c32">Pandorabots supports three extension
attributes to the date element in templates:</span></p>
<p><span class="c10">&nbsp;</span></p>
<p><span class="c10">&nbsp; &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;locale</span></p>
<p><span class="c10">&nbsp; &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;format</span></p>
<p><span class="c10">&nbsp; &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timezone</span></p>
<p><span class="c32 c13">&nbsp;</span></p>
<p><span class="c32">timzeone should be an integer number of hours
+/- from GMT and that locale is the iso language/country code pair
e.g., en_US, ja_JP.</span><span class="c14">&nbsp;
L</span><span class="c32">ocale &nbsp;defaults to en_US. The set of
supported locales are</span><span class="c14">:</span></p>
<p><span class="c3">&nbsp;</span></p>
<p><span class="c3">af_ZA &nbsp;ar_OM &nbsp;da_DK &nbsp;en_HK
&nbsp;es_CO &nbsp;es_PY &nbsp;fr_CA &nbsp;is_IS &nbsp;mt_MT
&nbsp;sh_YU &nbsp;vi_VN</span></p>
<p><span class="c3">ar_AE &nbsp;ar_QA &nbsp;de_AT &nbsp;en_IE
&nbsp;es_CR &nbsp;es_SV &nbsp;fr_CH &nbsp;it_CH &nbsp;nb_NO
&nbsp;sk_SK &nbsp;zh_CN</span></p>
<p><span class="c3">ar_BH &nbsp;ar_SA &nbsp;de_BE &nbsp;en_IN
&nbsp;es_DO &nbsp;es_US &nbsp;fr_FR &nbsp;it_IT &nbsp;nl_BE
&nbsp;sl_SI &nbsp;zh_HK</span></p>
<p><span class="c3">ar_DZ &nbsp;ar_SD &nbsp;de_CH &nbsp;en_NZ
&nbsp;es_EC &nbsp;es_UY &nbsp;fr_LU &nbsp;ja_JP &nbsp;nl_NL
&nbsp;sq_AL &nbsp;zh_SG</span></p>
<p><span class="c3">ar_EG &nbsp;ar_SY &nbsp;de_DE &nbsp;en_PH
&nbsp;es_ES &nbsp;es_VE &nbsp;ga_IE &nbsp;kl_GL &nbsp;nn_NO
&nbsp;sr_YU &nbsp;zh_TW</span></p>
<p><span class="c3">ar_IN &nbsp;ar_TN &nbsp;de_LU &nbsp;en_SG
&nbsp;es_GT &nbsp;et_EE &nbsp;gl_ES &nbsp;ko_KR &nbsp;no_NO
&nbsp;sv_FI</span></p>
<p><span class="c3">ar_IQ &nbsp;ar_YE &nbsp;el_GR &nbsp;en_US
&nbsp;es_HN &nbsp;eu_ES &nbsp;gv_GB &nbsp;kw_GB &nbsp;pl_PL
&nbsp;sv_SE</span></p>
<p><span class="c3">ar_JO &nbsp;be_BY &nbsp;en_AU &nbsp;en_ZA
&nbsp;es_MX &nbsp;fa_IN &nbsp;he_IL &nbsp;lt_LT &nbsp;pt_BR
&nbsp;ta_IN</span></p>
<p><span class="c3">ar_KW &nbsp;bg_BG &nbsp;en_BE &nbsp;en_ZW
&nbsp;es_NI &nbsp;fa_IR &nbsp;hi_IN &nbsp;lv_LV &nbsp;pt_PT
&nbsp;te_IN</span></p>
<p><span class="c3">ar_LB &nbsp;bn_IN &nbsp;en_BW &nbsp;es_AR
&nbsp;es_PA &nbsp;fi_FI &nbsp;hr_HR &nbsp;mk_MK &nbsp;ro_RO
&nbsp;th_TH</span></p>
<p><span class="c3">ar_LY &nbsp;ca_ES &nbsp;en_CA &nbsp;es_BO
&nbsp;es_PE &nbsp;fo_FO &nbsp;hu_HU &nbsp;mr_IN &nbsp;ru_RU
&nbsp;tr_TR</span></p>
<p><span class="c3">ar_MA &nbsp;cs_CZ &nbsp;en_GB &nbsp;es_CL
&nbsp;es_PR &nbsp;fr_BE &nbsp;id_ID &nbsp;ms_MY &nbsp;ru_UA
&nbsp;uk_UA</span></p>
<p><span class="c10">&nbsp;</span></p>
<p><span class="c32">format is a format string as given to the Unix
strftime function:</span></p>
<p><span class="c10 c22"><a class="c15" href=
"https://www.google.com/url?q=http://www.opengroup.org/onlinepubs/007908799/xsh/strftime.html&amp;sa=D&amp;ust=1455276582158000&amp;usg=AFQjCNEJJA79hIhoMk0bHrixaCTp9_f9aQ">
http://www.opengroup.org/onlinepubs/007908799/xsh/strftime.html</a></span></p>
<p><span class="c10">&nbsp;</span></p>
<p><span class="c32">You can include your own message in the format
string, along with one or more format control strings. &nbsp;These
format control strings tell the date function whether to print the
date or time, whether to use AM or PM, a 24 hour clock or a 12
hour, abbreviate the day of the week or not, and so on. &nbsp;Some
of the supported format control strings include:</span></p>
<p><span class="c14">&nbsp;</span></p>
<p><span class="c10">%a Abbreviated weekday name</span></p>
<p><span class="c10">%A Full weekday name</span></p>
<p><span class="c10">%b Abbreviated month name</span></p>
<p><span class="c10">%B Full month name</span></p>
<p><span class="c10">%c Date and time representation appropriate
for locale</span></p>
<p><span class="c10">%d Day of month as decimal number (01 –
31)</span></p>
<p><span class="c10">%H Hour in 24-hour format (00 – 23)</span></p>
<p><span class="c10">%I Hour in 12-hour format (01 – 12)</span></p>
<p><span class="c10">%j Day of year as decimal number (001 –
366)</span></p>
<p><span class="c10">%m Month as decimal number (01 –
12)</span></p>
<p><span class="c10">%M Minute as decimal number (00 –
59)</span></p>
<p><span class="c10">%p Current locale’s A.M./P.M. indicator for
12-hour clock</span></p>
<p><span class="c10">%S Second as decimal number (00 –
59)</span></p>
<p><span class="c10">%U Week of year as decimal number, with Sunday
as first day of week (00 – 53)</span></p>
<p><span class="c10">%w Weekday as decimal number (0 – 6; Sunday is
0)</span></p>
<p><span class="c10">%W Week of year as decimal number, with Monday
as first day of week (00 – 53)</span></p>
<p><span class="c10">%x Date representation for current
locale</span></p>
<p><span class="c10">%X Time representation for current
locale</span></p>
<p><span class="c10">%y Year without century, as decimal number (00
– 99)</span></p>
<p><span class="c10">%Y Year with century, as decimal
number</span></p>
<p><span class="c10">%Z Time-zone name or abbreviation; no
characters if time zone is unknown</span></p>
<p><span class="c10">%% Percent sign</span></p>
<p><span class="c32">&nbsp;</span></p>
<p><span class="c10">&nbsp;</span></p>
<p><span class="c32">If you don't specify a format you'll just get
the date using the default format for the particular
locale.</span></p>
<p><span class="c32">&nbsp;</span></p>
<p><span class="c32">timezone is the time zone expressed as the
number of hours west of GMT.</span></p>
<p><span class="c32">&nbsp;</span></p>
<p><span class="c32">If any of the attributes are invalid, it will
fall back to the default</span></p>
<p><span class="c32">behavior of &lt;date/&gt; (i.e. with no
attributes specified)</span></p>
<p><span class="c32">&nbsp;</span></p>
<p><span class="c32">To display the date and time in French using
Central European time you would use:</span></p>
<p><span class="c10">&nbsp;</span></p>
<p><span class="c10">&nbsp; &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;date
locale="fr_FR" timezone="-1" format="%c"/&gt;</span></p>
<p><span class="c10">&nbsp;</span></p>
<p><span class="c32">You can also improve the specificity of common
certain time and date related inquiries to the ALICE bot, as
illustrated by the following dialogue fragment.</span></p>
<p><span class="c14">&nbsp;</span></p>
<p><span class="c0">&nbsp;</span></p>
<p><span class="c0">Human: what day is it</span></p>
<p><span class="c0">ALICE: Thursday.</span></p>
<p><span class="c0">Human: what month is it</span></p>
<p><span class="c0">ALICE: December.</span></p>
<p><span class="c0">Human: what year is this</span></p>
<p><span class="c0">ALICE: 2004.</span></p>
<p><span class="c0">Human: what is the date</span></p>
<p><span class="c0">ALICE: Thursday, December 02, 2004.</span></p>
<p><span class="c1 c0">&nbsp;</span></p>
<p><span>The jformat attribute relies on the Java Simple Date
Format specification:</span></p>
<p><span class="c22"><a class="c15" href=
"https://www.google.com/url?q=http://docs.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html&amp;sa=D&amp;ust=1455276582165000&amp;usg=AFQjCNHW6uySM5oRdOdIQg6fqsHSXGCKTQ">
http://docs.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html</a></span></p>
<p><span class="c1">v. &lt;think&gt;</span></p>
<p><span>The purpose of the &lt;think&gt; tag is to provide a means
for the interpreter to evaluate an AIML expression without printing
or returning any result. &nbsp;The tag name is suggested by the
expression “think but don’t speak”. &nbsp;</span><span><br>
<br></span><span class="c1">w. &lt;explode&gt;</span></p>
<p><span>The &lt;explode&gt; tag implements a string-manipulation
function to split a word or sentence into individual
letters.</span></p>
<p><span>&nbsp;</span></p>
<p><span>&lt;explode&gt;X&lt;/explode&gt; evaluates the contents of
X, and returns a string consisting of each character of X separated
by one space.</span></p>
<p><span>Example usage:</span></p>
<p><span class="c2">&lt;category&gt;<br>
&lt;pattern&gt;EXPLODE *&lt;/pattern&gt;<br>
&lt;template&gt;&lt;explode&gt;&lt;star/&gt;&lt;/explode&gt;</span></p>
<p><span class="c2">&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span>Example dialog:</span></p>
<p><span class="c0">Human: Explode ABCDEF</span></p>
<p><span class="c0">Robot: A B C D E F</span></p>
<p><span class="c0">Human: Explode Dr. Alan Turing</span></p>
<p><span class="c0">Robot: D r A l a n T u r i n g</span></p>
<p><span>Note that the inverse operation, implode, is not defined
in AIML because it’s easy to define the implode function with a
couple AIML categories:</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;IMPLODE
*&lt;/pattern&gt;</span></p>
<p><span class=
"c2">&lt;template&gt;&lt;star/&gt;&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;IMPLODE *
*&lt;/pattern&gt;</span></p>
<p><span class=
"c2">&lt;template&gt;&lt;star/&gt;&lt;srai&gt;IMPLODE &lt;star
index="2"/&gt;&lt;/srai&gt;&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c1">x. &lt;normalize&gt; and
&lt;denormalize&gt;</span></p>
<p><span>The &lt;normalize&gt; tag processes the evaluated tag
contents with the AIML normalization preprocessor.
&nbsp;</span></p>
<p><span>The &lt;denormalize&gt; tag implements the approximate
inverse of &lt;normalize&gt;.</span></p>
<p><span>The exact specification of the substitutions for
&lt;normalize&gt; and &lt;denormalize&gt; are left up to the
botmaster. &nbsp;The following table shows some typical
transformations.</span></p>
<a id="t.4c74c97143651984e1dae356053b568bf75ae3ca"></a><a id=
"t.2"></a>
<table class="c26">
<tbody>
<tr class="c21">
<td class="c20" colspan="1" rowspan="1">
<p class="c38"><span class="c2 c1 c29 c35">x</span></p>
</td>
<td class="c20" colspan="1" rowspan="1">
<p class="c38"><span class=
"c35 c2 c1 c29">&lt;normalize&gt;x&lt;/normalize&gt;</span></p>
</td>
<td class="c20" colspan="1" rowspan="1">
<p class="c38"><span class=
"c35 c2 c1 c29">&lt;denormalize&gt;&lt;normalize&gt;x&lt;/normalize&gt;&lt;/denormalize&gt;</span></p>
</td>
</tr>
<tr class="c21">
<td class="c20" colspan="1" rowspan="1">
<p class="c8"><span class=
"c5 c0 c7">callmom-info@pandorabots.com</span></p>
</td>
<td class="c20" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c0 c7">callmom dash info at
pandorabots dot com</span></p>
</td>
<td class="c20" colspan="1" rowspan="1">
<p class="c8"><span class=
"c5 c0 c7">callmom-info@pandorabots.com</span></p>
</td>
</tr>
<tr class="c21">
<td class="c20" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c0 c7">(212)-333-4444</span></p>
</td>
<td class="c20" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c0 c7">212 dash 333 dash
4444</span></p>
</td>
<td class="c20" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c0 c7">212-333-4444</span></p>
</td>
</tr>
<tr class="c21">
<td class="c20" colspan="1" rowspan="1">
<p class="c8"><span class=
"c5 c0 c7">http://www.alicebot.org</span></p>
</td>
<td class="c20" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c0 c7">http colon slash slash
www.alicebot dot org</span></p>
</td>
<td class="c20" colspan="1" rowspan="1">
<p class="c8"><span class=
"c5 c0 c7">http://www.alicebot.org</span></p>
</td>
</tr>
<tr class="c21">
<td class="c20" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c0 c7">I can not hear you</span></p>
</td>
<td class="c20" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c0 c7">I can not hear you</span></p>
</td>
<td class="c20" colspan="1" rowspan="1">
<p class="c8"><span class="c5 c0 c7">I can't hear you</span></p>
</td>
</tr>
</tbody>
</table>
<p><span class="c1">y. &lt;formal&gt;</span></p>
<p><span>The &lt;formal&gt; tag converts every word in the
evaluated tag contents to title case, where the first letter of
each word is capitalized and the remaining letters are in lower
case.</span></p>
<p><span class="c1">z. &lt;lowercase&gt;</span></p>
<p><span>The</span> <span class="c1">&lt;lowercase&gt;</span>
<span>tag converts the evaluated tag contents to all lower
case.</span></p>
<p><span class="c1">aa. &lt;uppercase&gt;</span></p>
<p><span>The &lt;uppercase&gt; tag converts the evaluated tag
contents to all upper case.</span></p>
<p><span class="c1">bb. &lt;sentence&gt;</span></p>
<p><span>The &lt;sentence&gt; tag converts the contents to sentence
case, namely, the first letter of the first word is
capitalized.</span></p>
<p><span class="c1">cc. &lt;</span><span class=
"c1">person</span><span class="c1">&gt;</span></p>
<p><span>The &lt;person&gt; tag applies a pronoun-swapping
substitution to the evaluated tag contents. &nbsp;The exact method
of specifying the person substitution is left up to the
interpreter, and the exact substitutions themselves are left up to
the botmaster.</span></p>
<p><span>The &lt;person&gt; tag was motivated by the ELIZA program,
which used a similar pronoun-swapping trick to generate dialogs
like:</span></p>
<p><span class="c1">young woman:</span> <span>You are not very
aggressive but I think you don't want me to notice that.</span></p>
<p><span class="c1">eliza:</span> <span>What makes you think I am
not very aggressive?</span></p>
<p><span class="c1">young woman:</span> <span>You don't argue with
me.</span></p>
<p><span class="c1">eliza:</span> <span>Why do you think I don't
argue with you?</span></p>
<p><span class="c1">young woman:</span> <span>You are afraid of
me.</span></p>
<p><span class="c1">eliza:</span> <span>Does it please you to
believe I am afraid of you?</span></p>
<p><span>(source:</span> <span class="c22"><a class="c15" href=
"https://www.google.com/url?q=http://www.stanford.edu/group/SHR/4-2/text/dialogues.html&amp;sa=D&amp;ust=1455276582183000&amp;usg=AFQjCNFxyaQ4CXIdFw5LyokYH3m4eKYxyw">
http://www.stanford.edu/group/SHR/4-2/text/dialogues.html</a></span><span>)</span></p>
<p><span>Such a dialog can be created by AIML categories
like:</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;YOU ARE NOT * BUT
*&lt;/pattern&gt;<br>
&lt;template&gt;What makes you think I am not
&lt;person&gt;&lt;star/&gt;&lt;/person&gt;?&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;YOU DO NOT *&lt;/pattern&gt;<br>
&lt;template&gt;Why do you think I do not
&lt;person&gt;&lt;star/&gt;&lt;/person&gt;?&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;YOU ARE *&lt;/pattern&gt;<br>
&lt;template&gt;Does it please you to believe I am
&lt;person&gt;&lt;star/&gt;&lt;/person&gt;?&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span>The &lt;person&gt; tag also exists in a singeton form, and
may be defined as a macro:</span></p>
<p><span>&lt;person/&gt; =
&lt;person&gt;&lt;star/&gt;&lt;/person&gt;</span></p>
<p><span class="c1">dd. &lt;person2&gt;</span></p>
<p><span>&lt;person2&gt; is exactly like &lt;person&gt;, except
that it is defined to swap 1st and 3rd person pronouns rathern than
1st and 2nd.</span></p>
<p><span>The &lt;person2&gt; tag also exists in a singeton form,
and may be defined as a macro:</span></p>
<p><span>&lt;person2/&gt; =
&lt;person2&gt;&lt;star/&gt;&lt;/person2&gt;</span></p>
<p><span class="c1">ee. &lt;star index="n"/&gt;</span></p>
<p><span>&lt;star index=”n”/&gt; is replaced with the value of the
sequence of input words matching the nth wildcard or AIML Set in
the pattern.</span></p>
<p><span>&lt;star/&gt; is equivalent to &lt;star
index=”1”/&gt;.</span></p>
<p><span>For example if the pattern is &lt;pattern&gt;_ I LIKE
&lt;set&gt;color&lt;/set&gt; *&lt;/pattern&gt; and the input
is</span></p>
<p><span>“You know I like red carnations and roses”,
then</span></p>
<p><span class="c13">&lt;star/&gt; =</span> <span class="c0">You
know</span></p>
<p><span class="c13">&lt;star index=</span><span class=
"c10">"</span><span class="c13">2</span><span class=
"c10">"</span><span class="c13">/&gt; =</span> <span class=
"c0">red</span></p>
<p><span class="c13">&lt;star index=</span><span class=
"c10">"</span><span class="c13">3</span><span class=
"c10">"</span><span class="c13">/&gt; =</span> <span class=
"c0">carnations and roses</span></p>
<p><span>Like other AIML 2.0 tags, the attribute value of
&lt;star/&gt; may appear in a subtag.</span></p>
<p><span>&lt;star index=”3”/&gt; is equivalent to
&lt;star&gt;&lt;index&gt;3&lt;/index&lt;/star&gt;.</span></p>
<p><span class="c1">ff. &lt;thatstar index="n"/&gt;</span></p>
<p><span>&lt;thatstar index=”n”/&gt; is exactly like &lt;star/&gt;,
except that it replaced with the value of the nth wildcard or set
expression from the &lt;that&gt; pattern.</span></p>
<p><span class="c1">gg. &lt;topicstar index="n"/&gt;</span></p>
<p><span>&lt;thatstar index=”n”/&gt; is exactly like &lt;star/&gt;
and &lt;thatstar/&gt;, except that it replaced with the value of
the nth wildcard or set expression from the &lt;topic&gt;
pattern.</span></p>
<p><span class="c1">hh. &lt;that index="m,n"/&gt;</span></p>
<p><span>&lt;that/&gt; is replaced with the last sentence of the
robot’s last response.</span></p>
<p><span>&lt;that index=”m,n”/&gt; refers to the nth last sentence
of the mth last response.</span></p>
<p><span class="c13">&lt;that/&gt;</span><span>&nbsp;is equivalent
to</span> <span class="c13">&lt;that index=</span><span class=
"c10">"</span><span class="c13">1,1</span><span class=
"c10">"</span><span class="c13">/&gt;</span></p>
<p><span>Like other AIML 2.0 tags, the attribute value of
&lt;that/&gt; may appear in a subtag.</span></p>
<p><span class="c13">&lt;that index=</span><span class=
"c10">"</span><span class="c13">2,3</span><span class=
"c10">"</span><span class="c13">/&gt;</span> <span>is equivalent
to</span> <span class=
"c13">&lt;that&gt;&lt;index&gt;2,3&lt;/index&gt;&lt;/that&gt;</span></p>
<p><span class="c1">ii. &lt;input index=”n”/&gt;</span></p>
<p><span>&lt;input index=”n”/&gt; is replaced with the value of the
nth previous sentence input to the bot.</span></p>
<p><span>Like other AIML 2.0 tags, the attribute value of
&lt;input/&gt; may appear in a subtag.</span></p>
<p><span class="c13">&lt;input index=</span><span class=
"c10">"</span><span class="c13">3</span><span class=
"c10">"</span><span class="c13">/&gt;</span> <span>is equivalent
to</span> <span class=
"c13">&lt;input&gt;&lt;index&gt;3&lt;/index&gt;&lt;/input&gt;</span></p>
<p><span class="c1">jj. &lt;request index="n"/&gt;</span></p>
<p><span>&lt;request index=”n”/&gt; is replaced with the value of
the nth previous multi-sentence input to the bot.</span></p>
<p><span>Like other AIML 2.0 tags, the attribute value of
&lt;request/&gt; may appear in a subtag.</span></p>
<p><span class="c13">&lt;request index=</span><span class=
"c10">"</span><span class="c13">3</span><span class=
"c10">"</span><span class="c13">/&gt;</span> <span>is equivalent
to</span> <span class=
"c13">&lt;request&gt;&lt;index&gt;3&lt;/index&gt;&lt;/request&gt;</span></p>
<p><span>kk. &lt;response index="n"/&gt;</span></p>
<p><span>&lt;response index=”n”/&gt; is replaced with the value of
the nth previous multi-sentence bot response..</span></p>
<p><span>Like other AIML 2.0 tags, the attribute value of
&lt;response/&gt; may appear in a subtag.</span></p>
<p><span class="c13">&lt;response index=</span><span class=
"c10">"</span><span class="c13">3</span><span class=
"c10">"</span><span class="c13">/&gt;</span> <span>is equivalent
to</span> <span class=
"c13">&lt;response&gt;&lt;index&gt;3&lt;/index&gt;&lt;/respone&gt;</span></p>
<p><span class="c1">ll. &lt;learn&gt;</span></p>
<p><span>The AIML 2.0 &lt;learn&gt; tag provides a way for the bot
to learn new AIML categories dynamically through user interaction.
&nbsp;In other words, the client can teach the bot new responses
with &lt;learn&gt;. &nbsp;The categories learned with the
&lt;learn&gt; tag are specific to the client chatting with the bot.
&nbsp;In a multi-client system, if one client teaches the bot the
response to “What is my sister’s name?”, then the response is
specific to that client, and another client can teach the same bot
a different response to the same input.</span></p>
<p><span>The &lt;learn&gt; and &lt;learnf&gt; tag make use of a
companion tag, &lt;eval&gt;. &nbsp;</span></p>
<p><span class="c1">mm. &lt;learnf&gt;</span></p>
<p><span>&lt;learnf&gt; is exactly like &lt;learn&gt;, except that
it saves the learned categories in an AIML file that is global to
the bot. &nbsp; In a multi-client AIML system, if one client
teaches a bot a category with &lt;learnf&gt;, the category may be
activated by any other client chatting with the bot.
&nbsp;</span></p>
<p><span class="c1">nn. &lt;eval&gt;</span></p>
<p><span>In a &lt;learn&gt; or &lt;learnf&gt; expression, the
&lt;eval&gt; tag serves to insert the result of evaluating an AIML
template expression.</span></p>
<p><span class="c1">oo. &lt;id/&gt;</span></p>
<p><span>The &lt;id/&gt; tag returns to customer or client ID of
the current conversation</span></p>
<p><span class="c1">pp. &lt;vocabulary/&gt;</span></p>
<p><span>The &lt;vocabulary/&gt; tag computes a set of words
consisting of:</span></p>
<p><span>1. All the words in the pattern paths found in the bot’s
Graphmaster.</span></p>
<p><span>2. All the words in the AIML Sets defined for the
bot.</span></p>
<p><span>Example:</span></p>
<p><span class="c2">&lt;category&gt;<br>
&lt;pattern&gt;HOW BIG IS YOUR
VOCABULARY&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;I can recognize
&lt;vocabulary/&gt; words.&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c1">qq. &lt;program/&gt;</span></p>
<p><span>The &lt;program/&gt; tag returns a program name/version
string indentifying the AIML interpreter.</span></p>
<p><span>Example AIML:</span></p>
<p><span class="c2">&lt;category&gt;<br>
&lt;pattern&gt;WHAT VERSION ARE YOU&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;This is
&lt;program/&gt;.&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span>Sample dialog:</span></p>
<p><span class="c0">Human: What version are you?<br>
Robot: The is Program AB Version 0.0.2.0 beta</span></p>
<p><span class="c1">rr. &lt;system&gt;</span></p>
<p><span>The &lt;system&gt; tag executes a runtime execution under
the operating system of the evaluated tag contents.
&nbsp;</span></p>
<p><span>Example:<br>
<br></span><span class="c2">&lt;category&gt;<br>
&lt;pattern&gt;LIST YOUR AIML FILES&lt;/pattern&gt;<br>
&lt;template&gt;&lt;system&gt;dir bots\&lt;bot
name=”name”/&gt;\aiml&lt;/system&gt;</span></p>
<p><span class="c2">&lt;/template&gt;<br>
&lt;/category&gt;</span></p>
<p><span class="c1">s</span><span class="c1">s.
&lt;interval&gt;</span></p>
<p><span>The &lt;interval&gt; tag computes a time interval between
two dates.</span></p>
<p><span>M</span></p>
<p><span>Like other AIML 2.0 tags, the attribute values of
&lt;interval&gt; may be specified as XML attributes or with subtags
of the same name. &nbsp;The attributes of &lt;interval&gt;
are:</span></p>
<p><span>&lt;style&gt; - minutes, hours, days, weeks, months, or
years</span></p>
<p><span>&lt;jformat&gt; - the format of the dates in the interval.
&nbsp; (See &lt;date/&gt;).</span></p>
<p><span>&lt;from&gt; - starting date</span></p>
<p><span>&lt;to&gt; - ending date</span></p>
<p><span>Examples:</span></p>
<p><span>Compute the number of days until Christmas:</span></p>
<p><span class="c2">&lt;category&gt;</span></p>
<p><span class="c2">&lt;pattern&gt;HOW MANY DAYS UNTIL
CHRISTMAS&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;</span></p>
<p><span class="c2">&lt;interval&gt;</span></p>
<p><span class="c2">&lt;jformat&gt;MMMMMMMMM
dd&lt;/jformat&gt;</span></p>
<p><span class="c2">&lt;style&gt;days&lt;/style&gt;</span></p>
<p><span class="c2">&lt;from&gt;&lt;date jformat="MMMMMMMMM
dd"/&gt;&lt;/from&gt;</span></p>
<p><span class="c2">&lt;to&gt;December 25&lt;/to&gt;</span></p>
<p><span class="c2">&lt;/interval&gt;</span></p>
<p><span class="c2">days until Christmas.</span></p>
<p><span class="c2">&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span>The following category displays the bot’s age in years, or
in months if the bot is less than one year old.</span></p>
<p><span class=
"c2">&lt;category&gt;&lt;pattern&gt;AGE&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;</span></p>
<p><span class="c2">&lt;think&gt;</span></p>
<p><span class="c2">&lt;set var="years"&gt;</span></p>
<p><span class="c2">&lt;interval&gt;</span></p>
<p><span class="c2">&lt;jformat&gt;MMMMMMMMM dd,
YYYY&lt;/jformat&gt;</span></p>
<p><span class="c2">&lt;style&gt;years&lt;/style&gt;</span></p>
<p><span class="c2">&lt;from&gt;October 9,
2012&lt;/from&gt;</span></p>
<p><span class="c2">&lt;to&gt;&lt;date jformat="MMMMMMMMM dd,
YYYY"/&gt;&lt;/to&gt;</span></p>
<p><span class="c2">&lt;/interval&gt;</span></p>
<p><span class="c2">&lt;/set&gt;</span></p>
<p><span class="c2">&lt;set var="months"&gt;</span></p>
<p><span class="c2">&lt;interval&gt;</span></p>
<p><span class="c2">&lt;jformat&gt;MMMMMMMMM dd,
YYYY&lt;/jformat&gt;</span></p>
<p><span class="c2">&lt;style&gt;months&lt;/style&gt;</span></p>
<p><span class="c2">&lt;from&gt;October 9,
2012&lt;/from&gt;</span></p>
<p><span class="c2">&lt;to&gt;&lt;date jformat="MMMMMMMMM dd,
YYYY"/&gt;&lt;/to&gt;</span></p>
<p><span class="c2">&lt;/interval&gt;</span></p>
<p><span class="c2">&lt;/set&gt;</span></p>
<p><span class="c2">&lt;/think&gt;</span></p>
<p><span class="c2">&lt;condition var="years"&gt;</span></p>
<p><span class="c2">&lt;li value="0"&gt;I am &lt;get
var="months"/&gt; months old.&lt;/li&gt;</span></p>
<p><span class="c2">&lt;li&gt;I am &lt;get var="years"/&gt; years
old.&lt;/li&gt;</span></p>
<p><span class="c2">&lt;/condition&gt;</span></p>
<p><span class="c2">&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span class="c1">tt. &lt;size/&gt;</span></p>
<p><span>The &lt;size/&gt; tag returns the number of AIML
categories stored in the graph. &nbsp;</span></p>
<p><span>Example:<br>
<br></span><span class="c13">&lt;category&gt;<br>
&lt;pattern&gt;HOW BIG ARE YOU&lt;/pattern&gt;<br>
&lt;temlate&gt;My brain contains &lt;size/&gt;
categories.&lt;/template&gt;</span></p>
<p><span class="c13">&lt;/category&gt;</span></p>
<p><span class="c0">Human: How big are you?</span></p>
<p><span class="c0">Robot: My brain contains 7093
categories.</span></p>
<p><span class="c1">7. AIML Pattern Matching</span></p>
<p><span>Every AIML category is uniquely specified by an input
pattern, that pattern and topic pattern. &nbsp;Remember, if the
&lt;that&gt; and/or &lt;topic&gt; are left unspecified, they are
assumed to have a default value of *. &nbsp; A Pattern Path is
defined as a linked sequence of nodes, where the nodes are linked
by edges labeled with the words. &nbsp;The sequence of words in a
Pattern Path is specified as the words from the input pattern,
followed by the symbol &lt;that&gt;, the words in the that pattern,
followed by the words in the topic pattern. &nbsp;</span></p>
<p><span>Figure 1 depicts the Pattern Path for a
category</span></p>
<p><span class="c2">&lt;category&gt;<br>
&lt;pattern&gt;DO YOU HAVE A DOG&lt;/pattern&gt;</span></p>
<p><span class="c2">&lt;template&gt;Can your dog be my pet
too?&lt;/template&gt;</span></p>
<p><span class="c2">&lt;/category&gt;</span></p>
<p><span style=
"overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 675.00px; height: 161.00px;">
<img alt="" src=
"https://lh4.googleusercontent.com/jOz6ueShbeM1S64W7awCnQO1WFvI6wU3076qPiFBRotYVYolk-_zGcOvRla72_w-GZNGM9eUuHLvdcUsVUiwLQb_sWgcVJ2DBX33uBrwy1P7PpIkENOuEuSITDE"
style=
"width: 675.00px; height: 161.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
title=""></span></p>
<p class="c42"><span class="c31">Figure 1. Pattern Path for a
category</span></p>
<p class="c42 c39"></p>
<p><span>The AIML interpreter builds an object called the
Graphmaster by reading the AIML files, constructing a Pattern Path
for each category, and inserting the path into a directed, rooted
graph. &nbsp;At the end of each path, the Graphmaster contains a
link to the AIML template for the associated category.</span></p>
<p><span>Figure 2 shows an example of a simple Graphmaster for a
bot with five categories. &nbsp;</span></p>
<p class="c42"><span style=
"overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 697.00px; height: 251.00px;">
<img alt="" src=
"https://lh3.googleusercontent.com/CCps1vwDHS0r4whN0aumq1AX47tQwqtXKkbuZhEs9qSIrRbLfPh-ZdsHg-4wl4HU-usqMmjaEr-_vSahcq2R7DyfV00ri4LOV9nEG5yIGqHNSA7pQwBw2x_VfW4"
style=
"width: 697.00px; height: 251.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
title=""></span></p>
<p class="c42"><span class="c31">Figure 2. Simple Graphmaster with
five categories</span></p>
<p class="c42 c39"></p>
<p><span>Given a specific input to the bot, the AIML interpreter
builds an Input Path, similar to a Pattern Path, containing the
normalized input, the bot’s last reply (the value of
&lt;that/&gt;)--also normalized, and the normalized topic.
&nbsp;Figure 3 illustrates an example of an Input path resulting
from the conversation fragment:</span></p>
<p><span class="c0">Robot: I try to be upbeat and
friendly.</span></p>
<p><span class="c0">Human: Do you have fun?</span></p>
<p><span>For the purpose of this example, the topic is
“unknown”.</span></p>
<p class="c42 c39"></p>
<p class="c42"><span style=
"overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 710.00px; height: 64.00px;">
<img alt="" src=
"https://lh5.googleusercontent.com/Efe9j7URb5DppxJwJuZmJF_uOU6HssW_R-LQJQsGWZB8Ml54Mw__lopDECMN1MKUWEyUxfGZIQDi7FWMlTX2tMlvwudMwXVcpC2Rplipt6eC3aKMv4f1YWPtY9Y"
style=
"width: 710.00px; height: 64.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);"
title=""></span></p>
<p class="c42"><span class="c31">Figure 3. Input Path with
&lt;that&gt; and &lt;topic&gt;</span></p>
<p class="c42 c39"></p>
<p><span>The AIML pattern matching algorithm searches the
Graphmaster for a match of the Input Path. &nbsp;The search
proceeds in a depth-first sequence. &nbsp;When searching a branch
of the graph fails to find a match, the search algorithm backtracks
to the last node with unexplored branches and searches
those.</span></p>
<p><span>The search sequence at each node is guided by the
following sequence:</span></p>
<p><span class="c6 c14">1. $word</span></p>
<p><span class="c6 c14">2. #</span></p>
<p><span class="c6 c14">3. _</span></p>
<p><span class="c6 c14">4. word</span></p>
<p><span class="c6 c14">5. &lt;set&gt;name&lt;/set&gt;</span></p>
<p><span class="c6 c14">6. ^</span></p>
<p><span class="c6 c14">7. *</span></p>
<p><span class="c6 c14">Or in plainer English,</span></p>
<p><span class="c6 c14">1. dollar</span> <span class=
"c17 c14">match</span><span class="c6 c14">&nbsp;- top priority
word</span> <span class="c17 c14">match</span></p>
<p><span class="c6 c14">2. sharp</span> <span class=
"c14 c17">match</span><span class="c6 c14">&nbsp;- zero+ word
wildcard match</span></p>
<p><span class="c6 c14">3. underscore</span> <span class=
"c17 c14">match</span><span class="c6 c14">&nbsp;- one+ word
wildcard match</span></p>
<p><span class="c6 c14">4. word</span> <span class=
"c17 c14">match</span><span class="c6 c14">&nbsp;- exact word
match</span></p>
<p><span class="c6 c14">5. set</span> <span class=
"c17 c14">match</span><span class="c6 c14">&nbsp;-</span>
<span class="c17 c14">match</span><span class="c6 c14">&nbsp;found
in AIML Set</span></p>
<p><span class="c6 c14">6. caret</span> <span class=
"c17 c14">match</span><span class="c6 c14">&nbsp;- zero+ wildcard
match</span></p>
<p><span class="c6 c14">7. star</span> <span class=
"c17 c14">match</span><span class="c6 c14">&nbsp;- one+ word
wildcard match</span></p>
<p><span>The wildcard # can match zero or more words from the input
path.</span></p>
<p><span>The wildcard _ can match one or more words from the input
path. &nbsp;</span></p>
<p><span>For an exact word match, the next word in the input path
must be identical (up to case invariance) with the word labeling
the branch. &nbsp;</span></p>
<p><span>A set match also consumes one or more words, like a
wildcard, but the word sequence must be a member of the named AIML
set (see Sets and Maps in AIML 2.0). &nbsp;</span></p>
<p><span>The wildcard ^ can match zero or more words from the input
path.</span></p>
<p><span>Finally, the wildcard * can match one or more
words.</span></p>
<p><span>For the purpose of matching, the special symbols
&lt;that&gt; and &lt;topic&gt; in the pattern and input paths are
treated like exact words. &nbsp;</span></p>
<p><span>If no match at all is found in the graph, the interpreter
should return a default string like “I have no answer for that”,
specified by the botmaster.</span></p>
<p><span>When matching wildcards and set items, the pattern
matching algorithm contains appropriate bookkeeping functions to
index and store the values of &lt;star/&gt;, &lt;thatstar/&gt; and
&lt;topicstar/&gt;. &nbsp;</span></p>
<h3><a id="h.gm9dqyobvnzq"></a><span>Non-greedy</span></h3>
<p><span>It is important to note that the AIML pattern matching is
non-greedy. &nbsp; If the pattern contains a sequence of multiple
wildcards, each wildcard except the last will consume one word of
the input. &nbsp;For example, if the pattern is</span></p>
<p><span>&lt;pattern&gt;* * *&lt;/pattern&gt;</span></p>
<p><span>and the matching input is “First second third fourth
fifth”, then the following should be true on the template
side:</span></p>
<p><span>&lt;star/&gt; = First</span></p>
<p><span>&lt;star index=”2”/&gt; = second</span></p>
<p><span>&lt;star index=”3”/&gt; = third fourth fifth</span></p>
<h3><a id="h.jx20n8saqs1r"></a><span>Graph
implementation</span></h3>
<p><span>If the graph nodes are implemented with hash tables, it is
possible to find an exact word match in O(1) time. &nbsp;That is,
provided the input path matches a path in the graph word-for-word,
with no wildcards, the number of steps to find the response is
proportional to the length of the path, and does not depend on the
size of the graph.</span></p>
<p><span>Pathological cases exist however such as a long sequence
of wildcards like:</span></p>
<p><span>&lt;pattern&gt;* * * * * * * * * * * * * * *
*&lt;/pattern&gt;</span></p>
<p><span>In a simple backtracking implementation, the matcher might
try to match an input of 15 words with a 16 wildcard pattern.
&nbsp; The algorithm would work its way through a vast number of
combinations, trying one word for each wildcard, then two words,
three and so on, but never finding a match with this pattern.
&nbsp; To mitigate this problem, the graph nodes can have a height
property defined as the minimum number of words in the input path
needed to reach a leaf from that node.</span></p>
<h3><a id="h.92sxxi123m87"></a><span>Duplicate
Categories</span></h3>
<p><span>Two categories are said to be</span> <span class=
"c16">duplicates</span><span>&nbsp;if they have the same pattern,
that and topic. &nbsp;A pair of duplicate categories may have
different templates. &nbsp; As the AIML interpreter loads
categories from AIML files, it may encounter duplicates. &nbsp;
&nbsp;The method for handling duplicates is called the merge
policy. &nbsp;The interpreter should give the botmaster some
control over the merge policy.</span></p>
<p><span>Some typical merge policies are:</span></p>
<p><span>1. Use first loaded - Keep the first duplicate loaded, and
discard any subsequent ones.</span></p>
<p><span>2. Use last loaded - Keep the last duplicate category
loaded, and discard any previous ones.</span></p>
<p><span>3. Merge with &lt;random&gt; - If the two duplicate
categories’ templates differ, combine them by placing each in a
&lt;random&gt; list item.</span></p>
<p><span class="c1">8. AIML Intermediate Format (or “I’m
flattened”)</span></p>
<p><span>An AIML bot typically consists of thousands, or hundreds
of thousands, of AIML categories. &nbsp;Each category contains an
input pattern and a template, and optionally a &lt;that&gt; pattern
and a &lt;topic&gt; pattern. &nbsp; When we think of AIML content
this way, it brings to mind row-oriented data that might be found
in a database or spreadsheet. &nbsp;You can imagine AIML
represented in a table, where the rows are the categories and the
columns are labeled “pattern”, “that”, “topic” and “template”.
&nbsp;What’s more, there are other attributes that can be
associated with each category, for example the number of times each
category is activated, and the name of the AIML source file
containing the category. &nbsp; The imaginary spreadsheet might
also include columns called “activation count” and “filename”.
&nbsp;</span></p>
<p><span>Yet the AIML template is more like a hierarchical,
tree-like structure. &nbsp;The simplest AIML template contains only
text, but AIML allows the text to be marked up with AIML tags.
&nbsp;These tags might enclose more text and more tags, giving rise
to a structure like a tree. &nbsp;You can think of the template as
the root of a tree, with branches leading to tags and text.
&nbsp;</span></p>
<p><span>AIML is therefore a hybrid of database-style row data, and
the hierarchical data in the templates. &nbsp;Because AIML is based
on XML, and there is a significant amount of software written in a
variety of languages for parsing XML, many AIML interpreters simply
read the AIML files and process them as hierarchical data. &nbsp;
An XML parser reads the AIML file, and parses it into a collection
of nodes representing categories, and the nodes are further parsed
into the component pattern, that, topic an template parts.
&nbsp;The template is decomposed into its constituent hierarchical
structure. &nbsp;</span></p>
<p><span>The problem with this approach is that, because of the
size of the AIML files, the full XML parsing can be relatively
slow. &nbsp; Also, there is no real need to parse all the
individual templates until they are activated. &nbsp; &nbsp;For
these reasons, we defined an intermediate AIML format that
represents the categories as row data, and stores the templates as
XML data. &nbsp; This format is called AIML Intermediate Format, or
AIMLIF. &nbsp;</span></p>
<p><span>AIMLIF is a plain text format representing categories as
line data. &nbsp;</span></p>
<p><span>One category per line, one line per category:</span></p>
<p><span class=
"c0">ACTIVATION_COUNT,PATTERN,THAT,TOPIC,TEMPLATE,FILENAME</span></p>
<p><span>In TEMPLATE, we replace “\n” with “#\Newline” and “,” with
“#\Comma”, so that each category takes only one line of
text.</span></p>
<p><span>Let’s look at an example. This AIML category comes from
the file reductions.aiml:</span></p>
<p><span class="c10">&lt;category&gt;</span></p>
<p class="c45"><span class="c10">&lt;pattern&gt;DO YOU THINK YOU
WILL *&lt;/pattern&gt;</span></p>
<p class="c45"><span class="c10">&lt;template&gt;&lt;srai&gt;WILL
YOU &lt;star/&gt;&lt;/srai&gt;</span></p>
<p class="c45"><span class="c10">&lt;/template&gt;</span></p>
<p><span class="c10">&lt;/category&gt;</span></p>
<p><span>has an intermediate format representation</span></p>
<p><span class="c0">0,DO YOU THINK YOU WILL *,*,*,&lt;srai&gt;WILL
YOU &lt;star/&gt;&lt;/srai&gt;,reductions.aiml</span></p>
<p><span>By preprocessing the AIML files into AIMLIF, our program
can load the AIML much faster. &nbsp;Instead of parsing all the
AIML XML files at load time, the program loads the AIMLIF files and
stores the &lt;template&gt; XML for later use. &nbsp;The
&lt;template&gt; XML is parsed only when the category is
activated.</span></p>
<p><span class="c1">Unix Tools</span></p>
<p><span>A pleasant side-effect of using AIMLIF representation is
that it facilitates applying common Unix tools to analyze and
process the AIML. &nbsp; Because each category is represented as a
single line of text, we can use tools like sed, awk, grep, sort and
uniq on the AIMLIF files easily.</span></p>
<p><span class="c1">CSV File Format</span></p>
<p><span>The AIMLIF format is easily recognizable as the familiar
spreadsheet</span><span class="c47"><a class="c15" href=
"https://www.google.com/url?q=http://en.wikipedia.org/wiki/Comma-separated_values&amp;sa=D&amp;ust=1455276582242000&amp;usg=AFQjCNFUvEZ6H7ZUfSXa39z3fQX_btsdJw">&nbsp;</a></span><span class="c22"><a class="c15"
href=
"https://www.google.com/url?q=http://en.wikipedia.org/wiki/Comma-separated_values&amp;sa=D&amp;ust=1455276582242000&amp;usg=AFQjCNFUvEZ6H7ZUfSXa39z3fQX_btsdJw">.csv
file format</a></span><span>. &nbsp;AIMLIF files can be read and
edited with spreadsheet tools, including MS Excel and Google Docs,
facilitating such features as upload/download of AIML files in .csv
format, and the development of customized spreadsheet editors for
AIML. &nbsp;</span></p>
<p><span class="c14 c1">Changing CSV delimeter</span></p>
<p><span>The “,” (comma) character is slightly problematic as a
field separator for AIMLIF because the comma is common in
&lt;template&gt; expressions. &nbsp; If you are editing your AIML
files in CSV format using Excel, take care not to use “,” in the
&lt;template&gt;. &nbsp; A stray comma can cause the AIMLIF
expression</span></p>
<p><span class="c0">0,HELLO,*,*,Hi,
friend,personality.aiml</span></p>
<p><span>to be interpreted as a category</span></p>
<p><span class="c2">&lt;category&gt;<br>
&lt;pattern&gt;HELLO&lt;/pattern&gt;<br>
&lt;template&gt;Hi&lt;/template&gt;<br>
&lt;/category&gt;<br></span></p>
<p><span>saved in a file called “friend” instead of
“personality.aiml”.</span></p>
<p><span>The recommended solution is to use the symbol #Comma, as
in</span></p>
<p><span class="c0">0,HELLO,*,*,Hi#Comma
friend,personality.aiml</span></p>
<p><span>If you are using Windows however, it’s possible to change
the default delimiter under Windows under Control Panel--&gt;Region
and Language--&gt;Additional Settings. &nbsp; A good choice might
be “:” or “|” because these are less common in &lt;template&gt;
expressions. &nbsp; If you are using Program AB to convert between
CSV and AIML files, you need to set the Magic String
aimlif_split_char to your new delimiter. &nbsp;</span></p>
<p><span>For a discussion about changing the default list separator
in Windows, see</span><span><a class="c15" href=
"https://www.google.com/url?q=http://www.techmickey.org/how-to-change-delimiters-in-excel-to-open-csv-file-using-semi-colon-and-comma-as-delimiters-in-csv-files/&amp;sa=D&amp;ust=1455276582245000&amp;usg=AFQjCNGqMgaa-Of4hKKM3N61lZhG3xywYQ">&nbsp;</a></span><span class="c22"><a class="c15"
href=
"https://www.google.com/url?q=http://www.techmickey.org/how-to-change-delimiters-in-excel-to-open-csv-file-using-semi-colon-and-comma-as-delimiters-in-csv-files/&amp;sa=D&amp;ust=1455276582246000&amp;usg=AFQjCNFyBwOCNMM277hC5RBS7YWLB1YQJg">http://www.techmickey.org/how-to-change-delimiters-in-excel-to-open-csv-file-using-semi-colon-and-comma-as-delimiters-in-csv-files/</a></span></p>
<p><span class="c22"><a class="c15" href=
"https://www.google.com/url?q=http://www.techmickey.org/how-to-change-delimiters-in-excel-to-open-csv-file-using-semi-colon-and-comma-as-delimiters-in-csv-files/&amp;sa=D&amp;ust=1455276582246000&amp;usg=AFQjCNFyBwOCNMM277hC5RBS7YWLB1YQJg">
</a></span></p>
<p><span>Note: we need add a configuration option in Program AB to
make it possible to specify a different list separator.</span></p>
<p><span class="c1">Appendix I. OOB Tags</span></p>
<p><span class="c14">AIML 2.0 includes a new</span> <span class=
"c14">set of tags to control device actions called OOB tags. "OOB"
means "Out of Band", an engineering term for a conversation on a
separate, hidden channel. For example if you are having a phone
call with someone, and during the call send them a text message,
the text message is "out of band" from the voice call. In our case
this refers to commands that the bot sends to the phone as part of
a reply, but these commands are hidden from the
end-user.</span></p>
<p><span class="c14">AIML 2.0 includes the OOB tag specification
but it important to note that OOB tag processing adds a second pass
of XML processing to an AIML 2.0 interpreter. &nbsp; In the first
pass, the interpreter processes an input, evaluates any template
tags, and produces a result. &nbsp;This result may contain
unevaluated OOB tags. The OOB tags are processed in a second
phase.</span></p>
<p><span class="c14">The two-phase model achieves a clean
separation between “AI functions” and “device functions”. &nbsp;The
AIML interpreter can be written as a library, or even run on a
remote server, and a more lightweight app running on a device can
process the OOB commands. &nbsp;</span></p>
<p><span class="c14">The two-phase model also allows the AIML to
dynamically write the contents of the OOB tags. &nbsp;</span></p>
<p><span class="c14">The complete description of OOB tags may be
found in a companion document:</span></p>
<p><span class="c22 c14"><a class="c15" href=
"https://www.google.com/url?q=http://code.google.com/p/aiml-en-us-pandorabots-callmom/wiki/CallMomOOBTags&amp;sa=D&amp;ust=1455276582249000&amp;usg=AFQjCNEAtLwV6tG2TYTYRkxOQR7yaZ-Agw">
http://code.google.com/p/aiml-en-us-pandorabots-callmom/wiki/CallMomOOBTags</a></span></p>
<h2><a id="h.xwsrhhhp8x9s"></a><span>References</span></h2>
<ol class="c24 lst-kix_vhbxq7m98pek-0 start" start="1">
<li class="c11"><span class="c22 c14"><a class="c15" href=
"https://www.google.com/url?q=http://code.google.com/p/aiml-en-us-pandorabots-callmom/wiki/CallMomOOBTags&amp;sa=D&amp;ust=1455276582250000&amp;usg=AFQjCNGbs2N95Jzx-Wpz0KCUjwTzGo_Zsw">
AIML OOB Tags</a></span></li>
<li class="c11"><span class="c22"><a class="c15" href=
"https://www.google.com/url?q=https://docs.google.com/document/d/1DWHiOOcda58CflDZ0Wsm1CgP3Es6dpicb4MBbbpwzEk/pub&amp;sa=D&amp;ust=1455276582250000&amp;usg=AFQjCNEQf2R_LOHrGS3RPfJPxjt9j4TTQg">
Sets and Maps in AIML 2.0</a></span></li>
<li class="c11"><span class="c22"><a class="c15" href=
"https://www.google.com/url?q=http://www.alicebot.org/TR/2005/WD-aiml/&amp;sa=D&amp;ust=1455276582251000&amp;usg=AFQjCNEMvpK6fXzvSXYvRTA2RzSZ0XBz_w">
Artificial Intelligence Markup Language (AIML)</a></span>
<span class="c22"><a class="c15" href=
"https://www.google.com/url?q=http://www.alicebot.org/TR/2005/WD-aiml/&amp;sa=D&amp;ust=1455276582251000&amp;usg=AFQjCNEMvpK6fXzvSXYvRTA2RzSZ0XBz_w">
Version 1.0.1</a></span></li>
</ol>
<h2><a id="h.m6eq3jo9mjxu"></a><span>Glossary</span></h2>
<p><span class="c1">AIML File</span><span>&nbsp;- an XML format
file containing AIML categories</span></p>
<p><span class="c1">AIML Interpreter</span><span>&nbsp;- a program
that can load and run an AIML bot and provide responses to
conversational requests according to the AIML specification in this
document.</span></p>
<p><span class="c1">AIML Map</span><span>&nbsp;- a function that
computes a member of one AIML Set from another.</span></p>
<p><span class="c1">AIML Set</span><span>&nbsp;- a collection of
strings (words and phrases) that can be matched in an
input.</span></p>
<p><span class="c1">Bot</span><span>&nbsp;- a collection of AIML
files, configuration files, and AIML Sets and Maps, serving
conversational requests in an AIML interpreter.</span></p>
<p><span class="c1">Bot property</span><span>&nbsp;- a global
constant value for a bot.</span></p>
<p><span class="c1">Botmaster</span><span>&nbsp;- the author of an
AIML bot.</span></p>
<p><span class="c1">Category</span><span>&nbsp;- The basic unit of
knowledge in AIML, consisting of an input pattern, response
template and optionally a that pattern and topic
pattern.</span></p>
<p><span class="c1">Client</span><span>&nbsp;- a person (or other
program) chatting with a bot.</span></p>
<p><span class="c1">Default category</span><span>&nbsp;- a category
with a pattern containing a wildcard.</span></p>
<p><span class="c1">Depth-first Search</span><span>&nbsp;- The
method of searching the Graphmaster for a match (see</span>
<span class="c22"><a class="c15" href=
"https://www.google.com/url?q=http://en.wikipedia.org/wiki/Depth-first_search&amp;sa=D&amp;ust=1455276582256000&amp;usg=AFQjCNFYc7076Ktsjvtd24Wed2E7b6K7oA">
http://en.wikipedia.org/wiki/Depth-first_search</a></span><span>).</span></p>
<p><span class="c1">Duplicate categories</span><span>&nbsp;- a pair
of categories with the same input pattern, that pattern and topic
pattern (but not necessarily the same template).</span></p>
<p><span class="c1">Graphmaster</span><span>&nbsp;- the object
storing the AIML categories in a tree, where each category is
uniquely identified by a path from the root to a leaf node.
&nbsp;</span></p>
<p><span class="c1">Input</span><span>&nbsp;- A single sentence
transmitted to the bot.</span></p>
<p><span class="c1">Input path</span><span>&nbsp;- A sequence
formed by combining an input sentence, the robot’s last reply
(“that”) and the topic.</span></p>
<p><span class="c1">Knowledge Base</span> <span>- another name for
the bot’s AIML files.</span></p>
<p><span class="c1">Map</span><span>&nbsp;- see AIML Map</span></p>
<p><span class="c1">Normalization</span> <span>- a process that
applies a series of substitutions to an input to put it into a
standard format for AIML pattern matching. &nbsp; Typically
normalization removes punctuation, corrects some spelling mistakes,
and expands contractions.</span></p>
<p><span class="c1">One+ wildcard</span><span>&nbsp;- a wildcard
that can match one or more words.</span></p>
<p><span class="c1">Out-of-Band (OOB)</span><span>&nbsp;- XML
embedded in the AIML response that is not interpreted by the AIML
Interpreter, but passed through to a secondary process that takes
some action based on the OOB command. &nbsp;</span></p>
<p><span class="c1">Pattern Path</span><span>&nbsp;- a sequence
formed by combining an input pattern, that pattern and topic
pattern.</span></p>
<p><span class="c1">Predicate</span><span>&nbsp;- a variable
specific to a client.</span></p>
<p><span class="c1">Recursion</span><span>&nbsp;- another name for
reduction.</span></p>
<p><span class="c1">Reduction</span><span>&nbsp;- An operation
using the AIML &lt;srai&gt; tag that simplifies, translates,
rewrites, or reduces the input into another form, and then sends
that form back to the Graphmaster to match another AIML
category.</span></p>
<p><span class="c1">Set</span> <span>- see AIML set.</span></p>
<p><span class="c1">Symbolic reduction</span> <span>- another name
for reduction.</span></p>
<p><span class="c1">Tag</span><span>&nbsp;- an XML symbol denoting
the beginning and end of an XML expression.</span></p>
<p><span class="c1">Template</span><span>&nbsp;- the response part
of an AIML category. &nbsp;The template consists of text and AIML
markup.</span></p>
<p><span class="c1">That</span><span>&nbsp;- The last sentence of
the robot’s last reply.</span></p>
<p><span class="c1">Topic</span><span>&nbsp;- A global state
variable that may be set in a template, and used to control
category matching.</span></p>
<p><span class="c1">Ultimate Default Category</span><span>&nbsp;-
The AIML category containing a pattern with the wildcard * by
itself, meaning that this category matches no words in the input.
&nbsp;The UDC is the category of last resort.</span></p>
<p><span class="c1">Wildcard</span><span>&nbsp;- a symbol in an
AIML pattern expression can match any words in the
input.</span></p>
<p><span class="c1">XML</span><span>&nbsp;-</span> <span class=
"c22"><a class="c15" href=
"https://www.google.com/url?q=http://en.wikipedia.org/wiki/XML&amp;sa=D&amp;ust=1455276582265000&amp;usg=AFQjCNH8wrmhbwWd2vNDcsNClPWIgP5n5A">
http://en.wikipedia.org/wiki/XML</a></span></p>
<p><span class="c1">Zero+ Wildcard</span> <span>- a wildcard that
can match zero or more words.</span></p>
<div>
<p class="c39 c44"></p>
</div>
</div>
<div id="footer"><span>Publié par <a target="_blank" title=
"Learn more about Google Drive" href=
"//docs.google.com/">Google&nbsp;Drive</a></span><span class=
"dash">–</span><a href=
"//docs.google.com/abuse?id=1wNT25hJRyupcG51aO89UcQEiG-HkXRXusukADpFnDs4">Signaler
un cas d'utilisation abusive</a> <span class=
"dash">–</span><span>Mise à jour automatique effectuée toutes les
5&nbsp;minutes</span></div>
<script type="text/javascript">
(function(){if(window.jstiming){window.jstiming.a={};window.jstiming.b=1;var f=function(b,a,d){var c=b.t[a],e=b.t.start;if(c&&(e||d))return c=b.t[a][0],void 0!=d?e=d:e=e[0],Math.round(c-e)},m=function(b,a,d){var c="";window.jstiming.srt&&(c+="&srt="+window.jstiming.srt,delete window.jstiming.srt);window.jstiming.pt&&(c+="&tbsrt="+window.jstiming.pt,delete window.jstiming.pt);try{window.external&&window.external.tran?c+="&tran="+window.external.tran:window.gtbExternal&&window.gtbExternal.tran?c+="&tran="+window.gtbExternal.tran():
window.chrome&&window.chrome.csi&&(c+="&tran="+window.chrome.csi().tran)}catch(t){}var e=window.chrome;if(e&&(e=e.loadTimes)){e().wasFetchedViaSpdy&&(c+="&p=s");if(e().wasNpnNegotiated){var c=c+"&npn=1",g=e().npnNegotiatedProtocol;g&&(c+="&npnv="+(encodeURIComponent||escape)(g))}e().wasAlternateProtocolAvailable&&(c+="&apa=1")}var k=b.t,r=k.start,e=[],g=[],h;for(h in k)if("start"!=h&&0!=h.indexOf("_")){var l=k[h][1];l?k[l]&&g.push(h+"."+f(b,h,k[l][0])):r&&e.push(h+"."+f(b,h))}delete k.start;if(a)for(var n in a)c+=
"&"+n+"="+a[n];(a=d)||(a="https:"==document.location.protocol?"https://csi.gstatic.com/csi":"http://csi.gstatic.com/csi");return[a,"?v=3","&s="+(window.jstiming.sn||"_s")+"&action=",b.name,g.length?"&it="+g.join(","):"",c,"&rt=",e.join(",")].join("")};window.jstiming.getReportUri=m;var p=function(b,a,d){b=m(b,a,d);if(!b)return"";a=new Image;var c=window.jstiming.b++;window.jstiming.a[c]=a;a.onload=a.onerror=function(){window.jstiming&&delete window.jstiming.a[c]};a.src=b;a=null;return b};window.jstiming.report=
function(b,a,d){if("prerender"==document.webkitVisibilityState){var c=!1,e=function(){if(!c){a?a.prerender="1":a={prerender:"1"};var g;"prerender"==document.webkitVisibilityState?g=!1:(p(b,a,d),g=!0);g&&(c=!0,document.removeEventListener("webkitvisibilitychange",e,!1))}};document.addEventListener("webkitvisibilitychange",e,!1);return""}return p(b,a,d)};window.jstiming.reportDone=function(b){if(window.jstiming.b<=(b||1))return!1;for(var a in window.jstiming.a)return!1;return!0};var q=function(b,a,
d,c){return 0<d?(c?b.tick(a,c,d):b.tick(a,"",d),!0):!1};window.jstiming.getNavTiming=function(b){if(window.performance&&window.performance.timing){var a=window.performance.timing;q(b,"_dns",a.domainLookupStart)&&q(b,"dns_",a.domainLookupEnd,"_dns");q(b,"_con",a.connectStart)&&q(b,"con_",a.connectEnd,"_con");q(b,"_req",a.requestStart)&&q(b,"req_",a.responseStart,"_req");q(b,"_rcv",a.responseStart)&&q(b,"rcv_",a.responseEnd,"_rcv");if(q(b,"_ns",a.navigationStart)){q(b,"ntsrt_",a.responseStart,"_ns");
q(b,"nsfs_",a.fetchStart,"_ns");var d=!1;try{d=window.external&&window.external.startE}catch(c){}!d&&window.chrome&&window.chrome.csi&&(d=Math.floor(window.chrome.csi().startE));d&&(q(b,"_se",d),q(b,"sens_",a.navigationStart,"_se"));q(b,"ntplt0_",a.loadEventStart,"_ns");q(b,"ntplt1_",a.loadEventEnd,"_ns")}}}};})()
</script> 
<script type="text/javascript">
KX_timer.tick('tl'); if (document.location.protocol == 'https:') {window.jstiming.report(KX_timer, undefined , 'https://gg.google.com/csi');} else {window.jstiming.report(KX_timer);}
</script>
<script type="text/javascript">
(function() { var h=this;
function l(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function aa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function m(a,b){function c(){}c.prototype=b.prototype;a.m=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.u=function(a,c,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[c].apply(a,g)}};function q(){this.b=this.b;this.a=this.a}q.prototype.b=!1;q.prototype.l=function(){this.b||(this.b=!0,this.g())};q.prototype.g=function(){if(this.a)for(;this.a.length;)this.a.shift()()};function ba(a){a&&"function"==typeof a.l&&a.l()};var r=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},ca=/&/g,da=/<\/g,ea=/>/g,fa=/"/g,ga=/'/g,ha=/\x00/g,ia=/[\x00&<>"']/;function t(a,b){return a<b?-1:a>b?1:0};var ja=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if("string"==typeof a)return"string"==typeof b&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function ka(a,b,c){for(var d in a)b.call(c,a[d],d,a)};var u;a:{var v=h.navigator;if(v){var y=v.userAgent;if(y){u=y;break a}}u=""}function z(a){return-1!=u.indexOf(a)};function A(){this.a=B}var B={};function C(){this.a="";this.b=D}var D={};function E(a){var b=new C;b.a=a;return b}E("<!DOCTYPE html>");E("");E("<br>");var F=z("Opera")||z("OPR"),G=z("Trident")||z("MSIE"),H=z("Edge"),la=H||G,I=z("Gecko")&&!(-1!=u.toLowerCase().indexOf("webkit")&&!z("Edge"))&&!(z("Trident")||z("MSIE"))&&!z("Edge"),J=-1!=u.toLowerCase().indexOf("webkit")&&!z("Edge"),ma=z("Macintosh");function na(){var a=u;if(I)return/rv\:([^\);]+)(\)|;)/.exec(a);if(H)return/Edge\/([\d\.]+)/.exec(a);if(G)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(J)return/WebKit\/(\S+)/.exec(a)}function K(){var a=h.document;return a?a.documentMode:void 0}
var L=function(){if(F&&h.opera){var a;var b=h.opera.version;try{a=b()}catch(c){a=b}return a}a="";(b=na())&&(a=b?b[1]:"");return G&&(b=K(),null!=b&&b>parseFloat(a))?String(b):a}(),oa={};
function M(a){var b;if(!(b=oa[a])){b=0;for(var c=r(String(L)).split("."),d=r(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"",w=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var n=w.exec(g)||["","",""],x=p.exec(k)||["","",""];if(0==n[0].length&&0==x[0].length)break;b=t(0==n[1].length?0:parseInt(n[1],10),0==x[1].length?0:parseInt(x[1],10))||t(0==n[2].length,0==x[2].length)||t(n[2],x[2])}while(0==b)}b=oa[a]=0<=b}return b}
var pa=h.document,N=pa&&G?K()||("CSS1Compat"==pa.compatMode?parseInt(L,10):5):void 0;!I&&!G||G&&9<=+N||I&&M("1.9.1");G&&M("9");function O(a){O[" "](a);return a}O[" "]=function(){};var qa=!G||9<=+N,ra=!G||9<=+N,sa=G&&!M("9");!J||M("528");I&&M("1.9b")||G&&M("8")||F&&M("9.5")||J&&M("528");I&&!M("8")||G&&M("9");function P(a,b){this.type=a;this.a=this.target=b;this.f=!1}P.prototype.c=function(){this.f=!0};function Q(a,b){P.call(this,a?a.type:"");this.a=this.target=null;this.g=!1;this.b=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.a=b;var c=a.relatedTarget;if(c&&I)try{O(c.nodeName)}catch(d){}this.g=a.ctrlKey;this.b=a;a.defaultPrevented&&this.c()}}m(Q,P);var ta=[1,4,2];Q.prototype.c=function(){Q.m.c.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,sa)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var ua="closure_listenable_"+(1E6*Math.random()|0),va=0;function wa(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.j=!!d;this.b=e;this.o=++va;this.h=this.i=!1}function xa(a){a.h=!0;a.listener=null;a.a=null;a.src=null;a.b=null};function ya(a){this.src=a;this.a={};this.b=0};var R="closure_lm_"+(1E6*Math.random()|0),S={},za=0;
function Aa(a,b,c,d,e){if("array"==l(b)){for(var f=0;f<b.length;f++)Aa(a,b[f],c,d,e);return null}c=Ba(c);if(a&&a[ua])a=Ca(a,b,c,d,e);else{f=c;if(!b)throw Error("Invalid event type");c=!!d;var g=T(a);g||(a[R]=g=new ya(a));var k=g,w=b.toString(),g=k.a[w];g||(g=k.a[w]=[],k.b++);var p;b:{for(p=0;p<g.length;++p){var n=g[p];if(!n.h&&n.listener==f&&n.j==!!d&&n.b==e)break b}p=-1}-1<p?(d=g[p],d.i=!1):(d=new wa(f,k.src,w,!!d,e),d.i=!1,g.push(d));if(!d.a){e=Da();d.a=e;e.src=a;e.listener=d;if(a.addEventListener)a.addEventListener(b.toString(),
e,c);else if(a.attachEvent)a.attachEvent(Ea(b.toString()),e);else throw Error("addEventListener and attachEvent are unavailable.");za++}a=d}return a}function Da(){var a=Fa,b=ra?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}
function Ga(a){if("number"!=typeof a&&a&&!a.h){var b=a.src;if(b&&b[ua])b.a(a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.j):b.detachEvent&&b.detachEvent(Ea(c),d);za--;if(c=T(b)){var d=a.type,e;if(e=d in c.a){e=c.a[d];var f=ja(e,a),g;(g=0<=f)&&Array.prototype.splice.call(e,f,1);e=g}e&&(xa(a),0==c.a[d].length&&(delete c.a[d],c.b--));0==c.b&&(c.src=null,b[R]=null)}else xa(a)}}}function Ea(a){return a in S?S[a]:S[a]="on"+a}
function Ha(a,b,c,d){var e=!0;if(a=T(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.j==c&&!f.h&&(f=Ia(f,d),e=e&&!1!==f)}return e}function Ia(a,b){var c=a.listener,d=a.b||a.src;a.i&&Ga(a);return c.call(d,b)}
function Fa(a,b){if(a.h)return!0;if(!ra){var c;if(!(c=b))a:{c=["window","event"];for(var d=h,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Q(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(w){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.a;f;f=f.parentNode)e.push(f);for(var f=a.type,g=e.length-1;0<=g;g--){c.a=e[g];var k=Ha(e[g],f,!0,c),d=d&&k}for(g=0;g<e.length;g++)c.a=e[g],k=Ha(e[g],f,!1,c),
d=d&&k}return d}return Ia(a,new Q(b,this))}function T(a){a=a[R];return a instanceof ya?a:null}var U="__closure_events_fn_"+(1E9*Math.random()>>>0);function Ba(a){if("function"==l(a))return a;a[U]||(a[U]=function(b){return a.handleEvent(b)});return a[U]};function V(a){q.call(this);this.f=a;this.c={}}m(V,q);var Ja=[];function Ca(a,b,c,d,e){"array"!=l(c)&&(c&&(Ja[0]=c.toString()),c=Ja);for(var f=0;f<c.length;f++){var g=Aa(b,c[f],d||a.handleEvent,e||!1,a.f||a);if(!g)break;a.c[g.o]=g}return a}function Ka(a){ka(a.c,function(a,c){this.c.hasOwnProperty(c)&&Ga(a)},a);a.c={}}V.prototype.g=function(){V.m.g.call(this);Ka(this)};V.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var La=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Ma(a){return a?decodeURI(a):a}var Na=/#|$/;
function Oa(a,b){var c=a.search(Na),d;a:{d=0;for(var e=b.length;0<=(d=a.indexOf(b,d))&&d<c;){var f=a.charCodeAt(d-1);if(38==f||63==f)if(f=a.charCodeAt(d+e),!f||61==f||38==f||35==f)break a;d+=e+1}d=-1}if(0>d)return null;e=a.indexOf("&",d);if(0>e||e>c)e=c;d+=b.length+1;return decodeURIComponent(a.substr(d,e-d).replace(/\+/g," "))};function W(a){q.call(this);this.c=a||document.body;this.f=new V(this);a=aa(ba,this.f);this.b?a.call(void 0):(this.a||(this.a=[]),this.a.push(a));Ca(this.f,this.c,"click",this.s,void 0)}m(W,q);
W.prototype.s=function(a){if((qa?0==a.b.button:"click"==a.type||a.b.button&ta[0])&&!(J&&ma&&a.g)&&!a.f)for(var b=a.target;b&&b!=this.c;){if(b.tagName&&"a"==b.tagName.toLowerCase()){var c=b.getAttribute("href")||b.getAttributeNS("http://www.w3.org/1999/xlink","href"),d,e=d=c;try{"www.google.com"==Ma(d.match(La)[3]||null)&&"/url"==Ma(d.match(La)[5]||null)&&(e=Oa(d,"q")||Oa(d,"url"))}catch(k){}d=e?e:"";if(c!=d){e=d;c={target:"_blank",noreferrer:!0};b=window;d=void 0;e instanceof A?d=e instanceof A&&
e.constructor===A&&e.a===B?"":"type_error:SafeUrl":d="undefined"!=typeof e.href?e.href:String(e);var e=c.target||e.target,f=[],g=void 0;for(g in c)switch(g){case "width":case "height":case "top":case "left":f.push(g+"="+c[g]);break;case "target":case "noreferrer":break;default:f.push(g+"="+(c[g]?1:0))}g=f.join(",");f=void 0;if((z("iPhone")&&!z("iPod")&&!z("iPad")||z("iPad")||z("iPod"))&&b.navigator&&b.navigator.standalone&&e&&"_self"!=e)f=b.document.createElement("A"),f.setAttribute("href",d),f.setAttribute("target",
e),c.noreferrer&&f.setAttribute("rel","noreferrer"),c=document.createEvent("MouseEvent"),c.initMouseEvent("click",!0,!0,b,1),f.dispatchEvent(c);else if(c.noreferrer){if(f=b.open("",e,g))la&&-1!=d.indexOf(";")&&(d="'"+d.replace(/'/g,"%27")+"'"),f.opener=null,b=d,ia.test(b)&&(-1!=b.indexOf("&")&&(b=b.replace(ca,"&amp;")),-1!=b.indexOf("<")&&(b=b.replace(da,"&lt;")),-1!=b.indexOf(">")&&(b=b.replace(ea,"&gt;")),-1!=b.indexOf('"')&&(b=b.replace(fa,"&quot;")),-1!=b.indexOf("'")&&(b=b.replace(ga,"&#39;")),
-1!=b.indexOf("\x00")&&(b=b.replace(ha,"&#0;"))),b=E('<META HTTP-EQUIV="refresh" content="0; url='+b+'">'),f.document.write(b instanceof C&&b.constructor===C&&b.b===D?b.a:"type_error:SafeHtml"),f.document.close()}else b.open(d,e,g);a.c();break}}b=b.parentNode}};function Pa(a){new W(a)}var X=["DOCS_installLinkReferrerSanitizer"],Y=h;X[0]in Y||!Y.execScript||Y.execScript("var "+X[0]);for(var Z;X.length&&(Z=X.shift());)X.length||void 0===Pa?Y[Z]?Y=Y[Z]:Y=Y[Z]={}:Y[Z]=Pa; })()
</script> 
<script type="text/javascript">
DOCS_installLinkReferrerSanitizer();
</script>
</body>
</html>
